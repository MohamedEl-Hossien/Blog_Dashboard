var Yb=t=>{throw TypeError(t)};var Hp=(t,e,i)=>e.has(t)||Yb("Cannot "+i);var C=(t,e,i)=>(Hp(t,e,"read from private field"),i?i.call(t):e.get(t)),ge=(t,e,i)=>e.has(t)?Yb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),ae=(t,e,i,s)=>(Hp(t,e,"write to private field"),s?s.call(t,i):e.set(t,i),i),De=(t,e,i)=>(Hp(t,e,"access private method"),i);var sf=(t,e,i,s)=>({set _(l){ae(t,e,l,i)},get _(){return C(t,e,s)}});function dS(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function pS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bp={exports:{}},qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function LA(){if(Qb)return qo;Qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:c,ref:l!==void 0?l:null,props:u}}return qo.Fragment=e,qo.jsx=i,qo.jsxs=i,qo}var Kb;function UA(){return Kb||(Kb=1,Bp.exports=LA()),Bp.exports}var N=UA(),qp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function kA(){if(Wb)return Oe;Wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function M(w,G,te){this.props=w,this.context=G,this.refs=U,this.updater=te||T}M.prototype.isReactComponent={},M.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},M.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=M.prototype;function F(w,G,te){this.props=w,this.context=G,this.refs=U,this.updater=te||T}var X=F.prototype=new W;X.constructor=F,O(X,M.prototype),X.isPureReactComponent=!0;var Q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function L(w,G,te,J,de,Re){return te=Re.ref,{$$typeof:t,type:w,key:G,ref:te!==void 0?te:null,props:Re}}function Z(w,G){return L(w.type,G,void 0,void 0,void 0,w.props)}function ee(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function se(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return G[te]})}var je=/\/+/g;function we(w,G){return typeof w=="object"&&w!==null&&w.key!=null?se(""+w.key):G.toString(36)}function ot(){}function _t(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ot,ot):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ut(w,G,te,J,de){var Re=typeof w;(Re==="undefined"||Re==="boolean")&&(w=null);var _e=!1;if(w===null)_e=!0;else switch(Re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(w.$$typeof){case t:case e:_e=!0;break;case y:return _e=w._init,ut(_e(w._payload),G,te,J,de)}}if(_e)return de=de(w),_e=J===""?"."+we(w,0):J,Q(de)?(te="",_e!=null&&(te=_e.replace(je,"$&/")+"/"),ut(de,G,te,"",function(si){return si})):de!=null&&(ee(de)&&(de=Z(de,te+(de.key==null||w&&w.key===de.key?"":(""+de.key).replace(je,"$&/")+"/")+_e)),G.push(de)),1;_e=0;var Tt=J===""?".":J+":";if(Q(w))for(var Xe=0;Xe<w.length;Xe++)J=w[Xe],Re=Tt+we(J,Xe),_e+=ut(J,G,te,Re,de);else if(Xe=b(w),typeof Xe=="function")for(w=Xe.call(w),Xe=0;!(J=w.next()).done;)J=J.value,Re=Tt+we(J,Xe++),_e+=ut(J,G,te,Re,de);else if(Re==="object"){if(typeof w.then=="function")return ut(_t(w),G,te,J,de);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(w,G,te){if(w==null)return w;var J=[],de=0;return ut(w,J,"","",function(Re){return G.call(te,Re,de++)}),J}function ie(w){if(w._status===-1){var G=w._result;G=G(),G.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var le=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ve(){}return Oe.Children={map:H,forEach:function(w,G,te){H(w,function(){G.apply(this,arguments)},te)},count:function(w){var G=0;return H(w,function(){G++}),G},toArray:function(w){return H(w,function(G){return G})||[]},only:function(w){if(!ee(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Oe.Component=M,Oe.Fragment=i,Oe.Profiler=l,Oe.PureComponent=F,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Y.H.useMemoCache(w)}},Oe.cache=function(w){return function(){return w.apply(null,arguments)}},Oe.cloneElement=function(w,G,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=O({},w.props),de=w.key,Re=void 0;if(G!=null)for(_e in G.ref!==void 0&&(Re=void 0),G.key!==void 0&&(de=""+G.key),G)!ue.call(G,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&G.ref===void 0||(J[_e]=G[_e]);var _e=arguments.length-2;if(_e===1)J.children=te;else if(1<_e){for(var Tt=Array(_e),Xe=0;Xe<_e;Xe++)Tt[Xe]=arguments[Xe+2];J.children=Tt}return L(w.type,de,void 0,void 0,Re,J)},Oe.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Oe.createElement=function(w,G,te){var J,de={},Re=null;if(G!=null)for(J in G.key!==void 0&&(Re=""+G.key),G)ue.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(de[J]=G[J]);var _e=arguments.length-2;if(_e===1)de.children=te;else if(1<_e){for(var Tt=Array(_e),Xe=0;Xe<_e;Xe++)Tt[Xe]=arguments[Xe+2];de.children=Tt}if(w&&w.defaultProps)for(J in _e=w.defaultProps,_e)de[J]===void 0&&(de[J]=_e[J]);return L(w,Re,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(w){return{$$typeof:d,render:w}},Oe.isValidElement=ee,Oe.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ie}},Oe.memo=function(w,G){return{$$typeof:m,type:w,compare:G===void 0?null:G}},Oe.startTransition=function(w){var G=Y.T,te={};Y.T=te;try{var J=w(),de=Y.S;de!==null&&de(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ve,le)}catch(Re){le(Re)}finally{Y.T=G}},Oe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Oe.use=function(w){return Y.H.use(w)},Oe.useActionState=function(w,G,te){return Y.H.useActionState(w,G,te)},Oe.useCallback=function(w,G){return Y.H.useCallback(w,G)},Oe.useContext=function(w){return Y.H.useContext(w)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(w,G){return Y.H.useDeferredValue(w,G)},Oe.useEffect=function(w,G,te){var J=Y.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(w,G)},Oe.useId=function(){return Y.H.useId()},Oe.useImperativeHandle=function(w,G,te){return Y.H.useImperativeHandle(w,G,te)},Oe.useInsertionEffect=function(w,G){return Y.H.useInsertionEffect(w,G)},Oe.useLayoutEffect=function(w,G){return Y.H.useLayoutEffect(w,G)},Oe.useMemo=function(w,G){return Y.H.useMemo(w,G)},Oe.useOptimistic=function(w,G){return Y.H.useOptimistic(w,G)},Oe.useReducer=function(w,G,te){return Y.H.useReducer(w,G,te)},Oe.useRef=function(w){return Y.H.useRef(w)},Oe.useState=function(w){return Y.H.useState(w)},Oe.useSyncExternalStore=function(w,G,te){return Y.H.useSyncExternalStore(w,G,te)},Oe.useTransition=function(){return Y.H.useTransition()},Oe.version="19.1.0",Oe}var Xb;function rh(){return Xb||(Xb=1,qp.exports=kA()),qp.exports}var j=rh();const PA=pS(j),zA=dS({__proto__:null,default:PA},[j]);var Fp={exports:{}},Fo={},Vp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function jA(){return Zb||(Zb=1,function(t){function e(H,ie){var le=H.length;H.push(ie);e:for(;0<le;){var Ve=le-1>>>1,w=H[Ve];if(0<l(w,ie))H[Ve]=ie,H[le]=w,le=Ve;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ie=H[0],le=H.pop();if(le!==ie){H[0]=le;e:for(var Ve=0,w=H.length,G=w>>>1;Ve<G;){var te=2*(Ve+1)-1,J=H[te],de=te+1,Re=H[de];if(0>l(J,le))de<w&&0>l(Re,J)?(H[Ve]=Re,H[de]=le,Ve=de):(H[Ve]=J,H[te]=le,Ve=te);else if(de<w&&0>l(Re,le))H[Ve]=Re,H[de]=le,Ve=de;else break e}}return ie}function l(H,ie){var le=H.sortIndex-ie.sortIndex;return le!==0?le:H.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,_=null,b=3,T=!1,O=!1,U=!1,M=!1,W=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Q(H){for(var ie=i(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=H)s(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(m)}}function Y(H){if(U=!1,Q(H),!O)if(i(p)!==null)O=!0,ue||(ue=!0,we());else{var ie=i(m);ie!==null&&ut(Y,ie.startTime-H)}}var ue=!1,L=-1,Z=5,ee=-1;function se(){return M?!0:!(t.unstable_now()-ee<Z)}function je(){if(M=!1,ue){var H=t.unstable_now();ee=H;var ie=!0;try{e:{O=!1,U&&(U=!1,F(L),L=-1),T=!0;var le=b;try{t:{for(Q(H),_=i(p);_!==null&&!(_.expirationTime>H&&se());){var Ve=_.callback;if(typeof Ve=="function"){_.callback=null,b=_.priorityLevel;var w=Ve(_.expirationTime<=H);if(H=t.unstable_now(),typeof w=="function"){_.callback=w,Q(H),ie=!0;break t}_===i(p)&&s(p),Q(H)}else s(p);_=i(p)}if(_!==null)ie=!0;else{var G=i(m);G!==null&&ut(Y,G.startTime-H),ie=!1}}break e}finally{_=null,b=le,T=!1}ie=void 0}}finally{ie?we():ue=!1}}}var we;if(typeof X=="function")we=function(){X(je)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,_t=ot.port2;ot.port1.onmessage=je,we=function(){_t.postMessage(null)}}else we=function(){W(je,0)};function ut(H,ie){L=W(function(){H(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var le=b;b=ie;try{return H()}finally{b=le}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=b;b=H;try{return ie()}finally{b=le}},t.unstable_scheduleCallback=function(H,ie,le){var Ve=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ve+le:Ve):le=Ve,H){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=le+w,H={id:y++,callback:ie,priorityLevel:H,startTime:le,expirationTime:w,sortIndex:-1},le>Ve?(H.sortIndex=le,e(m,H),i(p)===null&&H===i(m)&&(U?(F(L),L=-1):U=!0,ut(Y,le-Ve))):(H.sortIndex=w,e(p,H),O||T||(O=!0,ue||(ue=!0,we()))),H},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(H){var ie=b;return function(){var le=b;b=ie;try{return H.apply(this,arguments)}finally{b=le}}}}(Gp)),Gp}var $b;function HA(){return $b||($b=1,Vp.exports=jA()),Vp.exports}var Yp={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function BA(){if(Jb)return Kt;Jb=1;var t=rh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,y)},Kt.flushSync=function(p){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=y,s.d.f()}},Kt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Kt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,m){return p(m)},Kt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var eE;function mS(){if(eE)return Yp.exports;eE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=BA(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function qA(){if(tE)return Fo;tE=1;var t=HA(),e=rh(),i=mS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,o=r;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return d(f),n;if(h===o)return d(f),r;h=h.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=h;else{for(var g=!1,v=f.child;v;){if(v===a){g=!0,a=f,o=h;break}if(v===o){g=!0,o=f,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=f;break}if(v===o){g=!0,o=h,a=f;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function m(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=m(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function we(n){return n===null||typeof n!="object"?null:(n=je&&n[je]||n["@@iterator"],typeof n=="function"?n:null)}var ot=Symbol.for("react.client.reference");function _t(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ot?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case M:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case ue:return"SuspenseList";case ee:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case X:return(n.displayName||"Context")+".Provider";case F:return(n._context.displayName||"Context")+".Consumer";case Q:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return r=n.displayName||null,r!==null?r:_t(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return _t(n(r))}catch{}}return null}var ut=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ve=[],w=-1;function G(n){return{current:n}}function te(n){0>w||(n.current=Ve[w],Ve[w]=null,w--)}function J(n,r){w++,Ve[w]=n.current,n.current=r}var de=G(null),Re=G(null),_e=G(null),Tt=G(null);function Xe(n,r){switch(J(_e,r),J(Re,n),J(de,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?bb(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=bb(r),n=Eb(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(de),J(de,n)}function si(){te(de),te(Re),te(_e)}function Vl(n){n.memoizedState!==null&&J(Tt,n);var r=de.current,a=Eb(r,n.type);r!==a&&(J(Re,n),J(de,a))}function ya(n){Re.current===n&&(te(de),te(Re)),Tt.current===n&&(te(Tt),Po._currentValue=le)}var Dt=Object.prototype.hasOwnProperty,ai=t.unstable_scheduleCallback,va=t.unstable_cancelCallback,Mh=t.unstable_shouldYield,Ci=t.unstable_requestPaint,Dn=t.unstable_now,xh=t.unstable_getCurrentPriorityLevel,Gl=t.unstable_ImmediatePriority,Vu=t.unstable_UserBlockingPriority,ba=t.unstable_NormalPriority,Ih=t.unstable_LowPriority,Gu=t.unstable_IdlePriority,wi=t.log,ps=t.unstable_setDisableYieldValue,cr=null,Bt=null;function qt(n){if(typeof wi=="function"&&ps(n),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(cr,n)}catch{}}var mt=Math.clz32?Math.clz32:Lh,Yu=Math.log,Ea=Math.LN2;function Lh(n){return n>>>=0,n===0?32:31-(Yu(n)/Ea|0)|0}var gn=256,ms=4194304;function li(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gs(n,r,a){var o=n.pendingLanes;if(o===0)return 0;var f=0,h=n.suspendedLanes,g=n.pingedLanes;n=n.warmLanes;var v=o&134217727;return v!==0?(o=v&~h,o!==0?f=li(o):(g&=v,g!==0?f=li(g):a||(a=v&~n,a!==0&&(f=li(a))))):(v=o&~h,v!==0?f=li(v):g!==0?f=li(g):a||(a=o&~n,a!==0&&(f=li(a)))),f===0?0:r!==0&&r!==f&&(r&h)===0&&(h=f&-f,a=r&-r,h>=a||h===32&&(a&4194048)!==0)?r:f}function _s(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Qu(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var n=gn;return gn<<=1,(gn&4194048)===0&&(gn=256),n}function Yl(){var n=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),n}function vs(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ri(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uh(n,r,a,o,f,h){var g=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var v=n.entanglements,E=n.expirationTimes,I=n.hiddenUpdates;for(a=g&~a;0<a;){var B=31-mt(a),V=1<<B;v[B]=0,E[B]=-1;var k=I[B];if(k!==null)for(I[B]=null,B=0;B<k.length;B++){var P=k[B];P!==null&&(P.lane&=-536870913)}a&=~V}o!==0&&Ql(n,o,0),h!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=h&~(g&~r))}function Ql(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var o=31-mt(r);n.entangledLanes|=r,n.entanglements[o]=n.entanglements[o]|1073741824|a&4194090}function Ku(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var o=31-mt(a),f=1<<o;f&r|n[o]&r&&(n[o]|=r),a&=~f}}function Sa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bs(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:Hb(n.type))}function kh(n,r){var a=ie.p;try{return ie.p=n,r()}finally{ie.p=a}}var oi=Math.random().toString(36).slice(2),S="__reactFiber$"+oi,A="__reactProps$"+oi,z="__reactContainer$"+oi,K="__reactEvents$"+oi,ne="__reactListeners$"+oi,me="__reactHandles$"+oi,be="__reactResources$"+oi,oe="__reactMarker$"+oi;function ce(n){delete n[S],delete n[A],delete n[K],delete n[ne],delete n[me]}function re(n){var r=n[S];if(r)return r;for(var a=n.parentNode;a;){if(r=a[z]||a[S]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=wb(n);n!==null;){if(a=n[S])return a;n=wb(n)}return r}n=a,a=n.parentNode}return null}function fe(n){if(n=n[S]||n[z]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ce(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ae(n){var r=n[be];return r||(r=n[be]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pe(n){n[oe]=!0}var Ze=new Set,qe={};function Ke(n,r){_n(n,r),_n(n+"Capture",r)}function _n(n,r){for(qe[n]=r,n=0;n<r.length;n++)Ze.add(r[n])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nn={},yn={};function Kl(n){return Dt.call(yn,n)?!0:Dt.call(Nn,n)?!1:Es.test(n)?yn[n]=!0:(Nn[n]=!0,!1)}function ui(n,r,a){if(Kl(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Mn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function sn(n,r,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+o)}}var hr,He;function $e(n){if(hr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);hr=r&&r[1]||"",He=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+n+He}var ci=!1;function Ai(n,r){if(!n||ci)return"";ci=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(P){var k=P}Reflect.construct(n,[],V)}else{try{V.call()}catch(P){k=P}n.call(V.prototype)}}else{try{throw Error()}catch(P){k=P}(V=n())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var E=g.split(`
`),I=v.split(`
`);for(f=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===E.length||f===I.length)for(o=E.length-1,f=I.length-1;1<=o&&0<=f&&E[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(E[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||E[o]!==I[f]){var B=`
`+E[o].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=o&&0<=f);break}}}finally{ci=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?$e(a):""}function yt(n){switch(n.tag){case 26:case 27:case 5:return $e(n.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ai(n.type,!1);case 11:return Ai(n.type.render,!1);case 1:return Ai(n.type,!0);case 31:return $e("Activity");default:return""}}function Oi(n){try{var r="";do r+=yt(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dw(n){var r=Wu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),o=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Xu(n){n._valueTracker||(n._valueTracker=Dw(n))}function g_(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return n&&(o=Wu(n)?n.checked?"true":"false":n.value),n=o,n!==a?(r.setValue(n),!0):!1}function Zu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nw=/[\n"\\]/g;function xn(n){return n.replace(Nw,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ph(n,r,a,o,f,h,g,v){n.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?n.type=g:n.removeAttribute("type"),r!=null?g==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Zt(r)):n.value!==""+Zt(r)&&(n.value=""+Zt(r)):g!=="submit"&&g!=="reset"||n.removeAttribute("value"),r!=null?zh(n,g,Zt(r)):a!=null?zh(n,g,Zt(a)):o!=null&&n.removeAttribute("value"),f==null&&h!=null&&(n.defaultChecked=!!h),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.name=""+Zt(v):n.removeAttribute("name")}function __(n,r,a,o,f,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(n.type=h),r!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||r!=null))return;a=a!=null?""+Zt(a):"",r=r!=null?""+Zt(r):a,v||r===n.value||(n.value=r),n.defaultValue=r}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=v?n.checked:!!o,n.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.name=g)}function zh(n,r,a){r==="number"&&Zu(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ta(n,r,a,o){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&o&&(n[a].defaultSelected=!0)}else{for(a=""+Zt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function y_(n,r,a){if(r!=null&&(r=""+Zt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Zt(a):""}function v_(n,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(ut(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Zt(r),n.defaultValue=a,o=n.textContent,o===a&&o!==""&&o!==null&&(n.value=o)}function Ca(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Mw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function b_(n,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":o?n.setProperty(r,a):typeof a!="number"||a===0||Mw.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function E_(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in r)o=r[f],r.hasOwnProperty(f)&&a[f]!==o&&b_(n,f,o)}else for(var h in r)r.hasOwnProperty(h)&&b_(n,h,r[h])}function jh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(n){return Iw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hh=null;function Bh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wa=null,Ra=null;function S_(n){var r=fe(n);if(r&&(n=r.stateNode)){var a=n[A]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ph(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==n&&o.form===n.form){var f=o[A]||null;if(!f)throw Error(s(90));Ph(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===n.form&&g_(o)}break e;case"textarea":y_(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ta(n,!!a.multiple,r,!1)}}}var qh=!1;function T_(n,r,a){if(qh)return n(r,a);qh=!0;try{var o=n(r);return o}finally{if(qh=!1,(wa!==null||Ra!==null)&&(Pc(),wa&&(r=wa,n=Ra,Ra=wa=null,S_(r),n)))for(r=0;r<n.length;r++)S_(n[r])}}function Wl(n,r){var a=n.stateNode;if(a===null)return null;var o=a[A]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(Di)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Fh=!1}var dr=null,Vh=null,Ju=null;function C_(){if(Ju)return Ju;var n,r=Vh,a=r.length,o,f="value"in dr?dr.value:dr.textContent,h=f.length;for(n=0;n<a&&r[n]===f[n];n++);var g=a-n;for(o=1;o<=g&&r[a-o]===f[h-o];o++);return Ju=f.slice(n,1<o?1-o:void 0)}function ec(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function tc(){return!0}function w_(){return!1}function an(n){function r(a,o,f,h,g){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in n)n.hasOwnProperty(v)&&(a=n[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?tc:w_,this.isPropagationStopped=w_,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=an(Ss),Zl=y({},Ss,{view:0,detail:0}),Lw=an(Zl),Gh,Yh,$l,ic=y({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$l&&($l&&n.type==="mousemove"?(Gh=n.screenX-$l.screenX,Yh=n.screenY-$l.screenY):Yh=Gh=0,$l=n),Gh)},movementY:function(n){return"movementY"in n?n.movementY:Yh}}),R_=an(ic),Uw=y({},ic,{dataTransfer:0}),kw=an(Uw),Pw=y({},Zl,{relatedTarget:0}),Qh=an(Pw),zw=y({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),jw=an(zw),Hw=y({},Ss,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bw=an(Hw),qw=y({},Ss,{data:0}),A_=an(qw),Fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yw(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Gw[n])?!!r[n]:!1}function Kh(){return Yw}var Qw=y({},Zl,{key:function(n){if(n.key){var r=Fw[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ec(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(n){return n.type==="keypress"?ec(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ec(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kw=an(Qw),Ww=y({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O_=an(Ww),Xw=y({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),Zw=an(Xw),$w=y({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jw=an($w),eR=y({},ic,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=an(eR),nR=y({},Ss,{newState:0,oldState:0}),iR=an(nR),rR=[9,13,27,32],Wh=Di&&"CompositionEvent"in window,Jl=null;Di&&"documentMode"in document&&(Jl=document.documentMode);var sR=Di&&"TextEvent"in window&&!Jl,D_=Di&&(!Wh||Jl&&8<Jl&&11>=Jl),N_=" ",M_=!1;function x_(n,r){switch(n){case"keyup":return rR.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Aa=!1;function aR(n,r){switch(n){case"compositionend":return I_(r);case"keypress":return r.which!==32?null:(M_=!0,N_);case"textInput":return n=r.data,n===N_&&M_?null:n;default:return null}}function lR(n,r){if(Aa)return n==="compositionend"||!Wh&&x_(n,r)?(n=C_(),Ju=Vh=dr=null,Aa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return D_&&r.locale!=="ko"?null:r.data;default:return null}}var oR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L_(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!oR[n.type]:r==="textarea"}function U_(n,r,a,o){wa?Ra?Ra.push(o):Ra=[o]:wa=o,r=Fc(r,"onChange"),0<r.length&&(a=new nc("onChange","change",null,a,o),n.push({event:a,listeners:r}))}var eo=null,to=null;function uR(n){mb(n,0)}function rc(n){var r=Ce(n);if(g_(r))return n}function k_(n,r){if(n==="change")return r}var P_=!1;if(Di){var Xh;if(Di){var Zh="oninput"in document;if(!Zh){var z_=document.createElement("div");z_.setAttribute("oninput","return;"),Zh=typeof z_.oninput=="function"}Xh=Zh}else Xh=!1;P_=Xh&&(!document.documentMode||9<document.documentMode)}function j_(){eo&&(eo.detachEvent("onpropertychange",H_),to=eo=null)}function H_(n){if(n.propertyName==="value"&&rc(to)){var r=[];U_(r,to,n,Bh(n)),T_(uR,r)}}function cR(n,r,a){n==="focusin"?(j_(),eo=r,to=a,eo.attachEvent("onpropertychange",H_)):n==="focusout"&&j_()}function fR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(to)}function hR(n,r){if(n==="click")return rc(r)}function dR(n,r){if(n==="input"||n==="change")return rc(r)}function pR(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:pR;function no(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Dt.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function B_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function q_(n,r){var a=B_(n);n=0;for(var o;a;){if(a.nodeType===3){if(o=n+a.textContent.length,n<=r&&o>=r)return{node:a,offset:r-n};n=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=B_(a)}}function F_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?F_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function V_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Zu(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Zu(n.document)}return r}function $h(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var mR=Di&&"documentMode"in document&&11>=document.documentMode,Oa=null,Jh=null,io=null,ed=!1;function G_(n,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||Oa==null||Oa!==Zu(o)||(o=Oa,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&no(io,o)||(io=o,o=Fc(Jh,"onSelect"),0<o.length&&(r=new nc("onSelect","select",null,r,a),n.push({event:r,listeners:o}),r.target=Oa)))}function Ts(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Da={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},td={},Y_={};Di&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Cs(n){if(td[n])return td[n];if(!Da[n])return n;var r=Da[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Y_)return td[n]=r[a];return n}var Q_=Cs("animationend"),K_=Cs("animationiteration"),W_=Cs("animationstart"),gR=Cs("transitionrun"),_R=Cs("transitionstart"),yR=Cs("transitioncancel"),X_=Cs("transitionend"),Z_=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function Vn(n,r){Z_.set(n,r),Ke(r,[n])}var $_=new WeakMap;function In(n,r){if(typeof n=="object"&&n!==null){var a=$_.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Oi(r)},$_.set(n,r),r)}return{value:n,source:r,stack:Oi(r)}}var Ln=[],Na=0,id=0;function sc(){for(var n=Na,r=id=Na=0;r<n;){var a=Ln[r];Ln[r++]=null;var o=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var h=Ln[r];if(Ln[r++]=null,o!==null&&f!==null){var g=o.pending;g===null?f.next=f:(f.next=g.next,g.next=f),o.pending=f}h!==0&&J_(a,f,h)}}function ac(n,r,a,o){Ln[Na++]=n,Ln[Na++]=r,Ln[Na++]=a,Ln[Na++]=o,id|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function rd(n,r,a,o){return ac(n,r,a,o),lc(n)}function Ma(n,r){return ac(n,null,null,r),lc(n)}function J_(n,r,a){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=n.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(n=h.stateNode,n===null||n._visibility&1||(f=!0)),n=h,h=h.return;return n.tag===3?(h=n.stateNode,f&&r!==null&&(f=31-mt(a),n=h.hiddenUpdates,o=n[f],o===null?n[f]=[r]:o.push(r),r.lane=a|536870912),h):null}function lc(n){if(50<Do)throw Do=0,cp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xa={};function vR(n,r,a,o){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,a,o){return new vR(n,r,a,o)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ni(n,r){var a=n.alternate;return a===null?(a=bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ey(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function oc(n,r,a,o,f,h){var g=0;if(o=n,typeof n=="function")sd(n)&&(g=1);else if(typeof n=="string")g=EA(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ee:return n=bn(31,a,r,f),n.elementType=ee,n.lanes=h,n;case O:return ws(a.children,f,h,r);case U:g=8,f|=24;break;case M:return n=bn(12,a,r,f|2),n.elementType=M,n.lanes=h,n;case Y:return n=bn(13,a,r,f),n.elementType=Y,n.lanes=h,n;case ue:return n=bn(19,a,r,f),n.elementType=ue,n.lanes=h,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:case X:g=10;break e;case F:g=9;break e;case Q:g=11;break e;case L:g=14;break e;case Z:g=16,o=null;break e}g=29,a=Error(s(130,n===null?"null":typeof n,"")),o=null}return r=bn(g,a,r,f),r.elementType=n,r.type=o,r.lanes=h,r}function ws(n,r,a,o){return n=bn(7,n,o,r),n.lanes=a,n}function ad(n,r,a){return n=bn(6,n,null,r),n.lanes=a,n}function ld(n,r,a){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ia=[],La=0,uc=null,cc=0,Un=[],kn=0,Rs=null,Mi=1,xi="";function As(n,r){Ia[La++]=cc,Ia[La++]=uc,uc=n,cc=r}function ty(n,r,a){Un[kn++]=Mi,Un[kn++]=xi,Un[kn++]=Rs,Rs=n;var o=Mi;n=xi;var f=32-mt(o)-1;o&=~(1<<f),a+=1;var h=32-mt(r)+f;if(30<h){var g=f-f%5;h=(o&(1<<g)-1).toString(32),o>>=g,f-=g,Mi=1<<32-mt(r)+f|a<<f|o,xi=h+n}else Mi=1<<h|a<<f|o,xi=n}function od(n){n.return!==null&&(As(n,1),ty(n,1,0))}function ud(n){for(;n===uc;)uc=Ia[--La],Ia[La]=null,cc=Ia[--La],Ia[La]=null;for(;n===Rs;)Rs=Un[--kn],Un[kn]=null,xi=Un[--kn],Un[kn]=null,Mi=Un[--kn],Un[kn]=null}var $t=null,vt=null,Qe=!1,Os=null,fi=!1,cd=Error(s(519));function Ds(n){var r=Error(s(418,""));throw ao(In(r,n)),cd}function ny(n){var r=n.stateNode,a=n.type,o=n.memoizedProps;switch(r[S]=n,r[A]=o,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<Mo.length;a++)Ue(Mo[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),__(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xu(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),v_(r,o.value,o.defaultValue,o.children),Xu(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||vb(r.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),o.onScroll!=null&&Ue("scroll",r),o.onScrollEnd!=null&&Ue("scrollend",r),o.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Ds(n)}function iy(n){for($t=n.return;$t;)switch($t.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:$t=$t.return}}function ro(n){if(n!==$t)return!1;if(!Qe)return iy(n),Qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rp(n.type,n.memoizedProps)),a=!a),a&&vt&&Ds(n),iy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){vt=Yn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}vt=null}}else r===27?(r=vt,Dr(n.type)?(n=Np,Np=null,vt=n):vt=r):vt=$t?Yn(n.stateNode.nextSibling):null;return!0}function so(){vt=$t=null,Qe=!1}function ry(){var n=Os;return n!==null&&(un===null?un=n:un.push.apply(un,n),Os=null),n}function ao(n){Os===null?Os=[n]:Os.push(n)}var fd=G(null),Ns=null,Ii=null;function pr(n,r,a){J(fd,r._currentValue),r._currentValue=a}function Li(n){n._currentValue=fd.current,te(fd)}function hd(n,r,a){for(;n!==null;){var o=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var h=f.dependencies;if(h!==null){var g=f.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=f;for(var E=0;E<r.length;E++)if(v.context===r[E]){h.lanes|=a,v=h.alternate,v!==null&&(v.lanes|=a),hd(h.return,a,n),o||(g=null);break e}h=v.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),hd(g,a,n),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function lo(n,r,a,o){n=null;for(var f=r,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=f.type;vn(f.pendingProps.value,g.value)||(n!==null?n.push(v):n=[v])}}else if(f===Tt.current){if(g=f.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Po):n=[Po])}f=f.return}n!==null&&dd(r,n,a,o),r.flags|=262144}function fc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ms(n){Ns=n,Ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return sy(Ns,n)}function hc(n,r){return Ns===null&&Ms(n),sy(n,r)}function sy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ii===null){if(n===null)throw Error(s(308));Ii=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ii=Ii.next=r;return a}var bR=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,o){n.push(o)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},ER=t.unstable_scheduleCallback,SR=t.unstable_NormalPriority,Nt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new bR,data:new Map,refCount:0}}function oo(n){n.refCount--,n.refCount===0&&ER(SR,function(){n.controller.abort()})}var uo=null,md=0,Ua=0,ka=null;function TR(n,r){if(uo===null){var a=uo=[];md=0,Ua=_p(),ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return md++,r.then(ay,ay),r}function ay(){if(--md===0&&uo!==null){ka!==null&&(ka.status="fulfilled");var n=uo;uo=null,Ua=0,ka=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function CR(n,r){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){o.status="fulfilled",o.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var ly=H.S;H.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&TR(n,r),ly!==null&&ly(n,r)};var xs=G(null);function gd(){var n=xs.current;return n!==null?n:ct.pooledCache}function dc(n,r){r===null?J(xs,xs.current):J(xs,r.pool)}function oy(){var n=gd();return n===null?null:{parent:Nt._currentValue,pool:n}}var co=Error(s(460)),uy=Error(s(474)),pc=Error(s(542)),_d={then:function(){}};function cy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mc(){}function fy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(mc,mc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,dy(n),n;default:if(typeof r.status=="string")r.then(mc,mc);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(o){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=o}},function(o){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,dy(n),n}throw fo=r,co}}var fo=null;function hy(){if(fo===null)throw Error(s(459));var n=fo;return fo=null,n}function dy(n){if(n===co||n===pc)throw Error(s(483))}var mr=!1;function yd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function gr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function _r(n,r,a){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var f=o.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),o.pending=r,r=lc(n),J_(n,null,a),r}return ac(n,o,r,a),lc(n)}function ho(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=n.pendingLanes,a|=o,r.lanes=a,Ku(n,a)}}function bd(n,r){var a=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?f=h=r:h=h.next=r}else f=h=r;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Ed=!1;function po(){if(Ed){var n=ka;if(n!==null)throw n}}function mo(n,r,a,o){Ed=!1;var f=n.updateQueue;mr=!1;var h=f.firstBaseUpdate,g=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,I=E.next;E.next=null,g===null?h=I:g.next=I,g=E;var B=n.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==g&&(v===null?B.firstBaseUpdate=I:v.next=I,B.lastBaseUpdate=E))}if(h!==null){var V=f.baseState;g=0,B=I=E=null,v=h;do{var k=v.lane&-536870913,P=k!==v.lane;if(P?(Fe&k)===k:(o&k)===k){k!==0&&k===Ua&&(Ed=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Te=n,ye=v;k=r;var rt=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){V=Te.call(rt,V,k);break e}V=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,k=typeof Te=="function"?Te.call(rt,V,k):Te,k==null)break e;V=y({},V,k);break e;case 2:mr=!0}}k=v.callback,k!==null&&(n.flags|=64,P&&(n.flags|=8192),P=f.callbacks,P===null?f.callbacks=[k]:P.push(k))}else P={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(I=B=P,E=V):B=B.next=P,g|=k;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;P=v,v=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);B===null&&(E=V),f.baseState=E,f.firstBaseUpdate=I,f.lastBaseUpdate=B,h===null&&(f.shared.lanes=0),wr|=g,n.lanes=g,n.memoizedState=V}}function py(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function my(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)py(a[n],r)}var Pa=G(null),gc=G(0);function gy(n,r){n=Bi,J(gc,n),J(Pa,r),Bi=n|r.baseLanes}function Sd(){J(gc,Bi),J(Pa,Pa.current)}function Td(){Bi=gc.current,te(Pa),te(gc)}var yr=0,Ne=null,nt=null,Rt=null,_c=!1,za=!1,Is=!1,yc=0,go=0,ja=null,wR=0;function Ct(){throw Error(s(321))}function Cd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function wd(n,r,a,o,f,h){return yr=h,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=n===null||n.memoizedState===null?Jy:ev,Is=!1,h=a(o,f),Is=!1,za&&(h=yy(r,a,o,f)),_y(n),h}function _y(n){H.H=Cc;var r=nt!==null&&nt.next!==null;if(yr=0,Rt=nt=Ne=null,_c=!1,go=0,ja=null,r)throw Error(s(300));n===null||Ut||(n=n.dependencies,n!==null&&fc(n)&&(Ut=!0))}function yy(n,r,a,o){Ne=n;var f=0;do{if(za&&(ja=null),go=0,za=!1,25<=f)throw Error(s(301));if(f+=1,Rt=nt=null,n.updateQueue!=null){var h=n.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=xR,h=r(a,o)}while(za);return h}function RR(){var n=H.H,r=n.useState()[0];return r=typeof r.then=="function"?_o(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ne.flags|=1024),r}function Rd(){var n=yc!==0;return yc=0,n}function Ad(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Od(n){if(_c){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}_c=!1}yr=0,Rt=nt=Ne=null,za=!1,go=yc=0,ja=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function At(){if(nt===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=Rt===null?Ne.memoizedState:Rt.next;if(r!==null)Rt=r,nt=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Ne.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(n){var r=go;return go+=1,ja===null&&(ja=[]),n=fy(ja,n,r),r=Ne,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Jy:ev),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _o(n);if(n.$$typeof===X)return Qt(n)}throw Error(s(438,String(n)))}function Nd(n){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Dd(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),o=0;o<n;o++)a[o]=se;return r.index++,a}function Ui(n,r){return typeof r=="function"?r(n):r}function bc(n){var r=At();return Md(r,nt,n)}function Md(n,r,a){var o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=n.baseQueue,h=o.pending;if(h!==null){if(f!==null){var g=f.next;f.next=h.next,h.next=g}r.baseQueue=f=h,o.pending=null}if(h=n.baseState,f===null)n.memoizedState=h;else{r=f.next;var v=g=null,E=null,I=r,B=!1;do{var V=I.lane&-536870913;if(V!==I.lane?(Fe&V)===V:(yr&V)===V){var k=I.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),V===Ua&&(B=!0);else if((yr&k)===k){I=I.next,k===Ua&&(B=!0);continue}else V={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(v=E=V,g=h):E=E.next=V,Ne.lanes|=k,wr|=k;V=I.action,Is&&a(h,V),h=I.hasEagerState?I.eagerState:a(h,V)}else k={lane:V,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(v=E=k,g=h):E=E.next=k,Ne.lanes|=V,wr|=V;I=I.next}while(I!==null&&I!==r);if(E===null?g=h:E.next=v,!vn(h,n.memoizedState)&&(Ut=!0,B&&(a=ka,a!==null)))throw a;n.memoizedState=h,n.baseState=g,n.baseQueue=E,o.lastRenderedState=h}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function xd(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=a.dispatch,f=a.pending,h=r.memoizedState;if(f!==null){a.pending=null;var g=f=f.next;do h=n(h,g.action),g=g.next;while(g!==f);vn(h,r.memoizedState)||(Ut=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,o]}function vy(n,r,a){var o=Ne,f=At(),h=Qe;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!vn((nt||f).memoizedState,a);g&&(f.memoizedState=a,Ut=!0),f=f.queue;var v=Sy.bind(null,o,f,n);if(yo(2048,8,v,[n]),f.getSnapshot!==r||g||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,Ha(9,Ec(),Ey.bind(null,o,f,a,r),null),ct===null)throw Error(s(349));h||(yr&124)!==0||by(o,r,a)}return a}function by(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Dd(),Ne.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ey(n,r,a,o){r.value=a,r.getSnapshot=o,Ty(r)&&Cy(n)}function Sy(n,r,a){return a(function(){Ty(r)&&Cy(n)})}function Ty(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function Cy(n){var r=Ma(n,2);r!==null&&wn(r,n,2)}function Id(n){var r=ln();if(typeof n=="function"){var a=n;if(n=a(),Is){qt(!0);try{a()}finally{qt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},r}function wy(n,r,a,o){return n.baseState=a,Md(n,nt,typeof o=="function"?o:Ui)}function AR(n,r,a,o,f){if(Tc(n))throw Error(s(485));if(n=r.action,n!==null){var h={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,o(h),a=r.pending,a===null?(h.next=r.pending=h,Ry(r,h)):(h.next=a.next,r.pending=a.next=h)}}function Ry(n,r){var a=r.action,o=r.payload,f=n.state;if(r.isTransition){var h=H.T,g={};H.T=g;try{var v=a(f,o),E=H.S;E!==null&&E(g,v),Ay(n,r,v)}catch(I){Ld(n,r,I)}finally{H.T=h}}else try{h=a(f,o),Ay(n,r,h)}catch(I){Ld(n,r,I)}}function Ay(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Oy(n,r,o)},function(o){return Ld(n,r,o)}):Oy(n,r,a)}function Oy(n,r,a){r.status="fulfilled",r.value=a,Dy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ry(n,a)))}function Ld(n,r,a){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Dy(r),r=r.next;while(r!==o)}n.action=null}function Dy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ny(n,r){return r}function My(n,r){if(Qe){var a=ct.formState;if(a!==null){e:{var o=Ne;if(Qe){if(vt){t:{for(var f=vt,h=fi;f.nodeType!==8;){if(!h){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){vt=Yn(f.nextSibling),o=f.data==="F!";break e}}Ds(o)}o=!1}o&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:r},a.queue=o,a=Xy.bind(null,Ne,o),o.dispatch=a,o=Id(!1),h=jd.bind(null,Ne,!1,o.queue),o=ln(),f={state:r,dispatch:null,action:n,pending:null},o.queue=f,a=AR.bind(null,Ne,f,h,a),f.dispatch=a,o.memoizedState=n,[r,a,!1]}function xy(n){var r=At();return Iy(r,nt,n)}function Iy(n,r,a){if(r=Md(n,r,Ny)[0],n=bc(Ui)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=_o(r)}catch(g){throw g===co?pc:g}else o=r;r=At();var f=r.queue,h=f.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,Ha(9,Ec(),OR.bind(null,f,a),null)),[o,h,n]}function OR(n,r){n.action=r}function Ly(n){var r=At(),a=nt;if(a!==null)return Iy(r,a,n);At(),r=r.memoizedState,a=At();var o=a.queue.dispatch;return a.memoizedState=n,[r,o,!1]}function Ha(n,r,a,o){return n={tag:n,create:a,deps:o,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Dd(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(o=a.next,a.next=n,n.next=o,r.lastEffect=n),n}function Ec(){return{destroy:void 0,resource:void 0}}function Uy(){return At().memoizedState}function Sc(n,r,a,o){var f=ln();o=o===void 0?null:o,Ne.flags|=n,f.memoizedState=Ha(1|r,Ec(),a,o)}function yo(n,r,a,o){var f=At();o=o===void 0?null:o;var h=f.memoizedState.inst;nt!==null&&o!==null&&Cd(o,nt.memoizedState.deps)?f.memoizedState=Ha(r,h,a,o):(Ne.flags|=n,f.memoizedState=Ha(1|r,h,a,o))}function ky(n,r){Sc(8390656,8,n,r)}function Py(n,r){yo(2048,8,n,r)}function zy(n,r){return yo(4,2,n,r)}function jy(n,r){return yo(4,4,n,r)}function Hy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function By(n,r,a){a=a!=null?a.concat([n]):null,yo(4,4,Hy.bind(null,r,n),a)}function Ud(){}function qy(n,r){var a=At();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Cd(r,o[1])?o[0]:(a.memoizedState=[n,r],n)}function Fy(n,r){var a=At();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Cd(r,o[1]))return o[0];if(o=n(),Is){qt(!0);try{n()}finally{qt(!1)}}return a.memoizedState=[o,r],o}function kd(n,r,a){return a===void 0||(yr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Yv(),Ne.lanes|=n,wr|=n,a)}function Vy(n,r,a,o){return vn(a,r)?a:Pa.current!==null?(n=kd(n,a,o),vn(n,r)||(Ut=!0),n):(yr&42)===0?(Ut=!0,n.memoizedState=a):(n=Yv(),Ne.lanes|=n,wr|=n,r)}function Gy(n,r,a,o,f){var h=ie.p;ie.p=h!==0&&8>h?h:8;var g=H.T,v={};H.T=v,jd(n,!1,r,a);try{var E=f(),I=H.S;if(I!==null&&I(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=CR(E,o);vo(n,r,B,Cn(n))}else vo(n,r,o,Cn(n))}catch(V){vo(n,r,{then:function(){},status:"rejected",reason:V},Cn())}finally{ie.p=h,H.T=g}}function DR(){}function Pd(n,r,a,o){if(n.tag!==5)throw Error(s(476));var f=Yy(n).queue;Gy(n,f,r,le,a===null?DR:function(){return Qy(n),a(o)})}function Yy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:le},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Qy(n){var r=Yy(n).next.queue;vo(n,r,{},Cn())}function zd(){return Qt(Po)}function Ky(){return At().memoizedState}function Wy(){return At().memoizedState}function NR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();n=gr(a);var o=_r(r,n,a);o!==null&&(wn(o,r,a),ho(o,r,a)),r={cache:pd()},n.payload=r;return}r=r.return}}function MR(n,r,a){var o=Cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(n)?Zy(r,a):(a=rd(n,r,a,o),a!==null&&(wn(a,n,o),$y(a,r,o)))}function Xy(n,r,a){var o=Cn();vo(n,r,a,o)}function vo(n,r,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))Zy(r,f);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var g=r.lastRenderedState,v=h(g,a);if(f.hasEagerState=!0,f.eagerState=v,vn(v,g))return ac(n,r,f,0),ct===null&&sc(),!1}catch{}finally{}if(a=rd(n,r,f,o),a!==null)return wn(a,n,o),$y(a,r,o),!0}return!1}function jd(n,r,a,o){if(o={lane:2,revertLane:_p(),action:o,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(r)throw Error(s(479))}else r=rd(n,a,o,2),r!==null&&wn(r,n,2)}function Tc(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function Zy(n,r){za=_c=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function $y(n,r,a){if((a&4194048)!==0){var o=r.lanes;o&=n.pendingLanes,a|=o,r.lanes=a,Ku(n,a)}}var Cc={readContext:Qt,use:vc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Jy={readContext:Qt,use:vc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:ky,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Sc(4194308,4,Hy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Sc(4194308,4,n,r)},useInsertionEffect:function(n,r){Sc(4,2,n,r)},useMemo:function(n,r){var a=ln();r=r===void 0?null:r;var o=n();if(Is){qt(!0);try{n()}finally{qt(!1)}}return a.memoizedState=[o,r],o},useReducer:function(n,r,a){var o=ln();if(a!==void 0){var f=a(r);if(Is){qt(!0);try{a(r)}finally{qt(!1)}}}else f=r;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=MR.bind(null,Ne,n),[o.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=Id(n);var r=n.queue,a=Xy.bind(null,Ne,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(n,r){var a=ln();return kd(a,n,r)},useTransition:function(){var n=Id(!1);return n=Gy.bind(null,Ne,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var o=Ne,f=ln();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(Fe&124)!==0||by(o,r,a)}f.memoizedState=a;var h={value:a,getSnapshot:r};return f.queue=h,ky(Sy.bind(null,o,h,n),[n]),o.flags|=2048,Ha(9,Ec(),Ey.bind(null,o,h,a,r),null),a},useId:function(){var n=ln(),r=ct.identifierPrefix;if(Qe){var a=xi,o=Mi;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=yc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=wR++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:zd,useFormState:My,useActionState:My,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jd.bind(null,Ne,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nd,useCacheRefresh:function(){return ln().memoizedState=NR.bind(null,Ne)}},ev={readContext:Qt,use:vc,useCallback:qy,useContext:Qt,useEffect:Py,useImperativeHandle:By,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:bc,useRef:Uy,useState:function(){return bc(Ui)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=At();return Vy(a,nt.memoizedState,n,r)},useTransition:function(){var n=bc(Ui)[0],r=At().memoizedState;return[typeof n=="boolean"?n:_o(n),r]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:zd,useFormState:xy,useActionState:xy,useOptimistic:function(n,r){var a=At();return wy(a,nt,n,r)},useMemoCache:Nd,useCacheRefresh:Wy},xR={readContext:Qt,use:vc,useCallback:qy,useContext:Qt,useEffect:Py,useImperativeHandle:By,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:xd,useRef:Uy,useState:function(){return xd(Ui)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=At();return nt===null?kd(a,n,r):Vy(a,nt.memoizedState,n,r)},useTransition:function(){var n=xd(Ui)[0],r=At().memoizedState;return[typeof n=="boolean"?n:_o(n),r]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:zd,useFormState:Ly,useActionState:Ly,useOptimistic:function(n,r){var a=At();return nt!==null?wy(a,nt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:Wy},Ba=null,bo=0;function wc(n){var r=bo;return bo+=1,Ba===null&&(Ba=[]),fy(Ba,n,r)}function Eo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Rc(n,r){throw r.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function tv(n){var r=n._init;return r(n._payload)}function nv(n){function r(D,R){if(n){var x=D.deletions;x===null?(D.deletions=[R],D.flags|=16):x.push(R)}}function a(D,R){if(!n)return null;for(;R!==null;)r(D,R),R=R.sibling;return null}function o(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function f(D,R){return D=Ni(D,R),D.index=0,D.sibling=null,D}function h(D,R,x){return D.index=x,n?(x=D.alternate,x!==null?(x=x.index,x<R?(D.flags|=67108866,R):x):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function g(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function v(D,R,x,q){return R===null||R.tag!==6?(R=ad(x,D.mode,q),R.return=D,R):(R=f(R,x),R.return=D,R)}function E(D,R,x,q){var he=x.type;return he===O?B(D,R,x.props.children,q,x.key):R!==null&&(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&tv(he)===R.type)?(R=f(R,x.props),Eo(R,x),R.return=D,R):(R=oc(x.type,x.key,x.props,null,D.mode,q),Eo(R,x),R.return=D,R)}function I(D,R,x,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==x.containerInfo||R.stateNode.implementation!==x.implementation?(R=ld(x,D.mode,q),R.return=D,R):(R=f(R,x.children||[]),R.return=D,R)}function B(D,R,x,q,he){return R===null||R.tag!==7?(R=ws(x,D.mode,q,he),R.return=D,R):(R=f(R,x),R.return=D,R)}function V(D,R,x){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ad(""+R,D.mode,x),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return x=oc(R.type,R.key,R.props,null,D.mode,x),Eo(x,R),x.return=D,x;case T:return R=ld(R,D.mode,x),R.return=D,R;case Z:var q=R._init;return R=q(R._payload),V(D,R,x)}if(ut(R)||we(R))return R=ws(R,D.mode,x,null),R.return=D,R;if(typeof R.then=="function")return V(D,wc(R),x);if(R.$$typeof===X)return V(D,hc(D,R),x);Rc(D,R)}return null}function k(D,R,x,q){var he=R!==null?R.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return he!==null?null:v(D,R,""+x,q);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return x.key===he?E(D,R,x,q):null;case T:return x.key===he?I(D,R,x,q):null;case Z:return he=x._init,x=he(x._payload),k(D,R,x,q)}if(ut(x)||we(x))return he!==null?null:B(D,R,x,q,null);if(typeof x.then=="function")return k(D,R,wc(x),q);if(x.$$typeof===X)return k(D,R,hc(D,x),q);Rc(D,x)}return null}function P(D,R,x,q,he){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return D=D.get(x)||null,v(R,D,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return D=D.get(q.key===null?x:q.key)||null,E(R,D,q,he);case T:return D=D.get(q.key===null?x:q.key)||null,I(R,D,q,he);case Z:var xe=q._init;return q=xe(q._payload),P(D,R,x,q,he)}if(ut(q)||we(q))return D=D.get(x)||null,B(R,D,q,he,null);if(typeof q.then=="function")return P(D,R,x,wc(q),he);if(q.$$typeof===X)return P(D,R,x,hc(R,q),he);Rc(R,q)}return null}function Te(D,R,x,q){for(var he=null,xe=null,pe=R,ve=R=0,Pt=null;pe!==null&&ve<x.length;ve++){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var Ge=k(D,pe,x[ve],q);if(Ge===null){pe===null&&(pe=Pt);break}n&&pe&&Ge.alternate===null&&r(D,pe),R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge,pe=Pt}if(ve===x.length)return a(D,pe),Qe&&As(D,ve),he;if(pe===null){for(;ve<x.length;ve++)pe=V(D,x[ve],q),pe!==null&&(R=h(pe,R,ve),xe===null?he=pe:xe.sibling=pe,xe=pe);return Qe&&As(D,ve),he}for(pe=o(pe);ve<x.length;ve++)Pt=P(pe,D,ve,x[ve],q),Pt!==null&&(n&&Pt.alternate!==null&&pe.delete(Pt.key===null?ve:Pt.key),R=h(Pt,R,ve),xe===null?he=Pt:xe.sibling=Pt,xe=Pt);return n&&pe.forEach(function(Lr){return r(D,Lr)}),Qe&&As(D,ve),he}function ye(D,R,x,q){if(x==null)throw Error(s(151));for(var he=null,xe=null,pe=R,ve=R=0,Pt=null,Ge=x.next();pe!==null&&!Ge.done;ve++,Ge=x.next()){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var Lr=k(D,pe,Ge.value,q);if(Lr===null){pe===null&&(pe=Pt);break}n&&pe&&Lr.alternate===null&&r(D,pe),R=h(Lr,R,ve),xe===null?he=Lr:xe.sibling=Lr,xe=Lr,pe=Pt}if(Ge.done)return a(D,pe),Qe&&As(D,ve),he;if(pe===null){for(;!Ge.done;ve++,Ge=x.next())Ge=V(D,Ge.value,q),Ge!==null&&(R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge);return Qe&&As(D,ve),he}for(pe=o(pe);!Ge.done;ve++,Ge=x.next())Ge=P(pe,D,ve,Ge.value,q),Ge!==null&&(n&&Ge.alternate!==null&&pe.delete(Ge.key===null?ve:Ge.key),R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge);return n&&pe.forEach(function(IA){return r(D,IA)}),Qe&&As(D,ve),he}function rt(D,R,x,q){if(typeof x=="object"&&x!==null&&x.type===O&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case b:e:{for(var he=x.key;R!==null;){if(R.key===he){if(he=x.type,he===O){if(R.tag===7){a(D,R.sibling),q=f(R,x.props.children),q.return=D,D=q;break e}}else if(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&tv(he)===R.type){a(D,R.sibling),q=f(R,x.props),Eo(q,x),q.return=D,D=q;break e}a(D,R);break}else r(D,R);R=R.sibling}x.type===O?(q=ws(x.props.children,D.mode,q,x.key),q.return=D,D=q):(q=oc(x.type,x.key,x.props,null,D.mode,q),Eo(q,x),q.return=D,D=q)}return g(D);case T:e:{for(he=x.key;R!==null;){if(R.key===he)if(R.tag===4&&R.stateNode.containerInfo===x.containerInfo&&R.stateNode.implementation===x.implementation){a(D,R.sibling),q=f(R,x.children||[]),q.return=D,D=q;break e}else{a(D,R);break}else r(D,R);R=R.sibling}q=ld(x,D.mode,q),q.return=D,D=q}return g(D);case Z:return he=x._init,x=he(x._payload),rt(D,R,x,q)}if(ut(x))return Te(D,R,x,q);if(we(x)){if(he=we(x),typeof he!="function")throw Error(s(150));return x=he.call(x),ye(D,R,x,q)}if(typeof x.then=="function")return rt(D,R,wc(x),q);if(x.$$typeof===X)return rt(D,R,hc(D,x),q);Rc(D,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,R!==null&&R.tag===6?(a(D,R.sibling),q=f(R,x),q.return=D,D=q):(a(D,R),q=ad(x,D.mode,q),q.return=D,D=q),g(D)):a(D,R)}return function(D,R,x,q){try{bo=0;var he=rt(D,R,x,q);return Ba=null,he}catch(pe){if(pe===co||pe===pc)throw pe;var xe=bn(29,pe,null,D.mode);return xe.lanes=q,xe.return=D,xe}finally{}}}var qa=nv(!0),iv=nv(!1),Pn=G(null),hi=null;function vr(n){var r=n.alternate;J(Mt,Mt.current&1),J(Pn,n),hi===null&&(r===null||Pa.current!==null||r.memoizedState!==null)&&(hi=n)}function rv(n){if(n.tag===22){if(J(Mt,Mt.current),J(Pn,n),hi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(hi=n)}}else br()}function br(){J(Mt,Mt.current),J(Pn,Pn.current)}function ki(n){te(Pn),hi===n&&(hi=null),te(Mt)}var Mt=G(0);function Ac(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(n,r,a,o){r=n.memoizedState,a=a(o,r),a=a==null?r:y({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bd={enqueueSetState:function(n,r,a){n=n._reactInternals;var o=Cn(),f=gr(o);f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,o),r!==null&&(wn(r,n,o),ho(r,n,o))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var o=Cn(),f=gr(o);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,o),r!==null&&(wn(r,n,o),ho(r,n,o))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Cn(),o=gr(a);o.tag=2,r!=null&&(o.callback=r),r=_r(n,o,a),r!==null&&(wn(r,n,a),ho(r,n,a))}};function sv(n,r,a,o,f,h,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,h,g):r.prototype&&r.prototype.isPureReactComponent?!no(a,o)||!no(f,h):!0}function av(n,r,a,o){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==n&&Bd.enqueueReplaceState(r,r.state,null)}function Ls(n,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(n=n.defaultProps){a===r&&(a=y({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function lv(n){Oc(n)}function ov(n){console.error(n)}function uv(n){Oc(n)}function Dc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function cv(n,r,a){try{var o=n.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(n,r,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(n,r)},a}function fv(n){return n=gr(n),n.tag=3,n}function hv(n,r,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;n.payload=function(){return f(h)},n.callback=function(){cv(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){cv(r,a,o),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function IR(n,r,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&lo(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return hi===null?hp():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===_d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),pp(n,o,f)),!1;case 22:return a.flags|=65536,o===_d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),pp(n,o,f)),!1}throw Error(s(435,a.tag))}return pp(n,o,f),hp(),!1}if(Qe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,o!==cd&&(n=Error(s(422),{cause:o}),ao(In(n,a)))):(o!==cd&&(r=Error(s(423),{cause:o}),ao(In(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=In(o,a),f=qd(n.stateNode,o,f),bd(n,f),bt!==4&&(bt=2)),!1;var h=Error(s(520),{cause:o});if(h=In(h,a),Oo===null?Oo=[h]:Oo.push(h),bt!==4&&(bt=2),r===null)return!0;o=In(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=qd(a.stateNode,o,n),bd(a,n),!1;case 1:if(r=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Rr===null||!Rr.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=fv(f),hv(f,n,a,o),bd(a,f),!1}a=a.return}while(a!==null);return!1}var dv=Error(s(461)),Ut=!1;function Ft(n,r,a,o){r.child=n===null?iv(r,null,a,o):qa(r,n.child,a,o)}function pv(n,r,a,o,f){a=a.render;var h=r.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ms(r),o=wd(n,r,a,g,h,f),v=Rd(),n!==null&&!Ut?(Ad(n,r,f),Pi(n,r,f)):(Qe&&v&&od(r),r.flags|=1,Ft(n,r,o,f),r.child)}function mv(n,r,a,o,f){if(n===null){var h=a.type;return typeof h=="function"&&!sd(h)&&h.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=h,gv(n,r,h,o,f)):(n=oc(a.type,null,o,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(h=n.child,!Xd(n,f)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(g,o)&&n.ref===r.ref)return Pi(n,r,f)}return r.flags|=1,n=Ni(h,o),n.ref=r.ref,n.return=r,r.child=n}function gv(n,r,a,o,f){if(n!==null){var h=n.memoizedProps;if(no(h,o)&&n.ref===r.ref)if(Ut=!1,r.pendingProps=o=h,Xd(n,f))(n.flags&131072)!==0&&(Ut=!0);else return r.lanes=n.lanes,Pi(n,r,f)}return Fd(n,r,a,o,f)}function _v(n,r,a){var o=r.pendingProps,f=o.children,h=n!==null?n.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=h!==null?h.baseLanes|a:a,n!==null){for(f=r.child=n.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;r.childLanes=h&~o}else r.childLanes=0,r.child=null;return yv(n,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(r,h!==null?h.cachePool:null),h!==null?gy(r,h):Sd(),rv(r);else return r.lanes=r.childLanes=536870912,yv(n,r,h!==null?h.baseLanes|a:a,a)}else h!==null?(dc(r,h.cachePool),gy(r,h),br(),r.memoizedState=null):(n!==null&&dc(r,null),Sd(),br());return Ft(n,r,f,a),r.child}function yv(n,r,a,o){var f=gd();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(r,null),Sd(),rv(r),n!==null&&lo(n,r,o,!0),null}function Nc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Fd(n,r,a,o,f){return Ms(r),a=wd(n,r,a,o,void 0,f),o=Rd(),n!==null&&!Ut?(Ad(n,r,f),Pi(n,r,f)):(Qe&&o&&od(r),r.flags|=1,Ft(n,r,a,f),r.child)}function vv(n,r,a,o,f,h){return Ms(r),r.updateQueue=null,a=yy(r,o,a,f),_y(n),o=Rd(),n!==null&&!Ut?(Ad(n,r,h),Pi(n,r,h)):(Qe&&o&&od(r),r.flags|=1,Ft(n,r,a,h),r.child)}function bv(n,r,a,o,f){if(Ms(r),r.stateNode===null){var h=xa,g=a.contextType;typeof g=="object"&&g!==null&&(h=Qt(g)),h=new a(o,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bd,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=o,h.state=r.memoizedState,h.refs={},yd(r),g=a.contextType,h.context=typeof g=="object"&&g!==null?Qt(g):xa,h.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hd(r,a,g,o),h.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Bd.enqueueReplaceState(h,h.state,null),mo(r,o,h,f),po(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(n===null){h=r.stateNode;var v=r.memoizedProps,E=Ls(a,v);h.props=E;var I=h.context,B=a.contextType;g=xa,typeof B=="object"&&B!==null&&(g=Qt(B));var V=a.getDerivedStateFromProps;B=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||I!==g)&&av(r,h,o,g),mr=!1;var k=r.memoizedState;h.state=k,mo(r,o,h,f),po(),I=r.memoizedState,v||k!==I||mr?(typeof V=="function"&&(Hd(r,a,V,o),I=r.memoizedState),(E=mr||sv(r,a,E,o,k,I,g))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=I),h.props=o,h.state=I,h.context=g,o=E):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{h=r.stateNode,vd(n,r),g=r.memoizedProps,B=Ls(a,g),h.props=B,V=r.pendingProps,k=h.context,I=a.contextType,E=xa,typeof I=="object"&&I!==null&&(E=Qt(I)),v=a.getDerivedStateFromProps,(I=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==V||k!==E)&&av(r,h,o,E),mr=!1,k=r.memoizedState,h.state=k,mo(r,o,h,f),po();var P=r.memoizedState;g!==V||k!==P||mr||n!==null&&n.dependencies!==null&&fc(n.dependencies)?(typeof v=="function"&&(Hd(r,a,v,o),P=r.memoizedState),(B=mr||sv(r,a,B,o,k,P,E)||n!==null&&n.dependencies!==null&&fc(n.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,P,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,P,E)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===n.memoizedProps&&k===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&k===n.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=P),h.props=o,h.state=P,h.context=E,o=B):(typeof h.componentDidUpdate!="function"||g===n.memoizedProps&&k===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&k===n.memoizedState||(r.flags|=1024),o=!1)}return h=o,Nc(n,r),o=(r.flags&128)!==0,h||o?(h=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,n!==null&&o?(r.child=qa(r,n.child,null,f),r.child=qa(r,null,a,f)):Ft(n,r,a,f),r.memoizedState=h.state,n=r.child):n=Pi(n,r,f),n}function Ev(n,r,a,o){return so(),r.flags|=256,Ft(n,r,a,o),r.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(n){return{baseLanes:n,cachePool:oy()}}function Yd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=zn),n}function Sv(n,r,a){var o=r.pendingProps,f=!1,h=(r.flags&128)!==0,g;if((g=h)||(g=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),g&&(f=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qe){if(f?vr(r):br(),Qe){var v=vt,E;if(E=v){e:{for(E=v,v=fi;E.nodeType!==8;){if(!v){v=null;break e}if(E=Yn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(r.memoizedState={dehydrated:v,treeContext:Rs!==null?{id:Mi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},E=bn(18,null,null,0),E.stateNode=v,E.return=r,r.child=E,$t=r,vt=null,E=!0):E=!1}E||Ds(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Dp(v)?r.lanes=32:r.lanes=536870912,null;ki(r)}return v=o.children,o=o.fallback,f?(br(),f=r.mode,v=Mc({mode:"hidden",children:v},f),o=ws(o,f,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,f=r.child,f.memoizedState=Gd(a),f.childLanes=Yd(n,g,a),r.memoizedState=Vd,o):(vr(r),Qd(r,v))}if(E=n.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(h)r.flags&256?(vr(r),r.flags&=-257,r=Kd(n,r,a)):r.memoizedState!==null?(br(),r.child=n.child,r.flags|=128,r=null):(br(),f=o.fallback,v=r.mode,o=Mc({mode:"visible",children:o.children},v),f=ws(f,v,a,null),f.flags|=2,o.return=r,f.return=r,o.sibling=f,r.child=o,qa(r,n.child,null,a),o=r.child,o.memoizedState=Gd(a),o.childLanes=Yd(n,g,a),r.memoizedState=Vd,r=f);else if(vr(r),Dp(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var I=g.dgst;g=I,o=Error(s(419)),o.stack="",o.digest=g,ao({value:o,source:null,stack:null}),r=Kd(n,r,a)}else if(Ut||lo(n,r,a,!1),g=(a&n.childLanes)!==0,Ut||g){if(g=ct,g!==null&&(o=a&-a,o=(o&42)!==0?1:Sa(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,Ma(n,o),wn(g,n,o),dv;v.data==="$?"||hp(),r=Kd(n,r,a)}else v.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=E.treeContext,vt=Yn(v.nextSibling),$t=r,Qe=!0,Os=null,fi=!1,n!==null&&(Un[kn++]=Mi,Un[kn++]=xi,Un[kn++]=Rs,Mi=n.id,xi=n.overflow,Rs=r),r=Qd(r,o.children),r.flags|=4096);return r}return f?(br(),f=o.fallback,v=r.mode,E=n.child,I=E.sibling,o=Ni(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,I!==null?f=Ni(I,f):(f=ws(f,v,a,null),f.flags|=2),f.return=r,o.return=r,o.sibling=f,r.child=o,o=f,f=r.child,v=n.child.memoizedState,v===null?v=Gd(a):(E=v.cachePool,E!==null?(I=Nt._currentValue,E=E.parent!==I?{parent:I,pool:I}:E):E=oy(),v={baseLanes:v.baseLanes|a,cachePool:E}),f.memoizedState=v,f.childLanes=Yd(n,g,a),r.memoizedState=Vd,o):(vr(r),a=n.child,n=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,n!==null&&(g=r.deletions,g===null?(r.deletions=[n],r.flags|=16):g.push(n)),r.child=a,r.memoizedState=null,a)}function Qd(n,r){return r=Mc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Mc(n,r){return n=bn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Kd(n,r,a){return qa(r,n.child,null,a),n=Qd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Tv(n,r,a){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r),hd(n.return,r,a)}function Wd(n,r,a,o,f){var h=n.memoizedState;h===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=f)}function Cv(n,r,a){var o=r.pendingProps,f=o.revealOrder,h=o.tail;if(Ft(n,r,o.children,a),o=Mt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tv(n,a,r);else if(n.tag===19)Tv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(J(Mt,o),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ac(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Wd(r,!1,f,a,h);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ac(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Wd(r,!0,a,null,h);break;case"together":Wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),wr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(lo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ni(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ni(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&fc(n)))}function LR(n,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),pr(r,Nt,n.memoizedState.cache),so();break;case 27:case 5:Vl(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Sv(n,r,a):(vr(r),n=Pi(n,r,a),n!==null?n.sibling:null);vr(r);break;case 19:var f=(n.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(lo(n,r,a,!1),o=(a&r.childLanes)!==0),f){if(o)return Cv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Mt,Mt.current),o)break;return null;case 22:case 23:return r.lanes=0,_v(n,r,a);case 24:pr(r,Nt,n.memoizedState.cache)}return Pi(n,r,a)}function wv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Xd(n,a)&&(r.flags&128)===0)return Ut=!1,LR(n,r,a);Ut=(n.flags&131072)!==0}else Ut=!1,Qe&&(r.flags&1048576)!==0&&ty(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var o=r.elementType,f=o._init;if(o=f(o._payload),r.type=o,typeof o=="function")sd(o)?(n=Ls(o,n),r.tag=1,r=bv(null,r,o,n,a)):(r.tag=0,r=Fd(null,r,o,n,a));else{if(o!=null){if(f=o.$$typeof,f===Q){r.tag=11,r=pv(null,r,o,n,a);break e}else if(f===L){r.tag=14,r=mv(null,r,o,n,a);break e}}throw r=_t(o)||o,Error(s(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,a);case 1:return o=r.type,f=Ls(o,r.pendingProps),bv(n,r,o,f,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));o=r.pendingProps;var h=r.memoizedState;f=h.element,vd(n,r),mo(r,o,null,a);var g=r.memoizedState;if(o=g.cache,pr(r,Nt,o),o!==h.cache&&dd(r,[Nt],a,!0),po(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Ev(n,r,o,a);break e}else if(o!==f){f=In(Error(s(424)),r),ao(f),r=Ev(n,r,o,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=Yn(n.firstChild),$t=r,Qe=!0,Os=null,fi=!0,a=iv(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(so(),o===f){r=Pi(n,r,a);break e}Ft(n,r,o,a)}r=r.child}return r;case 26:return Nc(n,r),n===null?(a=Db(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,n=r.pendingProps,o=Gc(_e.current).createElement(a),o[S]=r,o[A]=n,Gt(o,a,n),Pe(o),r.stateNode=o):r.memoizedState=Db(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Vl(r),n===null&&Qe&&(o=r.stateNode=Rb(r.type,r.pendingProps,_e.current),$t=r,fi=!0,f=vt,Dr(r.type)?(Np=f,vt=Yn(o.firstChild)):vt=f),Ft(n,r,r.pendingProps.children,a),Nc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Qe&&((f=o=vt)&&(o=oA(o,r.type,r.pendingProps,fi),o!==null?(r.stateNode=o,$t=r,vt=Yn(o.firstChild),fi=!1,f=!0):f=!1),f||Ds(r)),Vl(r),f=r.type,h=r.pendingProps,g=n!==null?n.memoizedProps:null,o=h.children,Rp(f,h)?o=null:g!==null&&Rp(f,g)&&(r.flags|=32),r.memoizedState!==null&&(f=wd(n,r,RR,null,null,a),Po._currentValue=f),Nc(n,r),Ft(n,r,o,a),r.child;case 6:return n===null&&Qe&&((n=a=vt)&&(a=uA(a,r.pendingProps,fi),a!==null?(r.stateNode=a,$t=r,vt=null,n=!0):n=!1),n||Ds(r)),null;case 13:return Sv(n,r,a);case 4:return Xe(r,r.stateNode.containerInfo),o=r.pendingProps,n===null?r.child=qa(r,null,o,a):Ft(n,r,o,a),r.child;case 11:return pv(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,pr(r,r.type,o.value),Ft(n,r,o.children,a),r.child;case 9:return f=r.type._context,o=r.pendingProps.children,Ms(r),f=Qt(f),o=o(f),r.flags|=1,Ft(n,r,o,a),r.child;case 14:return mv(n,r,r.type,r.pendingProps,a);case 15:return gv(n,r,r.type,r.pendingProps,a);case 19:return Cv(n,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},n===null?(a=Mc(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ni(n.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return _v(n,r,a);case 24:return Ms(r),o=Qt(Nt),n===null?(f=gd(),f===null&&(f=ct,h=pd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),r.memoizedState={parent:o,cache:f},yd(r),pr(r,Nt,f)):((n.lanes&a)!==0&&(vd(n,r),mo(r,null,null,a),po()),f=n.memoizedState,h=r.memoizedState,f.parent!==o?(f={parent:o,cache:o},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),pr(r,Nt,o)):(o=h.cache,pr(r,Nt,o),o!==f.cache&&dd(r,[Nt],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zi(n){n.flags|=4}function Rv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Lb(r)){if(r=Pn.current,r!==null&&((Fe&4194048)===Fe?hi!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==hi))throw fo=_d,uy;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Yl():536870912,n.lanes|=r,Ya|=r)}function So(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,o=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=a,r}function UR(n,r,a){var o=r.pendingProps;switch(ud(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Li(Nt),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ro(r)?zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ry())),gt(r),null;case 26:return a=r.memoizedState,n===null?(zi(r),a!==null?(gt(r),Rv(r,a)):(gt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(zi(r),gt(r),Rv(r,a)):(gt(r),r.flags&=-16777217):(n.memoizedProps!==o&&zi(r),gt(r),r.flags&=-16777217),null;case 27:ya(r),a=_e.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==o&&zi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return gt(r),null}n=de.current,ro(r)?ny(r):(n=Rb(f,o,a),r.stateNode=n,zi(r))}return gt(r),null;case 5:if(ya(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==o&&zi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(n=de.current,ro(r))ny(r);else{switch(f=Gc(_e.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}n[S]=r,n[A]=o;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Gt(n,a,o),a){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&zi(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==o&&zi(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(n=_e.current,ro(r)){if(n=r.stateNode,a=r.memoizedProps,o=null,f=$t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[S]=r,n=!!(n.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||vb(n.nodeValue,a)),n||Ds(r)}else n=Gc(n).createTextNode(o),n[S]=r,r.stateNode=n}return gt(r),null;case 13:if(o=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ro(r),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[S]=r}else so(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else f=ry(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ki(r),r):(ki(r),null)}if(ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,n=n!==null&&n.memoizedState!==null,a){o=r.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),gt(r),null;case 4:return si(),n===null&&Ep(r.stateNode.containerInfo),gt(r),null;case 10:return Li(r.type),gt(r),null;case 19:if(te(Mt),f=r.memoizedState,f===null)return gt(r),null;if(o=(r.flags&128)!==0,h=f.rendering,h===null)if(o)So(f,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(h=Ac(n),h!==null){for(r.flags|=128,So(f,!1),n=h.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)ey(a,n),a=a.sibling;return J(Mt,Mt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Dn()>Uc&&(r.flags|=128,o=!0,So(f,!1),r.lanes=4194304)}else{if(!o)if(n=Ac(h),n!==null){if(r.flags|=128,o=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),So(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Qe)return gt(r),null}else 2*Dn()-f.renderingStartTime>Uc&&a!==536870912&&(r.flags|=128,o=!0,So(f,!1),r.lanes=4194304);f.isBackwards?(h.sibling=r.child,r.child=h):(n=f.last,n!==null?n.sibling=h:r.child=h,f.last=h)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Dn(),r.sibling=null,n=Mt.current,J(Mt,o?n&1|2:n&1),r):(gt(r),null);case 22:case 23:return ki(r),Td(),o=r.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),n!==null&&te(xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Li(Nt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function kR(n,r){switch(ud(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Li(Nt),si(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ya(r),null;case 13:if(ki(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));so()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return te(Mt),null;case 4:return si(),null;case 10:return Li(r.type),null;case 22:case 23:return ki(r),Td(),n!==null&&te(xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Li(Nt),null;case 25:return null;default:return null}}function Av(n,r){switch(ud(r),r.tag){case 3:Li(Nt),si();break;case 26:case 27:case 5:ya(r);break;case 4:si();break;case 13:ki(r);break;case 19:te(Mt);break;case 10:Li(r.type);break;case 22:case 23:ki(r),Td(),n!==null&&te(xs);break;case 24:Li(Nt)}}function To(n,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&n)===n){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==f)}}catch(v){at(r,r.return,v)}}function Er(n,r,a){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&n)===n){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,f=r;var E=a,I=v;try{I()}catch(B){at(f,E,B)}}}o=o.next}while(o!==h)}}catch(B){at(r,r.return,B)}}function Ov(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{my(r,a)}catch(o){at(n,n.return,o)}}}function Dv(n,r,a){a.props=Ls(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(o){at(n,r,o)}}function Co(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var o=n.stateNode;break;case 30:o=n.stateNode;break;default:o=n.stateNode}typeof a=="function"?n.refCleanup=a(o):a.current=o}}catch(f){at(n,r,f)}}function di(n,r){var a=n.ref,o=n.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){at(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(n,r,f)}else a.current=null}function Nv(n){var r=n.type,a=n.memoizedProps,o=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){at(n,n.return,f)}}function Zd(n,r,a){try{var o=n.stateNode;iA(o,n.type,a,r),o[A]=r}catch(f){at(n,n.return,f)}}function Mv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Dr(n.type)||n.tag===4}function $d(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Mv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jd(n,r,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vc));else if(o!==4&&(o===27&&Dr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Jd(n,r,a),n=n.sibling;n!==null;)Jd(n,r,a),n=n.sibling}function Ic(n,r,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(o!==4&&(o===27&&Dr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ic(n,r,a),n=n.sibling;n!==null;)Ic(n,r,a),n=n.sibling}function xv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var o=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,o,a),r[S]=n,r[A]=a}catch(h){at(n,n.return,h)}}var ji=!1,wt=!1,ep=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function PR(n,r){if(n=n.containerInfo,Cp=Zc,n=V_(n),$h(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,E=-1,I=0,B=0,V=n,k=null;t:for(;;){for(var P;V!==a||f!==0&&V.nodeType!==3||(v=g+f),V!==h||o!==0&&V.nodeType!==3||(E=g+o),V.nodeType===3&&(g+=V.nodeValue.length),(P=V.firstChild)!==null;)k=V,V=P;for(;;){if(V===n)break t;if(k===a&&++I===f&&(v=g),k===h&&++B===o&&(E=g),(P=V.nextSibling)!==null)break;V=k,k=V.parentNode}V=P}a=v===-1||E===-1?null:{start:v,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(wp={focusedElem:n,selectionRange:a},Zc=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,h=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&h!==null){n=void 0,a=r,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Te=Ls(a.type,f,a.elementType===a.type);n=o.getSnapshotBeforeUpdate(Te,h),o.__reactInternalSnapshotBeforeUpdate=n}catch(ye){at(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Op(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Op(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}}function Lv(n,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(n,a),o&4&&To(5,a);break;case 1:if(Sr(n,a),o&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(g){at(a,a.return,g)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(g){at(a,a.return,g)}}o&64&&Ov(a),o&512&&Co(a,a.return);break;case 3:if(Sr(n,a),o&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{my(n,r)}catch(g){at(a,a.return,g)}}break;case 27:r===null&&o&4&&xv(a);case 26:case 5:Sr(n,a),r===null&&o&4&&Nv(a),o&512&&Co(a,a.return);break;case 12:Sr(n,a);break;case 13:Sr(n,a),o&4&&Pv(n,a),o&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=YR.bind(null,a),cA(n,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){r=r!==null&&r.memoizedState!==null||wt,f=ji;var h=wt;ji=o,(wt=r)&&!h?Tr(n,a,(a.subtreeFlags&8772)!==0):Sr(n,a),ji=f,wt=h}break;case 30:break;default:Sr(n,a)}}function Uv(n){var r=n.alternate;r!==null&&(n.alternate=null,Uv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ce(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,on=!1;function Hi(n,r,a){for(a=a.child;a!==null;)kv(n,r,a),a=a.sibling}function kv(n,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:wt||di(a,r),Hi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||di(a,r);var o=dt,f=on;Dr(a.type)&&(dt=a.stateNode,on=!1),Hi(n,r,a),Io(a.stateNode),dt=o,on=f;break;case 5:wt||di(a,r);case 6:if(o=dt,f=on,dt=null,Hi(n,r,a),dt=o,on=f,dt!==null)if(on)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(h){at(a,r,h)}else try{dt.removeChild(a.stateNode)}catch(h){at(a,r,h)}break;case 18:dt!==null&&(on?(n=dt,Cb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Bo(n)):Cb(dt,a.stateNode));break;case 4:o=dt,f=on,dt=a.stateNode.containerInfo,on=!0,Hi(n,r,a),dt=o,on=f;break;case 0:case 11:case 14:case 15:wt||Er(2,a,r),wt||Er(4,a,r),Hi(n,r,a);break;case 1:wt||(di(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dv(a,r,o)),Hi(n,r,a);break;case 21:Hi(n,r,a);break;case 22:wt=(o=wt)||a.memoizedState!==null,Hi(n,r,a),wt=o;break;default:Hi(n,r,a)}}function Pv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bo(n)}catch(a){at(r,r.return,a)}}function zR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Iv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Iv),r;default:throw Error(s(435,n.tag))}}function tp(n,r){var a=zR(n);r.forEach(function(o){var f=QR.bind(null,n,o);a.has(o)||(a.add(o),o.then(f,f))})}function En(n,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=n,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Dr(v.type)){dt=v.stateNode,on=!1;break e}break;case 5:dt=v.stateNode,on=!1;break e;case 3:case 4:dt=v.stateNode.containerInfo,on=!0;break e}v=v.return}if(dt===null)throw Error(s(160));kv(h,g,f),dt=null,on=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)zv(r,n),r=r.sibling}var Gn=null;function zv(n,r){var a=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(r,n),Sn(n),o&4&&(Er(3,n,n.return),To(3,n),Er(5,n,n.return));break;case 1:En(r,n),Sn(n),o&512&&(wt||a===null||di(a,a.return)),o&64&&ji&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Gn;if(En(r,n),Sn(n),o&512&&(wt||a===null||di(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=n.memoizedState,a===null)if(o===null)if(n.stateNode===null){e:{o=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[oe]||h[S]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),Gt(h,o,a),h[S]=n,Pe(h),o=h;break e;case"link":var g=xb("link","href",f).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}h=f.createElement(o),Gt(h,o,a),f.head.appendChild(h);break;case"meta":if(g=xb("meta","content",f).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}h=f.createElement(o),Gt(h,o,a),f.head.appendChild(h);break;default:throw Error(s(468,o))}h[S]=n,Pe(h),o=h}n.stateNode=o}else Ib(f,n.type,n.stateNode);else n.stateNode=Mb(f,o,n.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?Ib(f,n.type,n.stateNode):Mb(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&Zd(n,n.memoizedProps,a.memoizedProps)}break;case 27:En(r,n),Sn(n),o&512&&(wt||a===null||di(a,a.return)),a!==null&&o&4&&Zd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(En(r,n),Sn(n),o&512&&(wt||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{Ca(f,"")}catch(P){at(n,n.return,P)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,Zd(n,f,a!==null?a.memoizedProps:f)),o&1024&&(ep=!0);break;case 6:if(En(r,n),Sn(n),o&4){if(n.stateNode===null)throw Error(s(162));o=n.memoizedProps,a=n.stateNode;try{a.nodeValue=o}catch(P){at(n,n.return,P)}}break;case 3:if(Kc=null,f=Gn,Gn=Yc(r.containerInfo),En(r,n),Gn=f,Sn(n),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Bo(r.containerInfo)}catch(P){at(n,n.return,P)}ep&&(ep=!1,jv(n));break;case 4:o=Gn,Gn=Yc(n.stateNode.containerInfo),En(r,n),Sn(n),Gn=o;break;case 12:En(r,n),Sn(n);break;case 13:En(r,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lp=Dn()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,tp(n,o)));break;case 22:f=n.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,I=ji,B=wt;if(ji=I||f,wt=B||E,En(r,n),wt=B,ji=I,Sn(n),o&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||E||ji||wt||Us(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){E=a=r;try{if(h=E.stateNode,f)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var V=E.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(P){at(E,E.return,P)}}}else if(r.tag===6){if(a===null){E=r;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(P){at(E,E.return,P)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=n.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,tp(n,a))));break;case 19:En(r,n),Sn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,tp(n,o)));break;case 30:break;case 21:break;default:En(r,n),Sn(n)}}function Sn(n){var r=n.flags;if(r&2){try{for(var a,o=n.return;o!==null;){if(Mv(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=$d(n);Ic(n,h,f);break;case 5:var g=a.stateNode;a.flags&32&&(Ca(g,""),a.flags&=-33);var v=$d(n);Ic(n,v,g);break;case 3:case 4:var E=a.stateNode.containerInfo,I=$d(n);Jd(n,I,E);break;default:throw Error(s(161))}}catch(B){at(n,n.return,B)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function jv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;jv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Sr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Lv(n,r.alternate,r),r=r.sibling}function Us(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Us(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Dv(r,r.return,a),Us(r);break;case 27:Io(r.stateNode);case 26:case 5:di(r,r.return),Us(r);break;case 22:r.memoizedState===null&&Us(r);break;case 30:Us(r);break;default:Us(r)}n=n.sibling}}function Tr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,f=n,h=r,g=h.flags;switch(h.tag){case 0:case 11:case 15:Tr(f,h,a),To(4,h);break;case 1:if(Tr(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){at(o,o.return,I)}if(o=h,f=o.updateQueue,f!==null){var v=o.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)py(E[f],v)}catch(I){at(o,o.return,I)}}a&&g&64&&Ov(h),Co(h,h.return);break;case 27:xv(h);case 26:case 5:Tr(f,h,a),a&&o===null&&g&4&&Nv(h),Co(h,h.return);break;case 12:Tr(f,h,a);break;case 13:Tr(f,h,a),a&&g&4&&Pv(f,h);break;case 22:h.memoizedState===null&&Tr(f,h,a),Co(h,h.return);break;case 30:break;default:Tr(f,h,a)}r=r.sibling}}function np(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&oo(a))}function ip(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&oo(n))}function pi(n,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hv(n,r,a,o),r=r.sibling}function Hv(n,r,a,o){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(n,r,a,o),f&2048&&To(9,r);break;case 1:pi(n,r,a,o);break;case 3:pi(n,r,a,o),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&oo(n)));break;case 12:if(f&2048){pi(n,r,a,o),n=r.stateNode;try{var h=r.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(E){at(r,r.return,E)}}else pi(n,r,a,o);break;case 13:pi(n,r,a,o);break;case 23:break;case 22:h=r.stateNode,g=r.alternate,r.memoizedState!==null?h._visibility&2?pi(n,r,a,o):wo(n,r):h._visibility&2?pi(n,r,a,o):(h._visibility|=2,Fa(n,r,a,o,(r.subtreeFlags&10256)!==0)),f&2048&&np(g,r);break;case 24:pi(n,r,a,o),f&2048&&ip(r.alternate,r);break;default:pi(n,r,a,o)}}function Fa(n,r,a,o,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var h=n,g=r,v=a,E=o,I=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(h,g,v,E,f),To(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Fa(h,g,v,E,f):wo(h,g):(B._visibility|=2,Fa(h,g,v,E,f)),f&&I&2048&&np(g.alternate,g);break;case 24:Fa(h,g,v,E,f),f&&I&2048&&ip(g.alternate,g);break;default:Fa(h,g,v,E,f)}r=r.sibling}}function wo(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,o=r,f=o.flags;switch(o.tag){case 22:wo(a,o),f&2048&&np(o.alternate,o);break;case 24:wo(a,o),f&2048&&ip(o.alternate,o);break;default:wo(a,o)}r=r.sibling}}var Ro=8192;function Va(n){if(n.subtreeFlags&Ro)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 26:Va(n),n.flags&Ro&&n.memoizedState!==null&&TA(Gn,n.memoizedState,n.memoizedProps);break;case 5:Va(n);break;case 3:case 4:var r=Gn;Gn=Yc(n.stateNode.containerInfo),Va(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ro,Ro=16777216,Va(n),Ro=r):Va(n));break;default:Va(n)}}function qv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ao(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];kt=o,Vv(o,n)}qv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Ao(n),n.flags&2048&&Er(9,n,n.return);break;case 3:Ao(n);break;case 12:Ao(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Lc(n)):Ao(n);break;default:Ao(n)}}function Lc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];kt=o,Vv(o,n)}qv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Er(8,r,r.return),Lc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(r));break;default:Lc(r)}n=n.sibling}}function Vv(n,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Er(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,kt=o;else e:for(a=n;kt!==null;){o=kt;var f=o.sibling,h=o.return;if(Uv(o),o===a){kt=null;break e}if(f!==null){f.return=h,kt=f;break e}kt=h}}}var jR={getCacheForType:function(n){var r=Qt(Nt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},HR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Le=null,Fe=0,et=0,Tn=null,Cr=!1,Ga=!1,rp=!1,Bi=0,bt=0,wr=0,ks=0,sp=0,zn=0,Ya=0,Oo=null,un=null,ap=!1,lp=0,Uc=1/0,kc=null,Rr=null,Vt=0,Ar=null,Qa=null,Ka=0,op=0,up=null,Gv=null,Do=0,cp=null;function Cn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(H.T!==null){var n=Ua;return n!==0?n:_p()}return bs()}function Yv(){zn===0&&(zn=(Fe&536870912)===0||Qe?ys():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),zn}function wn(n,r,a){(n===ct&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Or(n,Fe,zn,!1)),Ri(n,a),((Je&2)===0||n!==ct)&&(n===ct&&((Je&2)===0&&(ks|=a),bt===4&&Or(n,Fe,zn,!1)),mi(n))}function Qv(n,r,a){if((Je&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&n.expiredLanes)===0||_s(n,r),f=o?FR(n,r):dp(n,r,!0),h=o;do{if(f===0){Ga&&!o&&Or(n,r,0,!1);break}else{if(a=n.current.alternate,h&&!BR(a)){f=dp(n,r,!1),h=!1;continue}if(f===2){if(h=r,n.errorRecoveryDisabledLanes&h)var g=0;else g=n.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var v=n;f=Oo;var E=v.current.memoizedState.isDehydrated;if(E&&(Wa(v,g).flags|=256),g=dp(v,g,!1),g!==2){if(rp&&!E){v.errorRecoveryDisabledLanes|=h,ks|=h,f=4;break e}h=un,un=f,h!==null&&(un===null?un=h:un.push.apply(un,h))}f=g}if(h=!1,f!==2)continue}}if(f===1){Wa(n,0),Or(n,r,0,!0);break}e:{switch(o=n,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(o,r,zn,!Cr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=lp+300-Dn(),10<f)){if(Or(o,r,zn,!Cr),gs(o,0,!0)!==0)break e;o.timeoutHandle=Sb(Kv.bind(null,o,a,un,kc,ap,r,zn,ks,Ya,Cr,h,2,-0,0),f);break e}Kv(o,a,un,kc,ap,r,zn,ks,Ya,Cr,h,0,-0,0)}}break}while(!0);mi(n)}function Kv(n,r,a,o,f,h,g,v,E,I,B,V,k,P){if(n.timeoutHandle=-1,V=r.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:SA},Bv(r),V=CA(),V!==null)){n.cancelPendingCommit=V(tb.bind(null,n,r,h,a,o,f,g,v,E,B,1,k,P)),Or(n,h,g,!I);return}tb(n,r,h,a,o,f,g,v,E)}function BR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!vn(h(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(n,r,a,o){r&=~sp,r&=~ks,n.suspendedLanes|=r,n.pingedLanes&=~r,o&&(n.warmLanes|=r),o=n.expirationTimes;for(var f=r;0<f;){var h=31-mt(f),g=1<<h;o[h]=-1,f&=~g}a!==0&&Ql(n,a,r)}function Pc(){return(Je&6)===0?(No(0),!1):!0}function fp(){if(Le!==null){if(et===0)var n=Le.return;else n=Le,Ii=Ns=null,Od(n),Ba=null,bo=0,n=Le;for(;n!==null;)Av(n.alternate,n),n=n.return;Le=null}}function Wa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,sA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),fp(),ct=n,Le=a=Ni(n.current,null),Fe=r,et=0,Tn=null,Cr=!1,Ga=_s(n,r),rp=!1,Ya=zn=sp=ks=wr=bt=0,un=Oo=null,ap=!1,(r&8)!==0&&(r|=r&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=r;0<o;){var f=31-mt(o),h=1<<f;r|=n[f],o&=~h}return Bi=r,sc(),a}function Wv(n,r){Ne=null,H.H=Cc,r===co||r===pc?(r=hy(),et=3):r===uy?(r=hy(),et=4):et=r===dv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Le===null&&(bt=1,Dc(n,In(r,n.current)))}function Xv(){var n=H.H;return H.H=Cc,n===null?Cc:n}function Zv(){var n=H.A;return H.A=jR,n}function hp(){bt=4,Cr||(Fe&4194048)!==Fe&&Pn.current!==null||(Ga=!0),(wr&134217727)===0&&(ks&134217727)===0||ct===null||Or(ct,Fe,zn,!1)}function dp(n,r,a){var o=Je;Je|=2;var f=Xv(),h=Zv();(ct!==n||Fe!==r)&&(kc=null,Wa(n,r)),r=!1;var g=bt;e:do try{if(et!==0&&Le!==null){var v=Le,E=Tn;switch(et){case 8:fp(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var I=et;if(et=0,Tn=null,Xa(n,v,E,I),a&&Ga){g=0;break e}break;default:I=et,et=0,Tn=null,Xa(n,v,E,I)}}qR(),g=bt;break}catch(B){Wv(n,B)}while(!0);return r&&n.shellSuspendCounter++,Ii=Ns=null,Je=o,H.H=f,H.A=h,Le===null&&(ct=null,Fe=0,sc()),g}function qR(){for(;Le!==null;)$v(Le)}function FR(n,r){var a=Je;Je|=2;var o=Xv(),f=Zv();ct!==n||Fe!==r?(kc=null,Uc=Dn()+500,Wa(n,r)):Ga=_s(n,r);e:do try{if(et!==0&&Le!==null){r=Le;var h=Tn;t:switch(et){case 1:et=0,Tn=null,Xa(n,r,h,1);break;case 2:case 9:if(cy(h)){et=0,Tn=null,Jv(r);break}r=function(){et!==2&&et!==9||ct!==n||(et=7),mi(n)},h.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:cy(h)?(et=0,Tn=null,Jv(r)):(et=0,Tn=null,Xa(n,r,h,7));break;case 5:var g=null;switch(Le.tag){case 26:g=Le.memoizedState;case 5:case 27:var v=Le;if(!g||Lb(g)){et=0,Tn=null;var E=v.sibling;if(E!==null)Le=E;else{var I=v.return;I!==null?(Le=I,zc(I)):Le=null}break t}}et=0,Tn=null,Xa(n,r,h,5);break;case 6:et=0,Tn=null,Xa(n,r,h,6);break;case 8:fp(),bt=6;break e;default:throw Error(s(462))}}VR();break}catch(B){Wv(n,B)}while(!0);return Ii=Ns=null,H.H=o,H.A=f,Je=a,Le!==null?0:(ct=null,Fe=0,sc(),bt)}function VR(){for(;Le!==null&&!Mh();)$v(Le)}function $v(n){var r=wv(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,r===null?zc(n):Le=r}function Jv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=vv(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=vv(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Od(r);default:Av(a,r),r=Le=ey(r,Bi),r=wv(a,r,Bi)}n.memoizedProps=n.pendingProps,r===null?zc(n):Le=r}function Xa(n,r,a,o){Ii=Ns=null,Od(r),Ba=null,bo=0;var f=r.return;try{if(IR(n,f,r,a,Fe)){bt=1,Dc(n,In(a,n.current)),Le=null;return}}catch(h){if(f!==null)throw Le=f,h;bt=1,Dc(n,In(a,n.current)),Le=null;return}r.flags&32768?(Qe||o===1?n=!0:Ga||(Fe&536870912)!==0?n=!1:(Cr=n=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),eb(r,n)):zc(r)}function zc(n){var r=n;do{if((r.flags&32768)!==0){eb(r,Cr);return}n=r.return;var a=UR(r.alternate,r,Bi);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=n}while(r!==null);bt===0&&(bt=5)}function eb(n,r){do{var a=kR(n.alternate,n);if(a!==null){a.flags&=32767,Le=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Le=n;return}Le=n=a}while(n!==null);bt=6,Le=null}function tb(n,r,a,o,f,h,g,v,E){n.cancelPendingCommit=null;do jc();while(Vt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(h=r.lanes|r.childLanes,h|=id,Uh(n,a,h,g,v,E),n===ct&&(Le=ct=null,Fe=0),Qa=r,Ar=n,Ka=a,op=h,up=f,Gv=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KR(ba,function(){return ab(),null})):(n.callbackNode=null,n.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,f=ie.p,ie.p=2,g=Je,Je|=4;try{PR(n,r,a)}finally{Je=g,ie.p=f,H.T=o}}Vt=1,nb(),ib(),rb()}}function nb(){if(Vt===1){Vt=0;var n=Ar,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ie.p;ie.p=2;var f=Je;Je|=4;try{zv(r,n);var h=wp,g=V_(n.containerInfo),v=h.focusedElem,E=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&F_(v.ownerDocument.documentElement,v)){if(E!==null&&$h(v)){var I=E.start,B=E.end;if(B===void 0&&(B=I),"selectionStart"in v)v.selectionStart=I,v.selectionEnd=Math.min(B,v.value.length);else{var V=v.ownerDocument||document,k=V&&V.defaultView||window;if(k.getSelection){var P=k.getSelection(),Te=v.textContent.length,ye=Math.min(E.start,Te),rt=E.end===void 0?ye:Math.min(E.end,Te);!P.extend&&ye>rt&&(g=rt,rt=ye,ye=g);var D=q_(v,ye),R=q_(v,rt);if(D&&R&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var x=V.createRange();x.setStart(D.node,D.offset),P.removeAllRanges(),ye>rt?(P.addRange(x),P.extend(R.node,R.offset)):(x.setEnd(R.node,R.offset),P.addRange(x))}}}}for(V=[],P=v;P=P.parentNode;)P.nodeType===1&&V.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<V.length;v++){var q=V[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Zc=!!Cp,wp=Cp=null}finally{Je=f,ie.p=o,H.T=a}}n.current=r,Vt=2}}function ib(){if(Vt===2){Vt=0;var n=Ar,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ie.p;ie.p=2;var f=Je;Je|=4;try{Lv(n,r.alternate,r)}finally{Je=f,ie.p=o,H.T=a}}Vt=3}}function rb(){if(Vt===4||Vt===3){Vt=0,Ci();var n=Ar,r=Qa,a=Ka,o=Gv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,Qa=Ar=null,sb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Rr=null),fr(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(cr,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=H.T,f=ie.p,ie.p=2,H.T=null;try{for(var h=n.onRecoverableError,g=0;g<o.length;g++){var v=o[g];h(v.value,{componentStack:v.stack})}}finally{H.T=r,ie.p=f}}(Ka&3)!==0&&jc(),mi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===cp?Do++:(Do=0,cp=n):Do=0,No(0)}}function sb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,oo(r)))}function jc(n){return nb(),ib(),rb(),ab()}function ab(){if(Vt!==5)return!1;var n=Ar,r=op;op=0;var a=fr(Ka),o=H.T,f=ie.p;try{ie.p=32>a?32:a,H.T=null,a=up,up=null;var h=Ar,g=Ka;if(Vt=0,Qa=Ar=null,Ka=0,(Je&6)!==0)throw Error(s(331));var v=Je;if(Je|=4,Fv(h.current),Hv(h,h.current,g,a),Je=v,No(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(cr,h)}catch{}return!0}finally{ie.p=f,H.T=o,sb(n,r)}}function lb(n,r,a){r=In(a,r),r=qd(n.stateNode,r,2),n=_r(n,r,2),n!==null&&(Ri(n,2),mi(n))}function at(n,r,a){if(n.tag===3)lb(n,n,a);else for(;r!==null;){if(r.tag===3){lb(r,n,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){n=In(a,n),a=fv(2),o=_r(r,a,2),o!==null&&(hv(a,o,r,n),Ri(o,2),mi(o));break}}r=r.return}}function pp(n,r,a){var o=n.pingCache;if(o===null){o=n.pingCache=new HR;var f=new Set;o.set(r,f)}else f=o.get(r),f===void 0&&(f=new Set,o.set(r,f));f.has(a)||(rp=!0,f.add(a),n=GR.bind(null,n,r,a),r.then(n,n))}function GR(n,r,a){var o=n.pingCache;o!==null&&o.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ct===n&&(Fe&a)===a&&(bt===4||bt===3&&(Fe&62914560)===Fe&&300>Dn()-lp?(Je&2)===0&&Wa(n,0):sp|=a,Ya===Fe&&(Ya=0)),mi(n)}function ob(n,r){r===0&&(r=Yl()),n=Ma(n,r),n!==null&&(Ri(n,r),mi(n))}function YR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),ob(n,a)}function QR(n,r){var a=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),ob(n,a)}function KR(n,r){return ai(n,r)}var Hc=null,Za=null,mp=!1,Bc=!1,gp=!1,Ps=0;function mi(n){n!==Za&&n.next===null&&(Za===null?Hc=Za=n:Za=Za.next=n),Bc=!0,mp||(mp=!0,XR())}function No(n,r){if(!gp&&Bc){gp=!0;do for(var a=!1,o=Hc;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var g=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-mt(42|n)+1)-1,h&=f&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,hb(o,h))}else h=Fe,h=gs(o,o===ct?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||_s(o,h)||(a=!0,hb(o,h));o=o.next}while(a);gp=!1}}function WR(){ub()}function ub(){Bc=mp=!1;var n=0;Ps!==0&&(rA()&&(n=Ps),Ps=0);for(var r=Dn(),a=null,o=Hc;o!==null;){var f=o.next,h=cb(o,r);h===0?(o.next=null,a===null?Hc=f:a.next=f,f===null&&(Za=a)):(a=o,(n!==0||(h&3)!==0)&&(Bc=!0)),o=f}No(n)}function cb(n,r){for(var a=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,h=n.pendingLanes&-62914561;0<h;){var g=31-mt(h),v=1<<g,E=f[g];E===-1?((v&a)===0||(v&o)!==0)&&(f[g]=Qu(v,r)):E<=r&&(n.expiredLanes|=v),h&=~v}if(r=ct,a=Fe,a=gs(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o=n.callbackNode,a===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return o!==null&&o!==null&&va(o),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||_s(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(o!==null&&va(o),fr(a)){case 2:case 8:a=Vu;break;case 32:a=ba;break;case 268435456:a=Gu;break;default:a=ba}return o=fb.bind(null,n),a=ai(a,o),n.callbackPriority=r,n.callbackNode=a,r}return o!==null&&o!==null&&va(o),n.callbackPriority=2,n.callbackNode=null,2}function fb(n,r){if(Vt!==0&&Vt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var o=Fe;return o=gs(n,n===ct?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o===0?null:(Qv(n,o,r),cb(n,Dn()),n.callbackNode!=null&&n.callbackNode===a?fb.bind(null,n):null)}function hb(n,r){if(jc())return null;Qv(n,r,!0)}function XR(){aA(function(){(Je&6)!==0?ai(Gl,WR):ub()})}function _p(){return Ps===0&&(Ps=ys()),Ps}function db(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$u(""+n)}function pb(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function ZR(n,r,a,o,f){if(r==="submit"&&a&&a.stateNode===f){var h=db((f[A]||null).action),g=o.submitter;g&&(r=(r=g[A]||null)?db(r.formAction):g.getAttribute("formAction"),r!==null&&(h=r,g=null));var v=new nc("action","action",null,o,f);n.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var E=g?pb(f,g):new FormData(f);Pd(a,{pending:!0,data:E,method:f.method,action:h},null,E)}}else typeof h=="function"&&(v.preventDefault(),E=g?pb(f,g):new FormData(f),Pd(a,{pending:!0,data:E,method:f.method,action:h},h,E))},currentTarget:f}]})}}for(var yp=0;yp<nd.length;yp++){var vp=nd[yp],$R=vp.toLowerCase(),JR=vp[0].toUpperCase()+vp.slice(1);Vn($R,"on"+JR)}Vn(Q_,"onAnimationEnd"),Vn(K_,"onAnimationIteration"),Vn(W_,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(gR,"onTransitionRun"),Vn(_R,"onTransitionStart"),Vn(yR,"onTransitionCancel"),Vn(X_,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function mb(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var o=n[a],f=o.event;o=o.listeners;e:{var h=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],E=v.instance,I=v.currentTarget;if(v=v.listener,E!==h&&f.isPropagationStopped())break e;h=v,f.currentTarget=I;try{h(f)}catch(B){Oc(B)}f.currentTarget=null,h=E}else for(g=0;g<o.length;g++){if(v=o[g],E=v.instance,I=v.currentTarget,v=v.listener,E!==h&&f.isPropagationStopped())break e;h=v,f.currentTarget=I;try{h(f)}catch(B){Oc(B)}f.currentTarget=null,h=E}}}}function Ue(n,r){var a=r[K];a===void 0&&(a=r[K]=new Set);var o=n+"__bubble";a.has(o)||(gb(r,n,2,!1),a.add(o))}function bp(n,r,a){var o=0;r&&(o|=4),gb(a,n,o,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Ep(n){if(!n[qc]){n[qc]=!0,Ze.forEach(function(a){a!=="selectionchange"&&(eA.has(a)||bp(a,!1,n),bp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qc]||(r[qc]=!0,bp("selectionchange",!1,r))}}function gb(n,r,a,o){switch(Hb(r)){case 2:var f=AA;break;case 8:f=OA;break;default:f=Up}a=f.bind(null,r,a,n),f=void 0,!Fh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Sp(n,r,a,o,f){var h=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===f)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;v!==null;){if(g=re(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=h=g;continue e}v=v.parentNode}}o=o.return}T_(function(){var I=h,B=Bh(a),V=[];e:{var k=Z_.get(n);if(k!==void 0){var P=nc,Te=n;switch(n){case"keypress":if(ec(a)===0)break e;case"keydown":case"keyup":P=Kw;break;case"focusin":Te="focus",P=Qh;break;case"focusout":Te="blur",P=Qh;break;case"beforeblur":case"afterblur":P=Qh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=R_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Zw;break;case Q_:case K_:case W_:P=jw;break;case X_:P=Jw;break;case"scroll":case"scrollend":P=Lw;break;case"wheel":P=tR;break;case"copy":case"cut":case"paste":P=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=O_;break;case"toggle":case"beforetoggle":P=iR}var ye=(r&4)!==0,rt=!ye&&(n==="scroll"||n==="scrollend"),D=ye?k!==null?k+"Capture":null:k;ye=[];for(var R=I,x;R!==null;){var q=R;if(x=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||x===null||D===null||(q=Wl(R,D),q!=null&&ye.push(xo(R,q,x))),rt)break;R=R.return}0<ye.length&&(k=new P(k,Te,null,a,B),V.push({event:k,listeners:ye}))}}if((r&7)===0){e:{if(k=n==="mouseover"||n==="pointerover",P=n==="mouseout"||n==="pointerout",k&&a!==Hh&&(Te=a.relatedTarget||a.fromElement)&&(re(Te)||Te[z]))break e;if((P||k)&&(k=B.window===B?B:(k=B.ownerDocument)?k.defaultView||k.parentWindow:window,P?(Te=a.relatedTarget||a.toElement,P=I,Te=Te?re(Te):null,Te!==null&&(rt=u(Te),ye=Te.tag,Te!==rt||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(P=null,Te=I),P!==Te)){if(ye=R_,q="onMouseLeave",D="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(ye=O_,q="onPointerLeave",D="onPointerEnter",R="pointer"),rt=P==null?k:Ce(P),x=Te==null?k:Ce(Te),k=new ye(q,R+"leave",P,a,B),k.target=rt,k.relatedTarget=x,q=null,re(B)===I&&(ye=new ye(D,R+"enter",Te,a,B),ye.target=x,ye.relatedTarget=rt,q=ye),rt=q,P&&Te)t:{for(ye=P,D=Te,R=0,x=ye;x;x=$a(x))R++;for(x=0,q=D;q;q=$a(q))x++;for(;0<R-x;)ye=$a(ye),R--;for(;0<x-R;)D=$a(D),x--;for(;R--;){if(ye===D||D!==null&&ye===D.alternate)break t;ye=$a(ye),D=$a(D)}ye=null}else ye=null;P!==null&&_b(V,k,P,ye,!1),Te!==null&&rt!==null&&_b(V,rt,Te,ye,!0)}}e:{if(k=I?Ce(I):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var he=k_;else if(L_(k))if(P_)he=dR;else{he=fR;var xe=cR}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&jh(I.elementType)&&(he=k_):he=hR;if(he&&(he=he(n,I))){U_(V,he,a,B);break e}xe&&xe(n,k,I),n==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&zh(k,"number",k.value)}switch(xe=I?Ce(I):window,n){case"focusin":(L_(xe)||xe.contentEditable==="true")&&(Oa=xe,Jh=I,io=null);break;case"focusout":io=Jh=Oa=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,G_(V,a,B);break;case"selectionchange":if(mR)break;case"keydown":case"keyup":G_(V,a,B)}var pe;if(Wh)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Aa?x_(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(D_&&a.locale!=="ko"&&(Aa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Aa&&(pe=C_()):(dr=B,Vh="value"in dr?dr.value:dr.textContent,Aa=!0)),xe=Fc(I,ve),0<xe.length&&(ve=new A_(ve,n,null,a,B),V.push({event:ve,listeners:xe}),pe?ve.data=pe:(pe=I_(a),pe!==null&&(ve.data=pe)))),(pe=sR?aR(n,a):lR(n,a))&&(ve=Fc(I,"onBeforeInput"),0<ve.length&&(xe=new A_("onBeforeInput","beforeinput",null,a,B),V.push({event:xe,listeners:ve}),xe.data=pe)),ZR(V,n,I,a,B)}mb(V,r)})}function xo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Fc(n,r){for(var a=r+"Capture",o=[];n!==null;){var f=n,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Wl(n,a),f!=null&&o.unshift(xo(n,f,h)),f=Wl(n,r),f!=null&&o.push(xo(n,f,h))),n.tag===3)return o;n=n.return}return[]}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _b(n,r,a,o,f){for(var h=r._reactName,g=[];a!==null&&a!==o;){var v=a,E=v.alternate,I=v.stateNode;if(v=v.tag,E!==null&&E===o)break;v!==5&&v!==26&&v!==27||I===null||(E=I,f?(I=Wl(a,h),I!=null&&g.unshift(xo(a,I,E))):f||(I=Wl(a,h),I!=null&&g.push(xo(a,I,E)))),a=a.return}g.length!==0&&n.push({event:r,listeners:g})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function yb(n){return(typeof n=="string"?n:""+n).replace(tA,`
`).replace(nA,"")}function vb(n,r){return r=yb(r),yb(n)===r}function Vc(){}function it(n,r,a,o,f,h){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Ca(n,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Ca(n,""+o);break;case"className":Mn(n,"class",o);break;case"tabIndex":Mn(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,a,o);break;case"style":E_(n,o,h);break;case"data":if(r!=="object"){Mn(n,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=$u(""+o),n.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(r!=="input"&&it(n,r,"name",f.name,f,null),it(n,r,"formEncType",f.formEncType,f,null),it(n,r,"formMethod",f.formMethod,f,null),it(n,r,"formTarget",f.formTarget,f,null)):(it(n,r,"encType",f.encType,f,null),it(n,r,"method",f.method,f,null),it(n,r,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=$u(""+o),n.setAttribute(a,o);break;case"onClick":o!=null&&(n.onclick=Vc);break;case"onScroll":o!=null&&Ue("scroll",n);break;case"onScrollEnd":o!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}a=$u(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""+o):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":o===!0?n.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,o):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(a,o):n.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(a):n.setAttribute(a,o);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),ui(n,"popover",o);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ui(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xw.get(a)||a,ui(n,a,o))}}function Tp(n,r,a,o,f,h){switch(a){case"style":E_(n,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof o=="string"?Ca(n,o):(typeof o=="number"||typeof o=="bigint")&&Ca(n,""+o);break;case"onScroll":o!=null&&Ue("scroll",n);break;case"onScrollEnd":o!=null&&Ue("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),h=n[A]||null,h=h!=null?h[a]:null,typeof h=="function"&&n.removeEventListener(r,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,o,f);break e}a in n?n[a]=o:o===!0?n.setAttribute(a,""):ui(n,a,o)}}}function Gt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,h,g,a,null)}}f&&it(n,r,"srcSet",a.srcSet,a,null),o&&it(n,r,"src",a.src,a,null);return;case"input":Ue("invalid",n);var v=h=g=f=null,E=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var B=a[o];if(B!=null)switch(o){case"name":f=B;break;case"type":g=B;break;case"checked":E=B;break;case"defaultChecked":I=B;break;case"value":h=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:it(n,r,o,B,a,null)}}__(n,h,v,E,I,g,f,!1),Xu(n);return;case"select":Ue("invalid",n),o=g=h=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:it(n,r,f,v,a,null)}r=h,a=g,n.multiple=!!o,r!=null?Ta(n,!!o,r,!1):a!=null&&Ta(n,!!o,a,!0);return;case"textarea":Ue("invalid",n),h=f=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":f=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:it(n,r,g,v,a,null)}v_(n,o,f,h),Xu(n);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(n,r,E,o,a,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Ue(Mo[o],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,I,o,a,null)}return;default:if(jh(r)){for(B in a)a.hasOwnProperty(B)&&(o=a[B],o!==void 0&&Tp(n,r,B,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&it(n,r,v,o,a,null))}function iA(n,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,g=null,v=null,E=null,I=null,B=null;for(P in a){var V=a[P];if(a.hasOwnProperty(P)&&V!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":E=V;default:o.hasOwnProperty(P)||it(n,r,P,null,o,V)}}for(var k in o){var P=o[k];if(V=a[k],o.hasOwnProperty(k)&&(P!=null||V!=null))switch(k){case"type":h=P;break;case"name":f=P;break;case"checked":I=P;break;case"defaultChecked":B=P;break;case"value":g=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:P!==V&&it(n,r,k,P,o,V)}}Ph(n,g,v,E,I,B,h,f);return;case"select":P=g=v=k=null;for(h in a)if(E=a[h],a.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":P=E;default:o.hasOwnProperty(h)||it(n,r,h,null,o,E)}for(f in o)if(h=o[f],E=a[f],o.hasOwnProperty(f)&&(h!=null||E!=null))switch(f){case"value":k=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==E&&it(n,r,f,h,o,E)}r=v,a=g,o=P,k!=null?Ta(n,!!a,k,!1):!!o!=!!a&&(r!=null?Ta(n,!!a,r,!0):Ta(n,!!a,a?[]:"",!1));return;case"textarea":P=k=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:it(n,r,v,null,o,f)}for(g in o)if(f=o[g],h=a[g],o.hasOwnProperty(g)&&(f!=null||h!=null))switch(g){case"value":k=f;break;case"defaultValue":P=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&it(n,r,g,f,o,h)}y_(n,k,P);return;case"option":for(var Te in a)if(k=a[Te],a.hasOwnProperty(Te)&&k!=null&&!o.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:it(n,r,Te,null,o,k)}for(E in o)if(k=o[E],P=a[E],o.hasOwnProperty(E)&&k!==P&&(k!=null||P!=null))switch(E){case"selected":n.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:it(n,r,E,k,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)k=a[ye],a.hasOwnProperty(ye)&&k!=null&&!o.hasOwnProperty(ye)&&it(n,r,ye,null,o,k);for(I in o)if(k=o[I],P=a[I],o.hasOwnProperty(I)&&k!==P&&(k!=null||P!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:it(n,r,I,k,o,P)}return;default:if(jh(r)){for(var rt in a)k=a[rt],a.hasOwnProperty(rt)&&k!==void 0&&!o.hasOwnProperty(rt)&&Tp(n,r,rt,void 0,o,k);for(B in o)k=o[B],P=a[B],!o.hasOwnProperty(B)||k===P||k===void 0&&P===void 0||Tp(n,r,B,k,o,P);return}}for(var D in a)k=a[D],a.hasOwnProperty(D)&&k!=null&&!o.hasOwnProperty(D)&&it(n,r,D,null,o,k);for(V in o)k=o[V],P=a[V],!o.hasOwnProperty(V)||k===P||k==null&&P==null||it(n,r,V,k,o,P)}var Cp=null,wp=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function bb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ap=null;function rA(){var n=window.event;return n&&n.type==="popstate"?n===Ap?!1:(Ap=n,!0):(Ap=null,!1)}var Sb=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(n){return Tb.resolve(null).then(n).catch(lA)}:Sb;function lA(n){setTimeout(function(){throw n})}function Dr(n){return n==="head"}function Cb(n,r){var a=r,o=0,f=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<o&&8>o){a=o;var g=n.ownerDocument;if(a&1&&Io(g.documentElement),a&2&&Io(g.body),a&4)for(a=g.head,Io(a),g=a.firstChild;g;){var v=g.nextSibling,E=g.nodeName;g[oe]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=v}}if(f===0){n.removeChild(h),Bo(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=h}while(a);Bo(r)}function Op(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Op(a),ce(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function oA(n,r,a,o){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[oe])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(h=n.getAttribute("rel"),h==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(h!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(h=n.getAttribute("src"),(h!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===h)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function uA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function Dp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function cA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),n._reactRetry=o}}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Np=null;function wb(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Rb(n,r,a){switch(r=Gc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Io(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ce(n)}var jn=new Map,Ab=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qi=ie.d;ie.d={f:fA,r:hA,D:dA,C:pA,L:mA,m:gA,X:yA,S:_A,M:vA};function fA(){var n=qi.f(),r=Pc();return n||r}function hA(n){var r=fe(n);r!==null&&r.tag===5&&r.type==="form"?Qy(r):qi.r(n)}var Ja=typeof document>"u"?null:document;function Ob(n,r,a){var o=Ja;if(o&&typeof r=="string"&&r){var f=xn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ab.has(f)||(Ab.add(f),n={rel:n,crossOrigin:a,href:r},o.querySelector(f)===null&&(r=o.createElement("link"),Gt(r,"link",n),Pe(r),o.head.appendChild(r)))}}function dA(n){qi.D(n),Ob("dns-prefetch",n,null)}function pA(n,r){qi.C(n,r),Ob("preconnect",n,r)}function mA(n,r,a){qi.L(n,r,a);var o=Ja;if(o&&n&&r){var f='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xn(a.imageSizes)+'"]')):f+='[href="'+xn(n)+'"]';var h=f;switch(r){case"style":h=el(n);break;case"script":h=tl(n)}jn.has(h)||(n=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),jn.set(h,n),o.querySelector(f)!==null||r==="style"&&o.querySelector(Lo(h))||r==="script"&&o.querySelector(Uo(h))||(r=o.createElement("link"),Gt(r,"link",n),Pe(r),o.head.appendChild(r)))}}function gA(n,r){qi.m(n,r);var a=Ja;if(a&&n){var o=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(n)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=tl(n)}if(!jn.has(h)&&(n=y({rel:"modulepreload",href:n},r),jn.set(h,n),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(h)))return}o=a.createElement("link"),Gt(o,"link",n),Pe(o),a.head.appendChild(o)}}}function _A(n,r,a){qi.S(n,r,a);var o=Ja;if(o&&n){var f=Ae(o).hoistableStyles,h=el(n);r=r||"default";var g=f.get(h);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Lo(h)))v.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},a),(a=jn.get(h))&&Mp(n,a);var E=g=o.createElement("link");Pe(E),Gt(E,"link",n),E._p=new Promise(function(I,B){E.onload=I,E.onerror=B}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qc(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:v},f.set(h,g)}}}function yA(n,r){qi.X(n,r);var a=Ja;if(a&&n){var o=Ae(a).hoistableScripts,f=tl(n),h=o.get(f);h||(h=a.querySelector(Uo(f)),h||(n=y({src:n,async:!0},r),(r=jn.get(f))&&xp(n,r),h=a.createElement("script"),Pe(h),Gt(h,"link",n),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function vA(n,r){qi.M(n,r);var a=Ja;if(a&&n){var o=Ae(a).hoistableScripts,f=tl(n),h=o.get(f);h||(h=a.querySelector(Uo(f)),h||(n=y({src:n,async:!0,type:"module"},r),(r=jn.get(f))&&xp(n,r),h=a.createElement("script"),Pe(h),Gt(h,"link",n),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Db(n,r,a,o){var f=(f=_e.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=el(a.href),a=Ae(f).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=el(a.href);var h=Ae(f).hoistableStyles,g=h.get(n);if(g||(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(n,g),(h=f.querySelector(Lo(n)))&&!h._p&&(g.instance=h,g.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),h||bA(f,n,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(a),a=Ae(f).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function el(n){return'href="'+xn(n)+'"'}function Lo(n){return'link[rel="stylesheet"]['+n+"]"}function Nb(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function bA(n,r,a,o){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=n.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Gt(r,"link",a),Pe(r),n.head.appendChild(r))}function tl(n){return'[src="'+xn(n)+'"]'}function Uo(n){return"script[async]"+n}function Mb(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=n.querySelector('style[data-href~="'+xn(a.href)+'"]');if(o)return r.instance=o,Pe(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),Pe(o),Gt(o,"style",f),Qc(o,a.precedence,n),r.instance=o;case"stylesheet":f=el(a.href);var h=n.querySelector(Lo(f));if(h)return r.state.loading|=4,r.instance=h,Pe(h),h;o=Nb(a),(f=jn.get(f))&&Mp(o,f),h=(n.ownerDocument||n).createElement("link"),Pe(h);var g=h;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Gt(h,"link",o),r.state.loading|=4,Qc(h,a.precedence,n),r.instance=h;case"script":return h=tl(a.src),(f=n.querySelector(Uo(h)))?(r.instance=f,Pe(f),f):(o=a,(f=jn.get(h))&&(o=y({},a),xp(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),Pe(f),Gt(f,"link",o),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Qc(o,a.precedence,n));return r.instance}function Qc(n,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===r)h=v;else if(h!==f)break}h?h.parentNode.insertBefore(n,h.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Mp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function xp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Kc=null;function xb(n,r,a){if(Kc===null){var o=new Map,f=Kc=new Map;f.set(a,o)}else f=Kc,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(n))return o;for(o.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var h=a[f];if(!(h[oe]||h[S]||n==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(r)||"";g=n+g;var v=o.get(g);v?v.push(h):o.set(g,[h])}}return o}function Ib(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function EA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Lb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ko=null;function SA(){}function TA(n,r,a){if(ko===null)throw Error(s(475));var o=ko;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=el(a.href),h=n.querySelector(Lo(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Wc.bind(o),n.then(o,o)),r.state.loading|=4,r.instance=h,Pe(h);return}h=n.ownerDocument||n,a=Nb(a),(f=jn.get(f))&&Mp(a,f),h=h.createElement("link"),Pe(h);var g=h;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Gt(h,"link",a),r.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Wc.bind(o),n.addEventListener("load",r),n.addEventListener("error",r))}}function CA(){if(ko===null)throw Error(s(475));var n=ko;return n.stylesheets&&n.count===0&&Ip(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Ip(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function Ip(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,r.forEach(wA,n),Xc=null,Wc.call(n))}function wA(n,r){if(!(r.state.loading&4)){var a=Xc.get(n);if(a)var o=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var g=f[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}f=r.instance,g=f.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,f),a.set(g,f),this.count++,o=Wc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Po={$$typeof:X,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function RA(n,r,a,o,f,h,g,v){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Ub(n,r,a,o,f,h,g,v,E,I,B,V){return n=new RA(n,r,a,g,v,E,I,V),r=1,h===!0&&(r|=24),h=bn(3,null,null,r),n.current=h,h.stateNode=n,r=pd(),r.refCount++,n.pooledCache=r,r.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:r},yd(h),n}function kb(n){return n?(n=xa,n):xa}function Pb(n,r,a,o,f,h){f=kb(f),o.context===null?o.context=f:o.pendingContext=f,o=gr(r),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=_r(n,o,r),a!==null&&(wn(a,n,r),ho(a,n,r))}function zb(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Lp(n,r){zb(n,r),(n=n.alternate)&&zb(n,r)}function jb(n){if(n.tag===13){var r=Ma(n,67108864);r!==null&&wn(r,n,67108864),Lp(n,67108864)}}var Zc=!0;function AA(n,r,a,o){var f=H.T;H.T=null;var h=ie.p;try{ie.p=2,Up(n,r,a,o)}finally{ie.p=h,H.T=f}}function OA(n,r,a,o){var f=H.T;H.T=null;var h=ie.p;try{ie.p=8,Up(n,r,a,o)}finally{ie.p=h,H.T=f}}function Up(n,r,a,o){if(Zc){var f=kp(o);if(f===null)Sp(n,r,o,$c,a),Bb(n,o);else if(NA(f,n,r,a,o))o.stopPropagation();else if(Bb(n,o),r&4&&-1<DA.indexOf(n)){for(;f!==null;){var h=fe(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=li(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-mt(g);v.entanglements[1]|=E,g&=~E}mi(h),(Je&6)===0&&(Uc=Dn()+500,No(0))}}break;case 13:v=Ma(h,2),v!==null&&wn(v,h,2),Pc(),Lp(h,2)}if(h=kp(o),h===null&&Sp(n,r,o,$c,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Sp(n,r,o,null,a)}}function kp(n){return n=Bh(n),Pp(n)}var $c=null;function Pp(n){if($c=null,n=re(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return $c=n,null}function Hb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xh()){case Gl:return 2;case Vu:return 8;case ba:case Ih:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var zp=!1,Nr=null,Mr=null,xr=null,zo=new Map,jo=new Map,Ir=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bb(n,r){switch(n){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":zo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(r.pointerId)}}function Ho(n,r,a,o,f,h){return n===null||n.nativeEvent!==h?(n={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},r!==null&&(r=fe(r),r!==null&&jb(r)),n):(n.eventSystemFlags|=o,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function NA(n,r,a,o,f){switch(r){case"focusin":return Nr=Ho(Nr,n,r,a,o,f),!0;case"dragenter":return Mr=Ho(Mr,n,r,a,o,f),!0;case"mouseover":return xr=Ho(xr,n,r,a,o,f),!0;case"pointerover":var h=f.pointerId;return zo.set(h,Ho(zo.get(h)||null,n,r,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,jo.set(h,Ho(jo.get(h)||null,n,r,a,o,f)),!0}return!1}function qb(n){var r=re(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,kh(n.priority,function(){if(a.tag===13){var o=Cn();o=Sa(o);var f=Ma(a,o);f!==null&&wn(f,a,o),Lp(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=kp(n.nativeEvent);if(a===null){a=n.nativeEvent;var o=new a.constructor(a.type,a);Hh=o,a.target.dispatchEvent(o),Hh=null}else return r=fe(a),r!==null&&jb(r),n.blockedOn=a,!1;r.shift()}return!0}function Fb(n,r,a){Jc(n)&&a.delete(r)}function MA(){zp=!1,Nr!==null&&Jc(Nr)&&(Nr=null),Mr!==null&&Jc(Mr)&&(Mr=null),xr!==null&&Jc(xr)&&(xr=null),zo.forEach(Fb),jo.forEach(Fb)}function ef(n,r){n.blockedOn===r&&(n.blockedOn=null,zp||(zp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MA)))}var tf=null;function Vb(n){tf!==n&&(tf=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tf===n&&(tf=null);for(var r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],f=n[r+2];if(typeof o!="function"){if(Pp(o||a)===null)continue;break}var h=fe(a);h!==null&&(n.splice(r,3),r-=3,Pd(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Bo(n){function r(E){return ef(E,n)}Nr!==null&&ef(Nr,n),Mr!==null&&ef(Mr,n),xr!==null&&ef(xr,n),zo.forEach(r),jo.forEach(r);for(var a=0;a<Ir.length;a++){var o=Ir[a];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)qb(a),a.blockedOn===null&&Ir.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],g=f[A]||null;if(typeof h=="function")g||Vb(a);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(f=h,g=h[A]||null)v=g.formAction;else if(Pp(f)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Vb(a)}}}function jp(n){this._internalRoot=n}nf.prototype.render=jp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=Cn();Pb(a,o,n,r,null,null)},nf.prototype.unmount=jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Pb(n.current,2,null,n,null,null),Pc(),r[z]=null}};function nf(n){this._internalRoot=n}nf.prototype.unstable_scheduleHydration=function(n){if(n){var r=bs();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Ir.length&&r!==0&&r<Ir[a].priority;a++);Ir.splice(a,0,n),a===0&&qb(n)}};var Gb=e.version;if(Gb!=="19.1.0")throw Error(s(527,Gb,"19.1.0"));ie.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var xA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{cr=rf.inject(xA),Bt=rf}catch{}}return Fo.createRoot=function(n,r){if(!l(n))throw Error(s(299));var a=!1,o="",f=lv,h=ov,g=uv,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=Ub(n,1,!1,null,null,a,o,f,h,g,v,null),n[z]=r.current,Ep(n),new jp(r)},Fo.hydrateRoot=function(n,r,a){if(!l(n))throw Error(s(299));var o=!1,f="",h=lv,g=ov,v=uv,E=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),r=Ub(n,1,!0,r,a??null,o,f,h,g,v,E,I),r.context=kb(null),a=r.current,o=Cn(),o=Sa(o),f=gr(o),f.callback=null,_r(a,f,o),a=o,r.current.lanes=a,Ri(r,a),mi(r),n[z]=r.current,Ep(n),new nf(r)},Fo.version="19.1.0",Fo}var nE;function FA(){if(nE)return Fp.exports;nE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=qA(),Fp.exports}var VA=FA(),Qp={exports:{}},Kp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function GA(){if(iE)return Kp;iE=1;var t=rh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,l=t.useRef,u=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Kp.useSyncExternalStoreWithSelector=function(p,m,y,_,b){var T=l(null);if(T.current===null){var O={hasValue:!1,value:null};T.current=O}else O=T.current;T=c(function(){function M(Y){if(!W){if(W=!0,F=Y,Y=_(Y),b!==void 0&&O.hasValue){var ue=O.value;if(b(ue,Y))return X=ue}return X=Y}if(ue=X,i(F,Y))return ue;var L=_(Y);return b!==void 0&&b(ue,L)?(F=Y,ue):(F=Y,X=L)}var W=!1,F,X,Q=y===void 0?null:y;return[function(){return M(m())},Q===null?void 0:function(){return M(Q())}]},[m,y,_,b]);var U=s(p,T[0],T[1]);return u(function(){O.hasValue=!0,O.value=U},[U]),d(U),U},Kp}var rE;function YA(){return rE||(rE=1,Qp.exports=GA()),Qp.exports}var QA=YA();function KA(t){t()}function WA(){let t=null,e=null;return{clear(){t=null,e=null},notify(){KA(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=t;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:t=l,function(){!s||t===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:t=l.next)}}}}var sE={notify(){},get:()=>[]};function XA(t,e){let i,s=sE,l=0,u=!1;function c(U){y();const M=s.subscribe(U);let W=!1;return()=>{W||(W=!0,M(),_())}}function d(){s.notify()}function p(){O.onStateChange&&O.onStateChange()}function m(){return u}function y(){l++,i||(i=t.subscribe(p),s=WA())}function _(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=sE)}function b(){u||(u=!0,y())}function T(){u&&(u=!1,_())}const O={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:b,tryUnsubscribe:T,getListeners:()=>s};return O}var ZA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$A=ZA(),JA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eO=JA(),tO=()=>$A||eO?j.useLayoutEffect:j.useEffect,nO=tO(),Wp=Symbol.for("react-redux-context"),Xp=typeof globalThis<"u"?globalThis:{};function iO(){if(!j.createContext)return{};const t=Xp[Wp]??(Xp[Wp]=new Map);let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var rs=iO();function rO(t){const{children:e,context:i,serverState:s,store:l}=t,u=j.useMemo(()=>{const p=XA(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),c=j.useMemo(()=>l.getState(),[l]);nO(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const d=i||rs;return j.createElement(d.Provider,{value:u},e)}var sO=rO;function fg(t=rs){return function(){return j.useContext(t)}}var gS=fg();function _S(t=rs){const e=t===rs?gS:fg(t),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var aO=_S();function lO(t=rs){const e=t===rs?aO:_S(t),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var oO=lO(),uO=(t,e)=>t===e;function cO(t=rs){const e=t===rs?gS:fg(t),i=(s,l={})=>{const{equalityFn:u=uO}=typeof l=="function"?{equalityFn:l}:l,c=e(),{store:d,subscription:p,getServerState:m}=c;j.useRef(!0);const y=j.useCallback({[s.name](b){return s(b)}}[s.name],[s]),_=QA.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,m||d.getState,y,u);return j.useDebugValue(_),_};return Object.assign(i,{withTypes:()=>i}),i}var ii=cO(),yS=mS();const fO=pS(yS),hO=dS({__proto__:null,default:fO},[yS]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},pt.apply(this,arguments)}var Ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ot||(Ot={}));const aE="popstate";function dO(t){t===void 0&&(t={});function e(l,u){let{pathname:c="/",search:d="",hash:p=""}=ar(l.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),uu("",{pathname:c,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let c=l.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof u=="string"?u:na(u))}function s(l,u){ta(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return mO(e,i,s,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ta(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pO(){return Math.random().toString(36).substr(2,8)}function lE(t,e){return{usr:t.state,key:t.key,idx:e}}function uu(t,e,i,s){return i===void 0&&(i=null),pt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ar(e):e,{state:i,key:e&&e.key||s||pO()})}function na(t){let{pathname:e="/",search:i="",hash:s=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ar(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function mO(t,e,i,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,d=Ot.Pop,p=null,m=y();m==null&&(m=0,c.replaceState(pt({},c.state,{idx:m}),""));function y(){return(c.state||{idx:null}).idx}function _(){d=Ot.Pop;let M=y(),W=M==null?null:M-m;m=M,p&&p({action:d,location:U.location,delta:W})}function b(M,W){d=Ot.Push;let F=uu(U.location,M,W);i&&i(F,M),m=y()+1;let X=lE(F,m),Q=U.createHref(F);try{c.pushState(X,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(Q)}u&&p&&p({action:d,location:U.location,delta:1})}function T(M,W){d=Ot.Replace;let F=uu(U.location,M,W);i&&i(F,M),m=y();let X=lE(F,m),Q=U.createHref(F);c.replaceState(X,"",Q),u&&p&&p({action:d,location:U.location,delta:0})}function O(M){let W=l.location.origin!=="null"?l.location.origin:l.location.href,F=typeof M=="string"?M:na(M);return F=F.replace(/ $/,"%20"),Me(W,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,W)}let U={get action(){return d},get location(){return t(l,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(aE,_),p=M,()=>{l.removeEventListener(aE,_),p=null}},createHref(M){return e(l,M)},createURL:O,encodeLocation(M){let W=O(M);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:T,go(M){return c.go(M)}};return U}var tt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tt||(tt={}));const gO=new Set(["lazy","caseSensitive","path","id","index","children"]);function _O(t){return t.index===!0}function Cf(t,e,i,s){return i===void 0&&(i=[]),s===void 0&&(s={}),t.map((l,u)=>{let c=[...i,String(u)],d=typeof l.id=="string"?l.id:c.join("-");if(Me(l.index!==!0||!l.children,"Cannot specify children on an index route"),Me(!s[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),_O(l)){let p=pt({},l,e(l),{id:d});return s[d]=p,p}else{let p=pt({},l,e(l),{id:d,children:void 0});return s[d]=p,l.children&&(p.children=Cf(l.children,e,c,s)),p}})}function Bs(t,e,i){return i===void 0&&(i="/"),mf(t,e,i,!1)}function mf(t,e,i,s){let l=typeof e=="string"?ar(e):e,u=tr(l.pathname||"/",i);if(u==null)return null;let c=vS(t);vO(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=NO(u);d=OO(c[p],m,s)}return d}function yO(t,e){let{route:i,pathname:s,params:l}=t;return{id:i.id,pathname:s,params:l,data:e[i.id],handle:i.handle}}function vS(t,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let l=(u,c,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let m=Xi([s,p.relativePath]),y=i.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),vS(u.children,e,y,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:RO(m,u.index),routesMeta:y})};return t.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,c);else for(let p of bS(u.path))l(u,c,p)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=bS(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function vO(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:AO(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const bO=/^:[\w-]+$/,EO=3,SO=2,TO=1,CO=10,wO=-2,oE=t=>t==="*";function RO(t,e){let i=t.split("/"),s=i.length;return i.some(oE)&&(s+=wO),e&&(s+=SO),i.filter(l=>!oE(l)).reduce((l,u)=>l+(bO.test(u)?EO:u===""?TO:CO),s)}function AO(t,e){return t.length===e.length&&t.slice(0,-1).every((s,l)=>s===e[l])?t[t.length-1]-e[e.length-1]:0}function OO(t,e,i){i===void 0&&(i=!1);let{routesMeta:s}=t,l={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],m=d===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!_&&m&&i&&!s[s.length-1].route.index&&(_=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),c.push({params:l,pathname:Xi([u,_.pathname]),pathnameBase:IO(Xi([u,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(u=Xi([u,_.pathnameBase]))}return c}function wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=DO(t.path,t.caseSensitive,t.end),l=e.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((m,y,_)=>{let{paramName:b,isOptional:T}=y;if(b==="*"){let U=d[_]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=d[_];return T&&!O?m[b]=void 0:m[b]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:t}}function DO(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function NO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=t.charAt(i);return s&&s!=="/"?null:t.slice(i)||"/"}function MO(t,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:l=""}=typeof t=="string"?ar(t):t;return{pathname:i?i.startsWith("/")?i:xO(i,e):e,search:LO(s),hash:UO(l)}}function xO(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Zp(t,e,i,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ES(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sh(t,e){let i=ES(t);return e?i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function ah(t,e,i,s){s===void 0&&(s=!1);let l;typeof t=="string"?l=ar(t):(l=pt({},t),Me(!l.pathname||!l.pathname.includes("?"),Zp("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Zp("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Zp("#","search","hash",l)));let u=t===""||l.pathname==="",c=u?"/":l.pathname,d;if(c==null)d=i;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;l.pathname=b.join("/")}d=_>=0?e[_]:"/"}let p=MO(l,d),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const Xi=t=>t.join("/").replace(/\/\/+/g,"/"),IO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Rf{constructor(e,i,s,l){l===void 0&&(l=!1),this.status=e,this.statusText=i||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function cu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SS=["post","put","patch","delete"],kO=new Set(SS),PO=["get",...SS],zO=new Set(PO),jO=new Set([301,302,303,307,308]),HO=new Set([307,308]),$p={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TS="remix-router-transitions";function FO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,i=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!i;Me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(t.mapRouteProperties)l=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;l=A=>({hasErrorBoundary:S(A)})}else l=qO;let u={},c=Cf(t.routes,l,void 0,u),d,p=t.basename||"/",m=t.dataStrategy||QO,y=t.patchRoutesOnNavigation,_=pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),b=null,T=new Set,O=null,U=null,M=null,W=t.hydrationData!=null,F=Bs(c,t.history.location,p),X=!1,Q=null;if(F==null&&!y){let S=hn(404,{pathname:t.history.location.pathname}),{matches:A,route:z}=vE(c);F=A,Q={[z.id]:S}}F&&!t.hydrationData&&fr(F,c,t.history.location.pathname).active&&(F=null);let Y;if(F)if(F.some(S=>S.route.lazy))Y=!1;else if(!F.some(S=>S.route.loader))Y=!0;else if(_.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;if(A){let z=F.findIndex(K=>A[K.route.id]!==void 0);Y=F.slice(0,z+1).every(K=>!bm(K.route,S,A))}else Y=F.every(z=>!bm(z.route,S,A))}else Y=t.hydrationData!=null;else if(Y=!1,F=[],_.v7_partialHydration){let S=fr(null,c,t.history.location.pathname);S.active&&S.matches&&(X=!0,F=S.matches)}let ue,L={historyAction:t.history.action,location:t.history.location,matches:F,initialized:Y,navigation:$p,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},Z=Ot.Pop,ee=!1,se,je=!1,we=new Map,ot=null,_t=!1,ut=!1,H=[],ie=new Set,le=new Map,Ve=0,w=-1,G=new Map,te=new Set,J=new Map,de=new Map,Re=new Set,_e=new Map,Tt=new Map,Xe;function si(){if(b=t.history.listen(S=>{let{action:A,location:z,delta:K}=S;if(Xe){Xe(),Xe=void 0;return}ta(Tt.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Yl({currentLocation:L.location,nextLocation:z,historyAction:A});if(ne&&K!=null){let me=new Promise(be=>{Xe=be});t.history.go(K*-1),ys(ne,{state:"blocked",location:z,proceed(){ys(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),me.then(()=>t.history.go(K))},reset(){let be=new Map(L.blockers);be.set(ne,Vo),Dt({blockers:be})}});return}return Ci(A,z)}),i){l1(e,we);let S=()=>o1(e,we);e.addEventListener("pagehide",S),ot=()=>e.removeEventListener("pagehide",S)}return L.initialized||Ci(Ot.Pop,L.location,{initialHydration:!0}),ue}function Vl(){b&&b(),ot&&ot(),T.clear(),se&&se.abort(),L.fetchers.forEach((S,A)=>Ea(A)),L.blockers.forEach((S,A)=>Qu(A))}function ya(S){return T.add(S),()=>T.delete(S)}function Dt(S,A){A===void 0&&(A={}),L=pt({},L,S);let z=[],K=[];_.v7_fetcherPersist&&L.fetchers.forEach((ne,me)=>{ne.state==="idle"&&(Re.has(me)?K.push(me):z.push(me))}),Re.forEach(ne=>{!L.fetchers.has(ne)&&!le.has(ne)&&K.push(ne)}),[...T].forEach(ne=>ne(L,{deletedFetchers:K,viewTransitionOpts:A.viewTransitionOpts,flushSync:A.flushSync===!0})),_.v7_fetcherPersist?(z.forEach(ne=>L.fetchers.delete(ne)),K.forEach(ne=>Ea(ne))):K.forEach(ne=>Re.delete(ne))}function ai(S,A,z){var K,ne;let{flushSync:me}=z===void 0?{}:z,be=L.actionData!=null&&L.navigation.formMethod!=null&&Wn(L.navigation.formMethod)&&L.navigation.state==="loading"&&((K=S.state)==null?void 0:K._isRedirect)!==!0,oe;A.actionData?Object.keys(A.actionData).length>0?oe=A.actionData:oe=null:be?oe=L.actionData:oe=null;let ce=A.loaderData?_E(L.loaderData,A.loaderData,A.matches||[],A.errors):L.loaderData,re=L.blockers;re.size>0&&(re=new Map(re),re.forEach((Ae,Pe)=>re.set(Pe,Vo)));let fe=ee===!0||L.navigation.formMethod!=null&&Wn(L.navigation.formMethod)&&((ne=S.state)==null?void 0:ne._isRedirect)!==!0;d&&(c=d,d=void 0),_t||Z===Ot.Pop||(Z===Ot.Push?t.history.push(S,S.state):Z===Ot.Replace&&t.history.replace(S,S.state));let Ce;if(Z===Ot.Pop){let Ae=we.get(L.location.pathname);Ae&&Ae.has(S.pathname)?Ce={currentLocation:L.location,nextLocation:S}:we.has(S.pathname)&&(Ce={currentLocation:S,nextLocation:L.location})}else if(je){let Ae=we.get(L.location.pathname);Ae?Ae.add(S.pathname):(Ae=new Set([S.pathname]),we.set(L.location.pathname,Ae)),Ce={currentLocation:L.location,nextLocation:S}}Dt(pt({},A,{actionData:oe,loaderData:ce,historyAction:Z,location:S,initialized:!0,navigation:$p,revalidation:"idle",restoreScrollPosition:Sa(S,A.matches||L.matches),preventScrollReset:fe,blockers:re}),{viewTransitionOpts:Ce,flushSync:me===!0}),Z=Ot.Pop,ee=!1,je=!1,_t=!1,ut=!1,H=[]}async function va(S,A){if(typeof S=="number"){t.history.go(S);return}let z=vm(L.location,L.matches,p,_.v7_prependBasename,S,_.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:K,submission:ne,error:me}=uE(_.v7_normalizeFormMethod,!1,z,A),be=L.location,oe=uu(L.location,K,A&&A.state);oe=pt({},oe,t.history.encodeLocation(oe));let ce=A&&A.replace!=null?A.replace:void 0,re=Ot.Push;ce===!0?re=Ot.Replace:ce===!1||ne!=null&&Wn(ne.formMethod)&&ne.formAction===L.location.pathname+L.location.search&&(re=Ot.Replace);let fe=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Ce=(A&&A.flushSync)===!0,Ae=Yl({currentLocation:be,nextLocation:oe,historyAction:re});if(Ae){ys(Ae,{state:"blocked",location:oe,proceed(){ys(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),va(S,A)},reset(){let Pe=new Map(L.blockers);Pe.set(Ae,Vo),Dt({blockers:Pe})}});return}return await Ci(re,oe,{submission:ne,pendingError:me,preventScrollReset:fe,replace:A&&A.replace,enableViewTransition:A&&A.viewTransition,flushSync:Ce})}function Mh(){if(Bt(),Dt({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){Ci(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}Ci(Z||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:je===!0})}}async function Ci(S,A,z){se&&se.abort(),se=null,Z=S,_t=(z&&z.startUninterruptedRevalidation)===!0,Ku(L.location,L.matches),ee=(z&&z.preventScrollReset)===!0,je=(z&&z.enableViewTransition)===!0;let K=d||c,ne=z&&z.overrideNavigation,me=z!=null&&z.initialHydration&&L.matches&&L.matches.length>0&&!X?L.matches:Bs(K,A,p),be=(z&&z.flushSync)===!0;if(me&&L.initialized&&!ut&&JO(L.location,A)&&!(z&&z.submission&&Wn(z.submission.formMethod))){ai(A,{matches:me},{flushSync:be});return}let oe=fr(me,K,A.pathname);if(oe.active&&oe.matches&&(me=oe.matches),!me){let{error:Ze,notFoundMatches:qe,route:Ke}=vs(A.pathname);ai(A,{matches:qe,loaderData:{},errors:{[Ke.id]:Ze}},{flushSync:be});return}se=new AbortController;let ce=nl(t.history,A,se.signal,z&&z.submission),re;if(z&&z.pendingError)re=[qs(me).route.id,{type:tt.error,error:z.pendingError}];else if(z&&z.submission&&Wn(z.submission.formMethod)){let Ze=await Dn(ce,A,z.submission,me,oe.active,{replace:z.replace,flushSync:be});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[qe,Ke]=Ze.pendingActionResult;if(Rn(Ke)&&cu(Ke.error)&&Ke.error.status===404){se=null,ai(A,{matches:Ze.matches,loaderData:{},errors:{[qe]:Ke.error}});return}}me=Ze.matches||me,re=Ze.pendingActionResult,ne=Jp(A,z.submission),be=!1,oe.active=!1,ce=nl(t.history,ce.url,ce.signal)}let{shortCircuited:fe,matches:Ce,loaderData:Ae,errors:Pe}=await xh(ce,A,me,oe.active,ne,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,be,re);fe||(se=null,ai(A,pt({matches:Ce||me},yE(re),{loaderData:Ae,errors:Pe})))}async function Dn(S,A,z,K,ne,me){me===void 0&&(me={}),Bt();let be=s1(A,z);if(Dt({navigation:be},{flushSync:me.flushSync===!0}),ne){let re=await bs(K,A.pathname,S.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let fe=qs(re.partialMatches).route.id;return{matches:re.partialMatches,pendingActionResult:[fe,{type:tt.error,error:re.error}]}}else if(re.matches)K=re.matches;else{let{notFoundMatches:fe,error:Ce,route:Ae}=vs(A.pathname);return{matches:fe,pendingActionResult:[Ae.id,{type:tt.error,error:Ce}]}}}let oe,ce=$o(K,A);if(!ce.route.action&&!ce.route.lazy)oe={type:tt.error,error:hn(405,{method:S.method,pathname:A.pathname,routeId:ce.route.id})};else if(oe=(await ps("action",L,S,[ce],K,null))[ce.route.id],S.signal.aborted)return{shortCircuited:!0};if(Fs(oe)){let re;return me&&me.replace!=null?re=me.replace:re=pE(oe.response.headers.get("Location"),new URL(S.url),p)===L.location.pathname+L.location.search,await wi(S,oe,!0,{submission:z,replace:re}),{shortCircuited:!0}}if($r(oe))throw hn(400,{type:"defer-action"});if(Rn(oe)){let re=qs(K,ce.route.id);return(me&&me.replace)!==!0&&(Z=Ot.Push),{matches:K,pendingActionResult:[re.route.id,oe]}}return{matches:K,pendingActionResult:[ce.route.id,oe]}}async function xh(S,A,z,K,ne,me,be,oe,ce,re,fe){let Ce=ne||Jp(A,me),Ae=me||be||EE(Ce),Pe=!_t&&(!_.v7_partialHydration||!ce);if(K){if(Pe){let $e=Gl(fe);Dt(pt({navigation:Ce},$e!==void 0?{actionData:$e}:{}),{flushSync:re})}let He=await bs(z,A.pathname,S.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let $e=qs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[$e]:He.error}}}else if(He.matches)z=He.matches;else{let{error:$e,notFoundMatches:ci,route:Ai}=vs(A.pathname);return{matches:ci,loaderData:{},errors:{[Ai.id]:$e}}}}let Ze=d||c,[qe,Ke]=fE(t.history,L,z,Ae,A,_.v7_partialHydration&&ce===!0,_.v7_skipActionErrorRevalidation,ut,H,ie,Re,J,te,Ze,p,fe);if(Ri(He=>!(z&&z.some($e=>$e.route.id===He))||qe&&qe.some($e=>$e.route.id===He)),w=++Ve,qe.length===0&&Ke.length===0){let He=li();return ai(A,pt({matches:z,loaderData:{},errors:fe&&Rn(fe[1])?{[fe[0]]:fe[1].error}:null},yE(fe),He?{fetchers:new Map(L.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(Pe){let He={};if(!K){He.navigation=Ce;let $e=Gl(fe);$e!==void 0&&(He.actionData=$e)}Ke.length>0&&(He.fetchers=Vu(Ke)),Dt(He,{flushSync:re})}Ke.forEach(He=>{gn(He.key),He.controller&&le.set(He.key,He.controller)});let _n=()=>Ke.forEach(He=>gn(He.key));se&&se.signal.addEventListener("abort",_n);let{loaderResults:Es,fetcherResults:Nn}=await cr(L,z,qe,Ke,S);if(S.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",_n),Ke.forEach(He=>le.delete(He.key));let yn=af(Es);if(yn)return await wi(S,yn.result,!0,{replace:oe}),{shortCircuited:!0};if(yn=af(Nn),yn)return te.add(yn.key),await wi(S,yn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:Kl,errors:ui}=gE(L,z,Es,fe,Ke,Nn,_e);_e.forEach((He,$e)=>{He.subscribe(ci=>{(ci||He.done)&&_e.delete($e)})}),_.v7_partialHydration&&ce&&L.errors&&(ui=pt({},L.errors,ui));let Mn=li(),sn=gs(w),hr=Mn||sn||Ke.length>0;return pt({matches:z,loaderData:Kl,errors:ui},hr?{fetchers:new Map(L.fetchers)}:{})}function Gl(S){if(S&&!Rn(S[1]))return{[S[0]]:S[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Vu(S){return S.forEach(A=>{let z=L.fetchers.get(A.key),K=Go(void 0,z?z.data:void 0);L.fetchers.set(A.key,K)}),new Map(L.fetchers)}function ba(S,A,z,K){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");gn(S);let ne=(K&&K.flushSync)===!0,me=d||c,be=vm(L.location,L.matches,p,_.v7_prependBasename,z,_.v7_relativeSplatPath,A,K==null?void 0:K.relative),oe=Bs(me,be,p),ce=fr(oe,me,be);if(ce.active&&ce.matches&&(oe=ce.matches),!oe){mt(S,A,hn(404,{pathname:be}),{flushSync:ne});return}let{path:re,submission:fe,error:Ce}=uE(_.v7_normalizeFormMethod,!0,be,K);if(Ce){mt(S,A,Ce,{flushSync:ne});return}let Ae=$o(oe,re),Pe=(K&&K.preventScrollReset)===!0;if(fe&&Wn(fe.formMethod)){Ih(S,A,re,Ae,oe,ce.active,ne,Pe,fe);return}J.set(S,{routeId:A,path:re}),Gu(S,A,re,Ae,oe,ce.active,ne,Pe,fe)}async function Ih(S,A,z,K,ne,me,be,oe,ce){Bt(),J.delete(S);function re(yt){if(!yt.route.action&&!yt.route.lazy){let Oi=hn(405,{method:ce.formMethod,pathname:z,routeId:A});return mt(S,A,Oi,{flushSync:be}),!0}return!1}if(!me&&re(K))return;let fe=L.fetchers.get(S);qt(S,a1(ce,fe),{flushSync:be});let Ce=new AbortController,Ae=nl(t.history,z,Ce.signal,ce);if(me){let yt=await bs(ne,new URL(Ae.url).pathname,Ae.signal,S);if(yt.type==="aborted")return;if(yt.type==="error"){mt(S,A,yt.error,{flushSync:be});return}else if(yt.matches){if(ne=yt.matches,K=$o(ne,z),re(K))return}else{mt(S,A,hn(404,{pathname:z}),{flushSync:be});return}}le.set(S,Ce);let Pe=Ve,qe=(await ps("action",L,Ae,[K],ne,S))[K.route.id];if(Ae.signal.aborted){le.get(S)===Ce&&le.delete(S);return}if(_.v7_fetcherPersist&&Re.has(S)){if(Fs(qe)||Rn(qe)){qt(S,kr(void 0));return}}else{if(Fs(qe))if(le.delete(S),w>Pe){qt(S,kr(void 0));return}else return te.add(S),qt(S,Go(ce)),wi(Ae,qe,!1,{fetcherSubmission:ce,preventScrollReset:oe});if(Rn(qe)){mt(S,A,qe.error);return}}if($r(qe))throw hn(400,{type:"defer-action"});let Ke=L.navigation.location||L.location,_n=nl(t.history,Ke,Ce.signal),Es=d||c,Nn=L.navigation.state!=="idle"?Bs(Es,L.navigation.location,p):L.matches;Me(Nn,"Didn't find any matches after fetcher action");let yn=++Ve;G.set(S,yn);let Kl=Go(ce,qe.data);L.fetchers.set(S,Kl);let[ui,Mn]=fE(t.history,L,Nn,ce,Ke,!1,_.v7_skipActionErrorRevalidation,ut,H,ie,Re,J,te,Es,p,[K.route.id,qe]);Mn.filter(yt=>yt.key!==S).forEach(yt=>{let Oi=yt.key,Zt=L.fetchers.get(Oi),Wu=Go(void 0,Zt?Zt.data:void 0);L.fetchers.set(Oi,Wu),gn(Oi),yt.controller&&le.set(Oi,yt.controller)}),Dt({fetchers:new Map(L.fetchers)});let sn=()=>Mn.forEach(yt=>gn(yt.key));Ce.signal.addEventListener("abort",sn);let{loaderResults:hr,fetcherResults:He}=await cr(L,Nn,ui,Mn,_n);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",sn),G.delete(S),le.delete(S),Mn.forEach(yt=>le.delete(yt.key));let $e=af(hr);if($e)return wi(_n,$e.result,!1,{preventScrollReset:oe});if($e=af(He),$e)return te.add($e.key),wi(_n,$e.result,!1,{preventScrollReset:oe});let{loaderData:ci,errors:Ai}=gE(L,Nn,hr,void 0,Mn,He,_e);if(L.fetchers.has(S)){let yt=kr(qe.data);L.fetchers.set(S,yt)}gs(yn),L.navigation.state==="loading"&&yn>w?(Me(Z,"Expected pending action"),se&&se.abort(),ai(L.navigation.location,{matches:Nn,loaderData:ci,errors:Ai,fetchers:new Map(L.fetchers)})):(Dt({errors:Ai,loaderData:_E(L.loaderData,ci,Nn,Ai),fetchers:new Map(L.fetchers)}),ut=!1)}async function Gu(S,A,z,K,ne,me,be,oe,ce){let re=L.fetchers.get(S);qt(S,Go(ce,re?re.data:void 0),{flushSync:be});let fe=new AbortController,Ce=nl(t.history,z,fe.signal);if(me){let qe=await bs(ne,new URL(Ce.url).pathname,Ce.signal,S);if(qe.type==="aborted")return;if(qe.type==="error"){mt(S,A,qe.error,{flushSync:be});return}else if(qe.matches)ne=qe.matches,K=$o(ne,z);else{mt(S,A,hn(404,{pathname:z}),{flushSync:be});return}}le.set(S,fe);let Ae=Ve,Ze=(await ps("loader",L,Ce,[K],ne,S))[K.route.id];if($r(Ze)&&(Ze=await dg(Ze,Ce.signal,!0)||Ze),le.get(S)===fe&&le.delete(S),!Ce.signal.aborted){if(Re.has(S)){qt(S,kr(void 0));return}if(Fs(Ze))if(w>Ae){qt(S,kr(void 0));return}else{te.add(S),await wi(Ce,Ze,!1,{preventScrollReset:oe});return}if(Rn(Ze)){mt(S,A,Ze.error);return}Me(!$r(Ze),"Unhandled fetcher deferred data"),qt(S,kr(Ze.data))}}async function wi(S,A,z,K){let{submission:ne,fetcherSubmission:me,preventScrollReset:be,replace:oe}=K===void 0?{}:K;A.response.headers.has("X-Remix-Revalidate")&&(ut=!0);let ce=A.response.headers.get("Location");Me(ce,"Expected a Location header on the redirect Response"),ce=pE(ce,new URL(S.url),p);let re=uu(L.location,ce,{_isRedirect:!0});if(i){let qe=!1;if(A.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(hg.test(ce)){const Ke=t.history.createURL(ce);qe=Ke.origin!==e.location.origin||tr(Ke.pathname,p)==null}if(qe){oe?e.location.replace(ce):e.location.assign(ce);return}}se=null;let fe=oe===!0||A.response.headers.has("X-Remix-Replace")?Ot.Replace:Ot.Push,{formMethod:Ce,formAction:Ae,formEncType:Pe}=L.navigation;!ne&&!me&&Ce&&Ae&&Pe&&(ne=EE(L.navigation));let Ze=ne||me;if(HO.has(A.response.status)&&Ze&&Wn(Ze.formMethod))await Ci(fe,re,{submission:pt({},Ze,{formAction:ce}),preventScrollReset:be||ee,enableViewTransition:z?je:void 0});else{let qe=Jp(re,ne);await Ci(fe,re,{overrideNavigation:qe,fetcherSubmission:me,preventScrollReset:be||ee,enableViewTransition:z?je:void 0})}}async function ps(S,A,z,K,ne,me){let be,oe={};try{be=await KO(m,S,A,z,K,ne,me,u,l)}catch(ce){return K.forEach(re=>{oe[re.route.id]={type:tt.error,error:ce}}),oe}for(let[ce,re]of Object.entries(be))if(e1(re)){let fe=re.result;oe[ce]={type:tt.redirect,response:ZO(fe,z,ce,ne,p,_.v7_relativeSplatPath)}}else oe[ce]=await XO(re);return oe}async function cr(S,A,z,K,ne){let me=S.matches,be=ps("loader",S,ne,z,A,null),oe=Promise.all(K.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let Ae=(await ps("loader",S,nl(t.history,fe.path,fe.controller.signal),[fe.match],fe.matches,fe.key))[fe.match.route.id];return{[fe.key]:Ae}}else return Promise.resolve({[fe.key]:{type:tt.error,error:hn(404,{pathname:fe.path})}})})),ce=await be,re=(await oe).reduce((fe,Ce)=>Object.assign(fe,Ce),{});return await Promise.all([i1(A,ce,ne.signal,me,S.loaderData),r1(A,re,K)]),{loaderResults:ce,fetcherResults:re}}function Bt(){ut=!0,H.push(...Ri()),J.forEach((S,A)=>{le.has(A)&&ie.add(A),gn(A)})}function qt(S,A,z){z===void 0&&(z={}),L.fetchers.set(S,A),Dt({fetchers:new Map(L.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function mt(S,A,z,K){K===void 0&&(K={});let ne=qs(L.matches,A);Ea(S),Dt({errors:{[ne.route.id]:z},fetchers:new Map(L.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Yu(S){return de.set(S,(de.get(S)||0)+1),Re.has(S)&&Re.delete(S),L.fetchers.get(S)||BO}function Ea(S){let A=L.fetchers.get(S);le.has(S)&&!(A&&A.state==="loading"&&G.has(S))&&gn(S),J.delete(S),G.delete(S),te.delete(S),_.v7_fetcherPersist&&Re.delete(S),ie.delete(S),L.fetchers.delete(S)}function Lh(S){let A=(de.get(S)||0)-1;A<=0?(de.delete(S),Re.add(S),_.v7_fetcherPersist||Ea(S)):de.set(S,A),Dt({fetchers:new Map(L.fetchers)})}function gn(S){let A=le.get(S);A&&(A.abort(),le.delete(S))}function ms(S){for(let A of S){let z=Yu(A),K=kr(z.data);L.fetchers.set(A,K)}}function li(){let S=[],A=!1;for(let z of te){let K=L.fetchers.get(z);Me(K,"Expected fetcher: "+z),K.state==="loading"&&(te.delete(z),S.push(z),A=!0)}return ms(S),A}function gs(S){let A=[];for(let[z,K]of G)if(K<S){let ne=L.fetchers.get(z);Me(ne,"Expected fetcher: "+z),ne.state==="loading"&&(gn(z),G.delete(z),A.push(z))}return ms(A),A.length>0}function _s(S,A){let z=L.blockers.get(S)||Vo;return Tt.get(S)!==A&&Tt.set(S,A),z}function Qu(S){L.blockers.delete(S),Tt.delete(S)}function ys(S,A){let z=L.blockers.get(S)||Vo;Me(z.state==="unblocked"&&A.state==="blocked"||z.state==="blocked"&&A.state==="blocked"||z.state==="blocked"&&A.state==="proceeding"||z.state==="blocked"&&A.state==="unblocked"||z.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+A.state);let K=new Map(L.blockers);K.set(S,A),Dt({blockers:K})}function Yl(S){let{currentLocation:A,nextLocation:z,historyAction:K}=S;if(Tt.size===0)return;Tt.size>1&&ta(!1,"A router only supports one blocker at a time");let ne=Array.from(Tt.entries()),[me,be]=ne[ne.length-1],oe=L.blockers.get(me);if(!(oe&&oe.state==="proceeding")&&be({currentLocation:A,nextLocation:z,historyAction:K}))return me}function vs(S){let A=hn(404,{pathname:S}),z=d||c,{matches:K,route:ne}=vE(z);return Ri(),{notFoundMatches:K,route:ne,error:A}}function Ri(S){let A=[];return _e.forEach((z,K)=>{(!S||S(K))&&(z.cancel(),A.push(K),_e.delete(K))}),A}function Uh(S,A,z){if(O=S,M=A,U=z||null,!W&&L.navigation===$p){W=!0;let K=Sa(L.location,L.matches);K!=null&&Dt({restoreScrollPosition:K})}return()=>{O=null,M=null,U=null}}function Ql(S,A){return U&&U(S,A.map(K=>yO(K,L.loaderData)))||S.key}function Ku(S,A){if(O&&M){let z=Ql(S,A);O[z]=M()}}function Sa(S,A){if(O){let z=Ql(S,A),K=O[z];if(typeof K=="number")return K}return null}function fr(S,A,z){if(y)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:mf(A,z,p,!0)}}else return{active:!0,matches:mf(A,z,p,!0)||[]};return{active:!1,matches:null}}async function bs(S,A,z,K){if(!y)return{type:"success",matches:S};let ne=S;for(;;){let me=d==null,be=d||c,oe=u;try{await y({signal:z,path:A,matches:ne,fetcherKey:K,patch:(fe,Ce)=>{z.aborted||dE(fe,Ce,be,oe,l)}})}catch(fe){return{type:"error",error:fe,partialMatches:ne}}finally{me&&!z.aborted&&(c=[...c])}if(z.aborted)return{type:"aborted"};let ce=Bs(be,A,p);if(ce)return{type:"success",matches:ce};let re=mf(be,A,p,!0);if(!re||ne.length===re.length&&ne.every((fe,Ce)=>fe.route.id===re[Ce].route.id))return{type:"success",matches:null};ne=re}}function kh(S){u={},d=Cf(S,l,void 0,u)}function oi(S,A){let z=d==null;dE(S,A,d||c,u,l),z&&(c=[...c],Dt({}))}return ue={get basename(){return p},get future(){return _},get state(){return L},get routes(){return c},get window(){return e},initialize:si,subscribe:ya,enableScrollRestoration:Uh,navigate:va,fetch:ba,revalidate:Mh,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Yu,deleteFetcher:Lh,dispose:Vl,getBlocker:_s,deleteBlocker:Qu,patchRoutes:oi,_internalFetchControllers:le,_internalActiveDeferreds:_e,_internalSetRoutes:kh},ue}function VO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vm(t,e,i,s,l,u,c,d){let p,m;if(c){p=[];for(let _ of e)if(p.push(_),_.route.id===c){m=_;break}}else p=e,m=e[e.length-1];let y=ah(l||".",sh(p,u),tr(t.pathname,i)||t.pathname,d==="path");if(l==null&&(y.search=t.search,y.hash=t.hash),(l==null||l===""||l===".")&&m){let _=pg(y.search);if(m.route.index&&!_)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&_){let b=new URLSearchParams(y.search),T=b.getAll("index");b.delete("index"),T.filter(U=>U).forEach(U=>b.append("index",U));let O=b.toString();y.search=O?"?"+O:""}}return s&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Xi([i,y.pathname])),na(y)}function uE(t,e,i,s){if(!s||!VO(s))return{path:i};if(s.formMethod&&!n1(s.formMethod))return{path:i,error:hn(405,{method:s.formMethod})};let l=()=>({path:i,error:hn(400,{type:"invalid-body"})}),u=s.formMethod||"get",c=t?u.toUpperCase():u.toLowerCase(),d=RS(i);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Wn(c))return l();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((T,O)=>{let[U,M]=O;return""+T+U+"="+M+`
`},""):String(s.body);return{path:i,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!Wn(c))return l();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:i,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return l()}}}Me(typeof FormData=="function","FormData is not available in this environment");let p,m;if(s.formData)p=Em(s.formData),m=s.formData;else if(s.body instanceof FormData)p=Em(s.body),m=s.body;else if(s.body instanceof URLSearchParams)p=s.body,m=mE(p);else if(s.body==null)p=new URLSearchParams,m=new FormData;else try{p=new URLSearchParams(s.body),m=mE(p)}catch{return l()}let y={formMethod:c,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Wn(y.formMethod))return{path:i,submission:y};let _=ar(i);return e&&_.search&&pg(_.search)&&p.append("index",""),_.search="?"+p,{path:na(_),submission:y}}function cE(t,e,i){i===void 0&&(i=!1);let s=t.findIndex(l=>l.route.id===e);return s>=0?t.slice(0,i?s+1:s):t}function fE(t,e,i,s,l,u,c,d,p,m,y,_,b,T,O,U){let M=U?Rn(U[1])?U[1].error:U[1].data:void 0,W=t.createURL(e.location),F=t.createURL(l),X=i;u&&e.errors?X=cE(i,Object.keys(e.errors)[0],!0):U&&Rn(U[1])&&(X=cE(i,U[0]));let Q=U?U[1].statusCode:void 0,Y=c&&Q&&Q>=400,ue=X.filter((Z,ee)=>{let{route:se}=Z;if(se.lazy)return!0;if(se.loader==null)return!1;if(u)return bm(se,e.loaderData,e.errors);if(GO(e.loaderData,e.matches[ee],Z)||p.some(ot=>ot===Z.route.id))return!0;let je=e.matches[ee],we=Z;return hE(Z,pt({currentUrl:W,currentParams:je.params,nextUrl:F,nextParams:we.params},s,{actionResult:M,actionStatus:Q,defaultShouldRevalidate:Y?!1:d||W.pathname+W.search===F.pathname+F.search||W.search!==F.search||CS(je,we)}))}),L=[];return _.forEach((Z,ee)=>{if(u||!i.some(_t=>_t.route.id===Z.routeId)||y.has(ee))return;let se=Bs(T,Z.path,O);if(!se){L.push({key:ee,routeId:Z.routeId,path:Z.path,matches:null,match:null,controller:null});return}let je=e.fetchers.get(ee),we=$o(se,Z.path),ot=!1;b.has(ee)?ot=!1:m.has(ee)?(m.delete(ee),ot=!0):je&&je.state!=="idle"&&je.data===void 0?ot=d:ot=hE(we,pt({currentUrl:W,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:i[i.length-1].params},s,{actionResult:M,actionStatus:Q,defaultShouldRevalidate:Y?!1:d})),ot&&L.push({key:ee,routeId:Z.routeId,path:Z.path,matches:se,match:we,controller:new AbortController})}),[ue,L]}function bm(t,e,i){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&e[t.id]!==void 0,l=i!=null&&i[t.id]!==void 0;return!s&&l?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!l}function GO(t,e,i){let s=!e||i.route.id!==e.route.id,l=t[i.route.id]===void 0;return s||l}function CS(t,e){let i=t.route.path;return t.pathname!==e.pathname||i!=null&&i.endsWith("*")&&t.params["*"]!==e.params["*"]}function hE(t,e){if(t.route.shouldRevalidate){let i=t.route.shouldRevalidate(e);if(typeof i=="boolean")return i}return e.defaultShouldRevalidate}function dE(t,e,i,s,l){var u;let c;if(t){let m=s[t];Me(m,"No route found to patch children into: routeId = "+t),m.children||(m.children=[]),c=m.children}else c=i;let d=e.filter(m=>!c.some(y=>wS(m,y))),p=Cf(d,l,[t||"_","patch",String(((u=c)==null?void 0:u.length)||"0")],s);c.push(...p)}function wS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((i,s)=>{var l;return(l=e.children)==null?void 0:l.some(u=>wS(i,u))}):!1}async function YO(t,e,i){if(!t.lazy)return;let s=await t.lazy();if(!t.lazy)return;let l=i[t.id];Me(l,"No route found in manifest");let u={};for(let c in s){let p=l[c]!==void 0&&c!=="hasErrorBoundary";ta(!p,'Route "'+l.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!gO.has(c)&&(u[c]=s[c])}Object.assign(l,u),Object.assign(l,pt({},e(l),{lazy:void 0}))}async function QO(t){let{matches:e}=t,i=e.filter(l=>l.shouldLoad);return(await Promise.all(i.map(l=>l.resolve()))).reduce((l,u,c)=>Object.assign(l,{[i[c].route.id]:u}),{})}async function KO(t,e,i,s,l,u,c,d,p,m){let y=u.map(T=>T.route.lazy?YO(T.route,p,d):void 0),_=u.map((T,O)=>{let U=y[O],M=l.some(F=>F.route.id===T.route.id);return pt({},T,{shouldLoad:M,resolve:async F=>(F&&s.method==="GET"&&(T.route.lazy||T.route.loader)&&(M=!0),M?WO(e,s,T,U,F,m):Promise.resolve({type:tt.data,result:void 0}))})}),b=await t({matches:_,request:s,params:u[0].params,fetcherKey:c,context:m});try{await Promise.all(y)}catch{}return b}async function WO(t,e,i,s,l,u){let c,d,p=m=>{let y,_=new Promise((O,U)=>y=U);d=()=>y(),e.signal.addEventListener("abort",d);let b=O=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+i.route.id+"]"))):m({request:e,params:i.params,context:u},...O!==void 0?[O]:[]),T=(async()=>{try{return{type:"data",result:await(l?l(U=>b(U)):b())}}catch(O){return{type:"error",result:O}}})();return Promise.race([T,_])};try{let m=i.route[t];if(s)if(m){let y,[_]=await Promise.all([p(m).catch(b=>{y=b}),s]);if(y!==void 0)throw y;c=_}else if(await s,m=i.route[t],m)c=await p(m);else if(t==="action"){let y=new URL(e.url),_=y.pathname+y.search;throw hn(405,{method:e.method,pathname:_,routeId:i.route.id})}else return{type:tt.data,result:void 0};else if(m)c=await p(m);else{let y=new URL(e.url),_=y.pathname+y.search;throw hn(404,{pathname:_})}Me(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:tt.error,result:m}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function XO(t){let{result:e,type:i}=t;if(AS(e)){let _;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(b){return{type:tt.error,error:b}}return i===tt.error?{type:tt.error,error:new Rf(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:tt.data,data:_,statusCode:e.status,headers:e.headers}}if(i===tt.error){if(bE(e)){var s,l;if(e.data instanceof Error){var u,c;return{type:tt.error,error:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:tt.error,error:new Rf(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:cu(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:tt.error,error:e,statusCode:cu(e)?e.status:void 0}}if(t1(e)){var d,p;return{type:tt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((p=e.init)==null?void 0:p.headers)&&new Headers(e.init.headers)}}if(bE(e)){var m,y;return{type:tt.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(y=e.init)!=null&&y.headers?new Headers(e.init.headers):void 0}}return{type:tt.data,data:e}}function ZO(t,e,i,s,l,u){let c=t.headers.get("Location");if(Me(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!hg.test(c)){let d=s.slice(0,s.findIndex(p=>p.route.id===i)+1);c=vm(new URL(e.url),d,l,!0,c,u),t.headers.set("Location",c)}return t}function pE(t,e,i){if(hg.test(t)){let s=t,l=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=tr(l.pathname,i)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return t}function nl(t,e,i,s){let l=t.createURL(RS(e)).toString(),u={signal:i};if(s&&Wn(s.formMethod)){let{formMethod:c,formEncType:d}=s;u.method=c.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=Em(s.formData):u.body=s.formData}return new Request(l,u)}function Em(t){let e=new URLSearchParams;for(let[i,s]of t.entries())e.append(i,typeof s=="string"?s:s.name);return e}function mE(t){let e=new FormData;for(let[i,s]of t.entries())e.append(i,s);return e}function $O(t,e,i,s,l){let u={},c=null,d,p=!1,m={},y=i&&Rn(i[1])?i[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let b=_.route.id,T=e[b];if(Me(!Fs(T),"Cannot handle redirect results in processLoaderData"),Rn(T)){let O=T.error;y!==void 0&&(O=y,y=void 0),c=c||{};{let U=qs(t,b);c[U.route.id]==null&&(c[U.route.id]=O)}u[b]=void 0,p||(p=!0,d=cu(T.error)?T.error.status:500),T.headers&&(m[b]=T.headers)}else $r(T)?(s.set(b,T.deferredData),u[b]=T.deferredData.data,T.statusCode!=null&&T.statusCode!==200&&!p&&(d=T.statusCode),T.headers&&(m[b]=T.headers)):(u[b]=T.data,T.statusCode&&T.statusCode!==200&&!p&&(d=T.statusCode),T.headers&&(m[b]=T.headers))}),y!==void 0&&i&&(c={[i[0]]:y},u[i[0]]=void 0),{loaderData:u,errors:c,statusCode:d||200,loaderHeaders:m}}function gE(t,e,i,s,l,u,c){let{loaderData:d,errors:p}=$O(e,i,s,c);return l.forEach(m=>{let{key:y,match:_,controller:b}=m,T=u[y];if(Me(T,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Rn(T)){let O=qs(t.matches,_==null?void 0:_.route.id);p&&p[O.route.id]||(p=pt({},p,{[O.route.id]:T.error})),t.fetchers.delete(y)}else if(Fs(T))Me(!1,"Unhandled fetcher revalidation redirect");else if($r(T))Me(!1,"Unhandled fetcher deferred data");else{let O=kr(T.data);t.fetchers.set(y,O)}}),{loaderData:d,errors:p}}function _E(t,e,i,s){let l=pt({},e);for(let u of i){let c=u.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(l[c]=e[c]):t[c]!==void 0&&u.route.loader&&(l[c]=t[c]),s&&s.hasOwnProperty(c))break}return l}function yE(t){return t?Rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qs(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function vE(t){let e=t.length===1?t[0]:t.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(t,e){let{pathname:i,routeId:s,method:l,type:u,message:c}=e===void 0?{}:e,d="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(d="Bad Request",l&&i&&s?p="You made a "+l+' request to "'+i+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":u==="defer-action"?p="defer() is not supported in actions":u==="invalid-body"&&(p="Unable to encode submission body")):t===403?(d="Forbidden",p='Route "'+s+'" does not match URL "'+i+'"'):t===404?(d="Not Found",p='No route matches URL "'+i+'"'):t===405&&(d="Method Not Allowed",l&&i&&s?p="You made a "+l.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":l&&(p='Invalid request method "'+l.toUpperCase()+'"')),new Rf(t||500,d,new Error(p),!0)}function af(t){let e=Object.entries(t);for(let i=e.length-1;i>=0;i--){let[s,l]=e[i];if(Fs(l))return{key:s,result:l}}}function RS(t){let e=typeof t=="string"?ar(t):t;return na(pt({},e,{hash:""}))}function JO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function e1(t){return AS(t.result)&&jO.has(t.result.status)}function $r(t){return t.type===tt.deferred}function Rn(t){return t.type===tt.error}function Fs(t){return(t&&t.type)===tt.redirect}function bE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function t1(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function AS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function n1(t){return zO.has(t.toLowerCase())}function Wn(t){return kO.has(t.toLowerCase())}async function i1(t,e,i,s,l){let u=Object.entries(e);for(let c=0;c<u.length;c++){let[d,p]=u[c],m=t.find(b=>(b==null?void 0:b.route.id)===d);if(!m)continue;let y=s.find(b=>b.route.id===m.route.id),_=y!=null&&!CS(y,m)&&(l&&l[m.route.id])!==void 0;$r(p)&&_&&await dg(p,i,!1).then(b=>{b&&(e[d]=b)})}}async function r1(t,e,i){for(let s=0;s<i.length;s++){let{key:l,routeId:u,controller:c}=i[s],d=e[l];t.find(m=>(m==null?void 0:m.route.id)===u)&&$r(d)&&(Me(c,"Expected an AbortController for revalidating fetcher deferred result"),await dg(d,c.signal,!0).then(m=>{m&&(e[l]=m)}))}}async function dg(t,e,i){if(i===void 0&&(i=!1),!await t.deferredData.resolveData(e)){if(i)try{return{type:tt.data,data:t.deferredData.unwrappedData}}catch(l){return{type:tt.error,error:l}}return{type:tt.data,data:t.deferredData.data}}}function pg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $o(t,e){let i=typeof e=="string"?ar(e).search:e.search;if(t[t.length-1].route.index&&pg(i||""))return t[t.length-1];let s=ES(t);return s[s.length-1]}function EE(t){let{formMethod:e,formAction:i,formEncType:s,text:l,formData:u,json:c}=t;if(!(!e||!i||!s)){if(l!=null)return{formMethod:e,formAction:i,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:i,formEncType:s,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:i,formEncType:s,formData:void 0,json:c,text:void 0}}}function Jp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s1(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Go(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function a1(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function kr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function l1(t,e){try{let i=t.sessionStorage.getItem(TS);if(i){let s=JSON.parse(i);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function o1(t,e){if(e.size>0){let i={};for(let[s,l]of e)i[s]=[...l];try{t.sessionStorage.setItem(TS,JSON.stringify(i))}catch(s){ta(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Af.apply(this,arguments)}const Mu=j.createContext(null),mg=j.createContext(null),lr=j.createContext(null),gg=j.createContext(null),Ti=j.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=j.createContext(null);function u1(t,e){let{relative:i}=e===void 0?{}:e;Ul()||Me(!1);let{basename:s,navigator:l}=j.useContext(lr),{hash:u,pathname:c,search:d}=lh(t,{relative:i}),p=c;return s!=="/"&&(p=c==="/"?s:Xi([s,c])),l.createHref({pathname:p,search:d,hash:u})}function Ul(){return j.useContext(gg)!=null}function os(){return Ul()||Me(!1),j.useContext(gg).location}function DS(t){j.useContext(lr).static||j.useLayoutEffect(t)}function pa(){let{isDataRoute:t}=j.useContext(Ti);return t?S1():c1()}function c1(){Ul()||Me(!1);let t=j.useContext(Mu),{basename:e,future:i,navigator:s}=j.useContext(lr),{matches:l}=j.useContext(Ti),{pathname:u}=os(),c=JSON.stringify(sh(l,i.v7_relativeSplatPath)),d=j.useRef(!1);return DS(()=>{d.current=!0}),j.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){s.go(m);return}let _=ah(m,JSON.parse(c),u,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Xi([e,_.pathname])),(y.replace?s.replace:s.push)(_,y.state,y)},[e,s,c,u,t])}const f1=j.createContext(null);function h1(t){let e=j.useContext(Ti).outlet;return e&&j.createElement(f1.Provider,{value:t},e)}function NS(){let{matches:t}=j.useContext(Ti),e=t[t.length-1];return e?e.params:{}}function lh(t,e){let{relative:i}=e===void 0?{}:e,{future:s}=j.useContext(lr),{matches:l}=j.useContext(Ti),{pathname:u}=os(),c=JSON.stringify(sh(l,s.v7_relativeSplatPath));return j.useMemo(()=>ah(t,JSON.parse(c),u,i==="path"),[t,c,u,i])}function d1(t,e,i,s){Ul()||Me(!1);let{navigator:l,static:u}=j.useContext(lr),{matches:c}=j.useContext(Ti),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let y=os(),_;_=y;let b=_.pathname||"/",T=b;if(m!=="/"){let M=m.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let O=!u&&i&&i.matches&&i.matches.length>0?i.matches:Bs(t,{pathname:T});return y1(O&&O.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Xi([m,l.encodeLocation?l.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Xi([m,l.encodeLocation?l.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,i,s)}function p1(){let t=LS(),e=cu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:l},i):null,null)}const m1=j.createElement(p1,null);class g1 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?j.createElement(Ti.Provider,{value:this.props.routeContext},j.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _1(t){let{routeContext:e,match:i,children:s}=t,l=j.useContext(Mu);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(Ti.Provider,{value:e},s)}function y1(t,e,i,s){var l;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),t==null){var u;if(!i)return null;if(i.errors)t=i.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let c=t,d=(l=i)==null?void 0:l.errors;if(d!=null){let y=c.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);y>=0||Me(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,m=-1;if(i&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:T}=i,O=_.route.loader&&b[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||O){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((y,_,b)=>{let T,O=!1,U=null,M=null;i&&(T=d&&_.route.id?d[_.route.id]:void 0,U=_.route.errorElement||m1,p&&(m<0&&b===0?(T1("route-fallback"),O=!0,M=null):m===b&&(O=!0,M=_.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,b+1)),F=()=>{let X;return T?X=U:O?X=M:_.route.Component?X=j.createElement(_.route.Component,null):_.route.element?X=_.route.element:X=y,j.createElement(_1,{match:_,routeContext:{outlet:y,matches:W,isDataRoute:i!=null},children:X})};return i&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?j.createElement(g1,{location:i.location,revalidation:i.revalidation,component:U,error:T,children:F(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):F()},null)}var MS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MS||{}),xS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xS||{});function v1(t){let e=j.useContext(Mu);return e||Me(!1),e}function b1(t){let e=j.useContext(mg);return e||Me(!1),e}function E1(t){let e=j.useContext(Ti);return e||Me(!1),e}function IS(t){let e=E1(),i=e.matches[e.matches.length-1];return i.route.id||Me(!1),i.route.id}function LS(){var t;let e=j.useContext(OS),i=b1(xS.UseRouteError),s=IS();return e!==void 0?e:(t=i.errors)==null?void 0:t[s]}function S1(){let{router:t}=v1(MS.UseNavigateStable),e=IS(),i=j.useRef(!1);return DS(()=>{i.current=!0}),j.useCallback(function(l,u){u===void 0&&(u={}),i.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,Af({fromRouteId:e},u)))},[t,e])}const SE={};function T1(t,e,i){SE[t]||(SE[t]=!0)}function C1(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function oh(t){let{to:e,replace:i,state:s,relative:l}=t;Ul()||Me(!1);let{future:u,static:c}=j.useContext(lr),{matches:d}=j.useContext(Ti),{pathname:p}=os(),m=pa(),y=ah(e,sh(d,u.v7_relativeSplatPath),p,l==="path"),_=JSON.stringify(y);return j.useEffect(()=>m(JSON.parse(_),{replace:i,state:s,relative:l}),[m,_,l,i,s]),null}function US(t){return h1(t.context)}function w1(t){let{basename:e="/",children:i=null,location:s,navigationType:l=Ot.Pop,navigator:u,static:c=!1,future:d}=t;Ul()&&Me(!1);let p=e.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:p,navigator:u,static:c,future:Af({v7_relativeSplatPath:!1},d)}),[p,d,u,c]);typeof s=="string"&&(s=ar(s));let{pathname:y="/",search:_="",hash:b="",state:T=null,key:O="default"}=s,U=j.useMemo(()=>{let M=tr(y,p);return M==null?null:{location:{pathname:M,search:_,hash:b,state:T,key:O},navigationType:l}},[p,y,_,b,T,O,l]);return U==null?null:j.createElement(lr.Provider,{value:m},j.createElement(gg.Provider,{children:i,value:U}))}new Promise(()=>{});function R1(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Al.apply(this,arguments)}function kS(t,e){if(t==null)return{};var i={},s=Object.keys(t),l,u;for(u=0;u<s.length;u++)l=s[u],!(e.indexOf(l)>=0)&&(i[l]=t[l]);return i}function A1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O1(t,e){return t.button===0&&(!e||e==="_self")&&!A1(t)}function Sm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,i)=>{let s=t[i];return e.concat(Array.isArray(s)?s.map(l=>[i,l]):[[i,s]])},[]))}function D1(t,e){let i=Sm(t);return e&&e.forEach((s,l)=>{i.has(l)||e.getAll(l).forEach(u=>{i.append(l,u)})}),i}const N1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],x1="6";try{window.__reactRouterVersion=x1}catch{}function I1(t,e){return FO({basename:void 0,future:Al({},void 0,{v7_prependBasename:!0}),history:dO({window:void 0}),hydrationData:L1(),routes:t,mapRouteProperties:R1,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function L1(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Al({},e,{errors:U1(e.errors)})),e}function U1(t){if(!t)return null;let e=Object.entries(t),i={};for(let[s,l]of e)if(l&&l.__type==="RouteErrorResponse")i[s]=new Rf(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let c=new u(l.message);c.stack="",i[s]=c}catch{}}if(i[s]==null){let u=new Error(l.message);u.stack="",i[s]=u}}else i[s]=l;return i}const PS=j.createContext({isTransitioning:!1}),k1=j.createContext(new Map),P1="startTransition",TE=zA[P1],z1="flushSync",CE=hO[z1];function j1(t){TE?TE(t):t()}function Yo(t){CE?CE(t):t()}let H1=class{constructor(){this.status="pending",this.promise=new Promise((e,i)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",i(s))}})}};function B1(t){let{fallbackElement:e,router:i,future:s}=t,[l,u]=j.useState(i.state),[c,d]=j.useState(),[p,m]=j.useState({isTransitioning:!1}),[y,_]=j.useState(),[b,T]=j.useState(),[O,U]=j.useState(),M=j.useRef(new Map),{v7_startTransition:W}=s||{},F=j.useCallback(Z=>{W?j1(Z):Z()},[W]),X=j.useCallback((Z,ee)=>{let{deletedFetchers:se,flushSync:je,viewTransitionOpts:we}=ee;Z.fetchers.forEach((_t,ut)=>{_t.data!==void 0&&M.current.set(ut,_t.data)}),se.forEach(_t=>M.current.delete(_t));let ot=i.window==null||i.window.document==null||typeof i.window.document.startViewTransition!="function";if(!we||ot){je?Yo(()=>u(Z)):F(()=>u(Z));return}if(je){Yo(()=>{b&&(y&&y.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:we.currentLocation,nextLocation:we.nextLocation})});let _t=i.window.document.startViewTransition(()=>{Yo(()=>u(Z))});_t.finished.finally(()=>{Yo(()=>{_(void 0),T(void 0),d(void 0),m({isTransitioning:!1})})}),Yo(()=>T(_t));return}b?(y&&y.resolve(),b.skipTransition(),U({state:Z,currentLocation:we.currentLocation,nextLocation:we.nextLocation})):(d(Z),m({isTransitioning:!0,flushSync:!1,currentLocation:we.currentLocation,nextLocation:we.nextLocation}))},[i.window,b,y,M,F]);j.useLayoutEffect(()=>i.subscribe(X),[i,X]),j.useEffect(()=>{p.isTransitioning&&!p.flushSync&&_(new H1)},[p]),j.useEffect(()=>{if(y&&c&&i.window){let Z=c,ee=y.promise,se=i.window.document.startViewTransition(async()=>{F(()=>u(Z)),await ee});se.finished.finally(()=>{_(void 0),T(void 0),d(void 0),m({isTransitioning:!1})}),T(se)}},[F,c,y,i.window]),j.useEffect(()=>{y&&c&&l.location.key===c.location.key&&y.resolve()},[y,b,l.location,c]),j.useEffect(()=>{!p.isTransitioning&&O&&(d(O.state),m({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),U(void 0))},[p.isTransitioning,O]),j.useEffect(()=>{},[]);let Q=j.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,ee,se)=>i.navigate(Z,{state:ee,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(Z,ee,se)=>i.navigate(Z,{replace:!0,state:ee,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[i]),Y=i.basename||"/",ue=j.useMemo(()=>({router:i,navigator:Q,static:!1,basename:Y}),[i,Q,Y]),L=j.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return j.useEffect(()=>C1(s,i.future),[s,i.future]),j.createElement(j.Fragment,null,j.createElement(Mu.Provider,{value:ue},j.createElement(mg.Provider,{value:l},j.createElement(k1.Provider,{value:M.current},j.createElement(PS.Provider,{value:p},j.createElement(w1,{basename:Y,location:l.location,navigationType:l.historyAction,navigator:Q,future:L},l.initialized||i.future.v7_partialHydration?j.createElement(q1,{routes:i.routes,future:i.future,state:l}):e))))),null)}const q1=j.memo(F1);function F1(t){let{routes:e,future:i,state:s}=t;return d1(e,void 0,s,i)}const V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xu=j.forwardRef(function(e,i){let{onClick:s,relative:l,reloadDocument:u,replace:c,state:d,target:p,to:m,preventScrollReset:y,viewTransition:_}=e,b=kS(e,N1),{basename:T}=j.useContext(lr),O,U=!1;if(typeof m=="string"&&G1.test(m)&&(O=m,V1))try{let X=new URL(window.location.href),Q=m.startsWith("//")?new URL(X.protocol+m):new URL(m),Y=tr(Q.pathname,T);Q.origin===X.origin&&Y!=null?m=Y+Q.search+Q.hash:U=!0}catch{}let M=u1(m,{relative:l}),W=Q1(m,{replace:c,state:d,target:p,preventScrollReset:y,relative:l,viewTransition:_});function F(X){s&&s(X),X.defaultPrevented||W(X)}return j.createElement("a",Al({},b,{href:O||M,onClick:U||u?s:F,ref:i,target:p}))}),sl=j.forwardRef(function(e,i){let{"aria-current":s="page",caseSensitive:l=!1,className:u="",end:c=!1,style:d,to:p,viewTransition:m,children:y}=e,_=kS(e,M1),b=lh(p,{relative:_.relative}),T=os(),O=j.useContext(mg),{navigator:U,basename:M}=j.useContext(lr),W=O!=null&&W1(b)&&m===!0,F=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,X=T.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;l||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&M&&(Q=tr(Q,M)||Q);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ue=X===F||!c&&X.startsWith(F)&&X.charAt(Y)==="/",L=Q!=null&&(Q===F||!c&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),Z={isActive:ue,isPending:L,isTransitioning:W},ee=ue?s:void 0,se;typeof u=="function"?se=u(Z):se=[u,ue?"active":null,L?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let je=typeof d=="function"?d(Z):d;return j.createElement(xu,Al({},_,{"aria-current":ee,className:se,ref:i,style:je,to:p,viewTransition:m}),typeof y=="function"?y(Z):y)});var Tm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tm||(Tm={}));var wE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));function Y1(t){let e=j.useContext(Mu);return e||Me(!1),e}function Q1(t,e){let{target:i,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:d}=e===void 0?{}:e,p=pa(),m=os(),y=lh(t,{relative:c});return j.useCallback(_=>{if(O1(_,i)){_.preventDefault();let b=s!==void 0?s:na(m)===na(y);p(t,{replace:b,state:l,preventScrollReset:u,relative:c,viewTransition:d})}},[m,p,y,s,l,i,t,u,c,d])}function K1(t){let e=j.useRef(Sm(t)),i=j.useRef(!1),s=os(),l=j.useMemo(()=>D1(s.search,i.current?null:e.current),[s.search]),u=pa(),c=j.useCallback((d,p)=>{const m=Sm(typeof d=="function"?d(l):d);i.current=!0,u("?"+m,p)},[u,l]);return[l,c]}function W1(t,e){e===void 0&&(e={});let i=j.useContext(PS);i==null&&Me(!1);let{basename:s}=Y1(Tm.useViewTransitionState),l=lh(t,{relative:e.relative});if(!i.isTransitioning)return!1;let u=tr(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=tr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wf(l.pathname,c)!=null||wf(l.pathname,u)!=null}var kl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ia=typeof window>"u"||"Deno"in globalThis;function qn(){}function X1(t,e){return typeof t=="function"?t(e):t}function Cm(t){return typeof t=="number"&&t>=0&&t!==1/0}function zS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ol(t,e){return typeof t=="function"?t(e):t}function Xn(t,e){return typeof t=="function"?t(e):t}function RE(t,e){const{type:i="all",exact:s,fetchStatus:l,predicate:u,queryKey:c,stale:d}=t;if(c){if(s){if(e.queryHash!==_g(c,e.options))return!1}else if(!fu(e.queryKey,c))return!1}if(i!=="all"){const p=e.isActive();if(i==="active"&&!p||i==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||l&&l!==e.state.fetchStatus||u&&!u(e))}function AE(t,e){const{exact:i,status:s,predicate:l,mutationKey:u}=t;if(u){if(!e.options.mutationKey)return!1;if(i){if(ra(e.options.mutationKey)!==ra(u))return!1}else if(!fu(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||l&&!l(e))}function _g(t,e){return((e==null?void 0:e.queryKeyHashFn)||ra)(t)}function ra(t){return JSON.stringify(t,(e,i)=>wm(i)?Object.keys(i).sort().reduce((s,l)=>(s[l]=i[l],s),{}):i)}function fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(i=>fu(t[i],e[i])):!1}function jS(t,e){if(t===e)return t;const i=OE(t)&&OE(e);if(i||wm(t)&&wm(e)){const s=i?t:Object.keys(t),l=s.length,u=i?e:Object.keys(e),c=u.length,d=i?[]:{};let p=0;for(let m=0;m<c;m++){const y=i?m:u[m];(!i&&s.includes(y)||i)&&t[y]===void 0&&e[y]===void 0?(d[y]=void 0,p++):(d[y]=jS(t[y],e[y]),d[y]===t[y]&&t[y]!==void 0&&p++)}return l===c&&p===l?t:d}return e}function Of(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}function OE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wm(t){if(!DE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const i=e.prototype;return!(!DE(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Z1(t){return new Promise(e=>{setTimeout(e,t)})}function Rm(t,e,i){return typeof i.structuralSharing=="function"?i.structuralSharing(t,e):i.structuralSharing!==!1?jS(t,e):e}function $1(t,e,i=0){const s=[...t,e];return i&&s.length>i?s.slice(1):s}function J1(t,e,i=0){const s=[e,...t];return i&&s.length>i?s.slice(0,-1):s}var yg=Symbol();function HS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ys,qr,pl,iS,eD=(iS=class extends kl{constructor(){super();ge(this,Ys);ge(this,qr);ge(this,pl);ae(this,pl,e=>{if(!ia&&window.addEventListener){const i=()=>e();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){C(this,qr)||this.setEventListener(C(this,pl))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,qr))==null||e.call(this),ae(this,qr,void 0))}setEventListener(e){var i;ae(this,pl,e),(i=C(this,qr))==null||i.call(this),ae(this,qr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){C(this,Ys)!==e&&(ae(this,Ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(i=>{i(e)})}isFocused(){var e;return typeof C(this,Ys)=="boolean"?C(this,Ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ys=new WeakMap,qr=new WeakMap,pl=new WeakMap,iS),vg=new eD,ml,Fr,gl,rS,tD=(rS=class extends kl{constructor(){super();ge(this,ml,!0);ge(this,Fr);ge(this,gl);ae(this,gl,e=>{if(!ia&&window.addEventListener){const i=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}}})}onSubscribe(){C(this,Fr)||this.setEventListener(C(this,gl))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Fr))==null||e.call(this),ae(this,Fr,void 0))}setEventListener(e){var i;ae(this,gl,e),(i=C(this,Fr))==null||i.call(this),ae(this,Fr,e(this.setOnline.bind(this)))}setOnline(e){C(this,ml)!==e&&(ae(this,ml,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return C(this,ml)}},ml=new WeakMap,Fr=new WeakMap,gl=new WeakMap,rS),Df=new tD;function Am(){let t,e;const i=new Promise((l,u)=>{t=l,e=u});i.status="pending",i.catch(()=>{});function s(l){Object.assign(i,l),delete i.resolve,delete i.reject}return i.resolve=l=>{s({status:"fulfilled",value:l}),t(l)},i.reject=l=>{s({status:"rejected",reason:l}),e(l)},i}function nD(t){return Math.min(1e3*2**t,3e4)}function BS(t){return(t??"online")==="online"?Df.isOnline():!0}var qS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function em(t){return t instanceof qS}function FS(t){let e=!1,i=0,s=!1,l;const u=Am(),c=U=>{var M;s||(b(new qS(U)),(M=t.abort)==null||M.call(t))},d=()=>{e=!0},p=()=>{e=!1},m=()=>vg.isFocused()&&(t.networkMode==="always"||Df.isOnline())&&t.canRun(),y=()=>BS(t.networkMode)&&t.canRun(),_=U=>{var M;s||(s=!0,(M=t.onSuccess)==null||M.call(t,U),l==null||l(),u.resolve(U))},b=U=>{var M;s||(s=!0,(M=t.onError)==null||M.call(t,U),l==null||l(),u.reject(U))},T=()=>new Promise(U=>{var M;l=W=>{(s||m())&&U(W)},(M=t.onPause)==null||M.call(t)}).then(()=>{var U;l=void 0,s||(U=t.onContinue)==null||U.call(t)}),O=()=>{if(s)return;let U;const M=i===0?t.initialPromise:void 0;try{U=M??t.fn()}catch(W){U=Promise.reject(W)}Promise.resolve(U).then(_).catch(W=>{var ue;if(s)return;const F=t.retry??(ia?0:3),X=t.retryDelay??nD,Q=typeof X=="function"?X(i,W):X,Y=F===!0||typeof F=="number"&&i<F||typeof F=="function"&&F(i,W);if(e||!Y){b(W);return}i++,(ue=t.onFail)==null||ue.call(t,i,W),Z1(Q).then(()=>m()?void 0:T()).then(()=>{e?b(W):O()})})};return{promise:u,cancel:c,continue:()=>(l==null||l(),u),cancelRetry:d,continueRetry:p,canStart:y,start:()=>(y()?O():T().then(O),u)}}var iD=t=>setTimeout(t,0);function rD(){let t=[],e=0,i=d=>{d()},s=d=>{d()},l=iD;const u=d=>{e?t.push(d):l(()=>{i(d)})},c=()=>{const d=t;t=[],d.length&&l(()=>{s(()=>{d.forEach(p=>{i(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{i=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{l=d}}}var xt=rD(),Qs,sS,VS=(sS=class{constructor(){ge(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cm(this.gcTime)&&ae(this,Qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ia?1/0:5*60*1e3))}clearGcTimeout(){C(this,Qs)&&(clearTimeout(C(this,Qs)),ae(this,Qs,void 0))}},Qs=new WeakMap,sS),_l,yl,Bn,Ks,Wt,Au,Ws,Qn,Vi,aS,sD=(aS=class extends VS{constructor(e){super();ge(this,Qn);ge(this,_l);ge(this,yl);ge(this,Bn);ge(this,Ks);ge(this,Wt);ge(this,Au);ge(this,Ws);ae(this,Ws,!1),ae(this,Au,e.defaultOptions),this.setOptions(e.options),this.observers=[],ae(this,Ks,e.client),ae(this,Bn,C(this,Ks).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ae(this,_l,aD(this.options)),this.state=e.state??C(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Wt))==null?void 0:e.promise}setOptions(e){this.options={...C(this,Au),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Bn).remove(this)}setData(e,i){const s=Rm(this.state.data,e,this.options);return De(this,Qn,Vi).call(this,{data:s,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),s}setState(e,i){De(this,Qn,Vi).call(this,{type:"setState",state:e,setStateOptions:i})}cancel(e){var s,l;const i=(s=C(this,Wt))==null?void 0:s.promise;return(l=C(this,Wt))==null||l.cancel(e),i?i.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,_l))}isActive(){return this.observers.some(e=>Xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!zS(this.state.dataUpdatedAt,e)}onFocus(){var i;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(i=C(this,Wt))==null||i.continue()}onOnline(){var i;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(i=C(this,Wt))==null||i.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,Bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(i=>i!==e),this.observers.length||(C(this,Wt)&&(C(this,Ws)?C(this,Wt).cancel({revert:!0}):C(this,Wt).cancelRetry()),this.scheduleGc()),C(this,Bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Qn,Vi).call(this,{type:"invalidate"})}fetch(e,i){var p,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(C(this,Wt))return C(this,Wt).continueRetry(),C(this,Wt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(b=>b.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,l=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ae(this,Ws,!0),s.signal)})},u=()=>{const _=HS(this.options,i),b={client:C(this,Ks),queryKey:this.queryKey,meta:this.meta};return l(b),ae(this,Ws,!1),this.options.persister?this.options.persister(_,b,this):_(b)},c={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:C(this,Ks),state:this.state,fetchFn:u};l(c),(p=this.options.behavior)==null||p.onFetch(c,this),ae(this,yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&De(this,Qn,Vi).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const d=_=>{var b,T,O,U;em(_)&&_.silent||De(this,Qn,Vi).call(this,{type:"error",error:_}),em(_)||((T=(b=C(this,Bn).config).onError)==null||T.call(b,_,this),(U=(O=C(this,Bn).config).onSettled)==null||U.call(O,this.state.data,_,this)),this.scheduleGc()};return ae(this,Wt,FS({initialPromise:i==null?void 0:i.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:_=>{var b,T,O,U;if(_===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(M){d(M);return}(T=(b=C(this,Bn).config).onSuccess)==null||T.call(b,_,this),(U=(O=C(this,Bn).config).onSettled)==null||U.call(O,_,this.state.error,this),this.scheduleGc()},onError:d,onFail:(_,b)=>{De(this,Qn,Vi).call(this,{type:"failed",failureCount:_,error:b})},onPause:()=>{De(this,Qn,Vi).call(this,{type:"pause"})},onContinue:()=>{De(this,Qn,Vi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),C(this,Wt).start()}},_l=new WeakMap,yl=new WeakMap,Bn=new WeakMap,Ks=new WeakMap,Wt=new WeakMap,Au=new WeakMap,Ws=new WeakMap,Qn=new WeakSet,Vi=function(e){const i=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...GS(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return em(l)&&l.revert&&C(this,yl)?{...C(this,yl),fetchStatus:"idle"}:{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=i(this.state),xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),C(this,Bn).notify({query:this,type:"updated",action:e})})},aS);function GS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,i=e!==void 0,s=i?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var _i,lS,lD=(lS=class extends kl{constructor(e={}){super();ge(this,_i);this.config=e,ae(this,_i,new Map)}build(e,i,s){const l=i.queryKey,u=i.queryHash??_g(l,i);let c=this.get(u);return c||(c=new sD({client:e,queryKey:l,queryHash:u,options:e.defaultQueryOptions(i),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(c)),c}add(e){C(this,_i).has(e.queryHash)||(C(this,_i).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=C(this,_i).get(e.queryHash);i&&(e.destroy(),i===e&&C(this,_i).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,_i).get(e)}getAll(){return[...C(this,_i).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(s=>RE(i,s))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(s=>RE(e,s)):i}notify(e){xt.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_i=new WeakMap,lS),yi,Jt,Xs,vi,Pr,oS,oD=(oS=class extends VS{constructor(e){super();ge(this,vi);ge(this,yi);ge(this,Jt);ge(this,Xs);this.mutationId=e.mutationId,ae(this,Jt,e.mutationCache),ae(this,yi,[]),this.state=e.state||YS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,yi).includes(e)||(C(this,yi).push(e),this.clearGcTimeout(),C(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,yi,C(this,yi).filter(i=>i!==e)),this.scheduleGc(),C(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,yi).length||(this.state.status==="pending"?this.scheduleGc():C(this,Jt).remove(this))}continue(){var e;return((e=C(this,Xs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,c,d,p,m,y,_,b,T,O,U,M,W,F,X,Q,Y,ue,L,Z;const i=()=>{De(this,vi,Pr).call(this,{type:"continue"})};ae(this,Xs,FS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ee,se)=>{De(this,vi,Pr).call(this,{type:"failed",failureCount:ee,error:se})},onPause:()=>{De(this,vi,Pr).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Jt).canRun(this)}));const s=this.state.status==="pending",l=!C(this,Xs).canStart();try{if(s)i();else{De(this,vi,Pr).call(this,{type:"pending",variables:e,isPaused:l}),await((c=(u=C(this,Jt).config).onMutate)==null?void 0:c.call(u,e,this));const se=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,e));se!==this.state.context&&De(this,vi,Pr).call(this,{type:"pending",context:se,variables:e,isPaused:l})}const ee=await C(this,Xs).start();return await((y=(m=C(this,Jt).config).onSuccess)==null?void 0:y.call(m,ee,e,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,ee,e,this.state.context)),await((O=(T=C(this,Jt).config).onSettled)==null?void 0:O.call(T,ee,null,this.state.variables,this.state.context,this)),await((M=(U=this.options).onSettled)==null?void 0:M.call(U,ee,null,e,this.state.context)),De(this,vi,Pr).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await((F=(W=C(this,Jt).config).onError)==null?void 0:F.call(W,ee,e,this.state.context,this)),await((Q=(X=this.options).onError)==null?void 0:Q.call(X,ee,e,this.state.context)),await((ue=(Y=C(this,Jt).config).onSettled)==null?void 0:ue.call(Y,void 0,ee,this.state.variables,this.state.context,this)),await((Z=(L=this.options).onSettled)==null?void 0:Z.call(L,void 0,ee,e,this.state.context)),ee}finally{De(this,vi,Pr).call(this,{type:"error",error:ee})}}finally{C(this,Jt).runNext(this)}}},yi=new WeakMap,Jt=new WeakMap,Xs=new WeakMap,vi=new WeakSet,Pr=function(e){const i=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=i(this.state),xt.batch(()=>{C(this,yi).forEach(s=>{s.onMutationUpdate(e)}),C(this,Jt).notify({mutation:this,type:"updated",action:e})})},oS);function YS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,Kn,Ou,uS,uD=(uS=class extends kl{constructor(e={}){super();ge(this,Gi);ge(this,Kn);ge(this,Ou);this.config=e,ae(this,Gi,new Set),ae(this,Kn,new Map),ae(this,Ou,0)}build(e,i,s){const l=new oD({mutationCache:this,mutationId:++sf(this,Ou)._,options:e.defaultMutationOptions(i),state:s});return this.add(l),l}add(e){C(this,Gi).add(e);const i=lf(e);if(typeof i=="string"){const s=C(this,Kn).get(i);s?s.push(e):C(this,Kn).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,Gi).delete(e)){const i=lf(e);if(typeof i=="string"){const s=C(this,Kn).get(i);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&C(this,Kn).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=lf(e);if(typeof i=="string"){const s=C(this,Kn).get(i),l=s==null?void 0:s.find(u=>u.state.status==="pending");return!l||l===e}else return!0}runNext(e){var s;const i=lf(e);if(typeof i=="string"){const l=(s=C(this,Kn).get(i))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{C(this,Gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,Gi).clear(),C(this,Kn).clear()})}getAll(){return Array.from(C(this,Gi))}find(e){const i={exact:!0,...e};return this.getAll().find(s=>AE(i,s))}findAll(e={}){return this.getAll().filter(i=>AE(e,i))}notify(e){xt.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return xt.batch(()=>Promise.all(e.map(i=>i.continue().catch(qn))))}},Gi=new WeakMap,Kn=new WeakMap,Ou=new WeakMap,uS);function lf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function NE(t){return{onFetch:(e,i)=>{var y,_,b,T,O;const s=e.options,l=(b=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:b.direction,u=((T=e.state.data)==null?void 0:T.pages)||[],c=((O=e.state.data)==null?void 0:O.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let U=!1;const M=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(e.signal.aborted?U=!0:e.signal.addEventListener("abort",()=>{U=!0}),e.signal)})},W=HS(e.options,e.fetchOptions),F=async(X,Q,Y)=>{if(U)return Promise.reject();if(Q==null&&X.pages.length)return Promise.resolve(X);const ue={client:e.client,queryKey:e.queryKey,pageParam:Q,direction:Y?"backward":"forward",meta:e.options.meta};M(ue);const L=await W(ue),{maxPages:Z}=e.options,ee=Y?J1:$1;return{pages:ee(X.pages,L,Z),pageParams:ee(X.pageParams,Q,Z)}};if(l&&u.length){const X=l==="backward",Q=X?cD:ME,Y={pages:u,pageParams:c},ue=Q(s,Y);d=await F(Y,ue,X)}else{const X=t??u.length;do{const Q=p===0?c[0]??s.initialPageParam:ME(s,d);if(p>0&&Q==null)break;d=await F(d,Q),p++}while(p<X)}return d};e.options.persister?e.fetchFn=()=>{var U,M;return(M=(U=e.options).persister)==null?void 0:M.call(U,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},i)}:e.fetchFn=m}}}function ME(t,{pages:e,pageParams:i}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,i[s],i):void 0}function cD(t,{pages:e,pageParams:i}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,i[0],i):void 0}var Et,Vr,Gr,vl,bl,Yr,El,Sl,cS,fD=(cS=class{constructor(t={}){ge(this,Et);ge(this,Vr);ge(this,Gr);ge(this,vl);ge(this,bl);ge(this,Yr);ge(this,El);ge(this,Sl);ae(this,Et,t.queryCache||new lD),ae(this,Vr,t.mutationCache||new uD),ae(this,Gr,t.defaultOptions||{}),ae(this,vl,new Map),ae(this,bl,new Map),ae(this,Yr,0)}mount(){sf(this,Yr)._++,C(this,Yr)===1&&(ae(this,El,vg.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Et).onFocus())})),ae(this,Sl,Df.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Et).onOnline())})))}unmount(){var t,e;sf(this,Yr)._--,C(this,Yr)===0&&((t=C(this,El))==null||t.call(this),ae(this,El,void 0),(e=C(this,Sl))==null||e.call(this),ae(this,Sl,void 0))}isFetching(t){return C(this,Et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Vr).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=C(this,Et).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),i=C(this,Et).build(this,e),s=i.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(ol(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return C(this,Et).findAll(t).map(({queryKey:e,state:i})=>{const s=i.data;return[e,s]})}setQueryData(t,e,i){const s=this.defaultQueryOptions({queryKey:t}),l=C(this,Et).get(s.queryHash),u=l==null?void 0:l.state.data,c=X1(e,u);if(c!==void 0)return C(this,Et).build(this,s).setData(c,{...i,manual:!0})}setQueriesData(t,e,i){return xt.batch(()=>C(this,Et).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=C(this,Et).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=C(this,Et);xt.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=C(this,Et);return xt.batch(()=>(i.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const i={revert:!0,...e},s=xt.batch(()=>C(this,Et).findAll(t).map(l=>l.cancel(i)));return Promise.all(s).then(qn).catch(qn)}invalidateQueries(t,e={}){return xt.batch(()=>(C(this,Et).findAll(t).forEach(i=>{i.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},s=xt.batch(()=>C(this,Et).findAll(t).filter(l=>!l.isDisabled()).map(l=>{let u=l.fetch(void 0,i);return i.throwOnError||(u=u.catch(qn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=C(this,Et).build(this,e);return i.isStaleByTime(ol(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=NE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=NE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Df.isOnline()?C(this,Vr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Et)}getMutationCache(){return C(this,Vr)}getDefaultOptions(){return C(this,Gr)}setDefaultOptions(t){ae(this,Gr,t)}setQueryDefaults(t,e){C(this,vl).set(ra(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,vl).values()],i={};return e.forEach(s=>{fu(t,s.queryKey)&&Object.assign(i,s.defaultOptions)}),i}setMutationDefaults(t,e){C(this,bl).set(ra(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,bl).values()],i={};return e.forEach(s=>{fu(t,s.mutationKey)&&Object.assign(i,s.defaultOptions)}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,Gr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_g(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Gr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,Et).clear(),C(this,Vr).clear()}},Et=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,vl=new WeakMap,bl=new WeakMap,Yr=new WeakMap,El=new WeakMap,Sl=new WeakMap,cS),cn,Be,Du,en,Zs,Tl,Qr,Kr,Nu,Cl,wl,$s,Js,Wr,Rl,We,Jo,Om,Dm,Nm,Mm,xm,Im,Lm,QS,fS,hD=(fS=class extends kl{constructor(e,i){super();ge(this,We);ge(this,cn);ge(this,Be);ge(this,Du);ge(this,en);ge(this,Zs);ge(this,Tl);ge(this,Qr);ge(this,Kr);ge(this,Nu);ge(this,Cl);ge(this,wl);ge(this,$s);ge(this,Js);ge(this,Wr);ge(this,Rl,new Set);this.options=i,ae(this,cn,e),ae(this,Kr,null),ae(this,Qr,Am()),this.options.experimental_prefetchInRender||C(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Be).addObserver(this),xE(C(this,Be),this.options)?De(this,We,Jo).call(this):this.updateResult(),De(this,We,Mm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Um(C(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Um(C(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,We,xm).call(this),De(this,We,Im).call(this),C(this,Be).removeObserver(this)}setOptions(e){const i=this.options,s=C(this,Be);if(this.options=C(this,cn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xn(this.options.enabled,C(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,We,Lm).call(this),C(this,Be).setOptions(this.options),i._defaulted&&!Of(this.options,i)&&C(this,cn).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Be),observer:this});const l=this.hasListeners();l&&IE(C(this,Be),s,this.options,i)&&De(this,We,Jo).call(this),this.updateResult(),l&&(C(this,Be)!==s||Xn(this.options.enabled,C(this,Be))!==Xn(i.enabled,C(this,Be))||ol(this.options.staleTime,C(this,Be))!==ol(i.staleTime,C(this,Be)))&&De(this,We,Om).call(this);const u=De(this,We,Dm).call(this);l&&(C(this,Be)!==s||Xn(this.options.enabled,C(this,Be))!==Xn(i.enabled,C(this,Be))||u!==C(this,Wr))&&De(this,We,Nm).call(this,u)}getOptimisticResult(e){const i=C(this,cn).getQueryCache().build(C(this,cn),e),s=this.createResult(i,e);return pD(this,s)&&(ae(this,en,s),ae(this,Tl,this.options),ae(this,Zs,C(this,Be).state)),s}getCurrentResult(){return C(this,en)}trackResult(e,i){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),i==null||i(l),Reflect.get(s,l))})}trackProp(e){C(this,Rl).add(e)}getCurrentQuery(){return C(this,Be)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const i=C(this,cn).defaultQueryOptions(e),s=C(this,cn).getQueryCache().build(C(this,cn),i);return s.fetch().then(()=>this.createResult(s,i))}fetch(e){return De(this,We,Jo).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,en)))}createResult(e,i){var ee;const s=C(this,Be),l=this.options,u=C(this,en),c=C(this,Zs),d=C(this,Tl),m=e!==s?e.state:C(this,Du),{state:y}=e;let _={...y},b=!1,T;if(i._optimisticResults){const se=this.hasListeners(),je=!se&&xE(e,i),we=se&&IE(e,s,i,l);(je||we)&&(_={..._,...GS(y.data,e.options)}),i._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:O,errorUpdatedAt:U,status:M}=_;T=_.data;let W=!1;if(i.placeholderData!==void 0&&T===void 0&&M==="pending"){let se;u!=null&&u.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData)?(se=u.data,W=!0):se=typeof i.placeholderData=="function"?i.placeholderData((ee=C(this,wl))==null?void 0:ee.state.data,C(this,wl)):i.placeholderData,se!==void 0&&(M="success",T=Rm(u==null?void 0:u.data,se,i),b=!0)}if(i.select&&T!==void 0&&!W)if(u&&T===(c==null?void 0:c.data)&&i.select===C(this,Nu))T=C(this,Cl);else try{ae(this,Nu,i.select),T=i.select(T),T=Rm(u==null?void 0:u.data,T,i),ae(this,Cl,T),ae(this,Kr,null)}catch(se){ae(this,Kr,se)}C(this,Kr)&&(O=C(this,Kr),T=C(this,Cl),U=Date.now(),M="error");const F=_.fetchStatus==="fetching",X=M==="pending",Q=M==="error",Y=X&&F,ue=T!==void 0,Z={status:M,fetchStatus:_.fetchStatus,isPending:X,isSuccess:M==="success",isError:Q,isInitialLoading:Y,isLoading:Y,data:T,dataUpdatedAt:_.dataUpdatedAt,error:O,errorUpdatedAt:U,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:F,isRefetching:F&&!X,isLoadingError:Q&&!ue,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:Q&&ue,isStale:bg(e,i),refetch:this.refetch,promise:C(this,Qr)};if(this.options.experimental_prefetchInRender){const se=ot=>{Z.status==="error"?ot.reject(Z.error):Z.data!==void 0&&ot.resolve(Z.data)},je=()=>{const ot=ae(this,Qr,Z.promise=Am());se(ot)},we=C(this,Qr);switch(we.status){case"pending":e.queryHash===s.queryHash&&se(we);break;case"fulfilled":(Z.status==="error"||Z.data!==we.value)&&je();break;case"rejected":(Z.status!=="error"||Z.error!==we.reason)&&je();break}}return Z}updateResult(){const e=C(this,en),i=this.createResult(C(this,Be),this.options);if(ae(this,Zs,C(this,Be).state),ae(this,Tl,this.options),C(this,Zs).data!==void 0&&ae(this,wl,C(this,Be)),Of(i,e))return;ae(this,en,i);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!C(this,Rl).size)return!0;const c=new Set(u??C(this,Rl));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,en)).some(d=>{const p=d;return C(this,en)[p]!==e[p]&&c.has(p)})};De(this,We,QS).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,We,Mm).call(this)}},cn=new WeakMap,Be=new WeakMap,Du=new WeakMap,en=new WeakMap,Zs=new WeakMap,Tl=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Nu=new WeakMap,Cl=new WeakMap,wl=new WeakMap,$s=new WeakMap,Js=new WeakMap,Wr=new WeakMap,Rl=new WeakMap,We=new WeakSet,Jo=function(e){De(this,We,Lm).call(this);let i=C(this,Be).fetch(this.options,e);return e!=null&&e.throwOnError||(i=i.catch(qn)),i},Om=function(){De(this,We,xm).call(this);const e=ol(this.options.staleTime,C(this,Be));if(ia||C(this,en).isStale||!Cm(e))return;const s=zS(C(this,en).dataUpdatedAt,e)+1;ae(this,$s,setTimeout(()=>{C(this,en).isStale||this.updateResult()},s))},Dm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Be)):this.options.refetchInterval)??!1},Nm=function(e){De(this,We,Im).call(this),ae(this,Wr,e),!(ia||Xn(this.options.enabled,C(this,Be))===!1||!Cm(C(this,Wr))||C(this,Wr)===0)&&ae(this,Js,setInterval(()=>{(this.options.refetchIntervalInBackground||vg.isFocused())&&De(this,We,Jo).call(this)},C(this,Wr)))},Mm=function(){De(this,We,Om).call(this),De(this,We,Nm).call(this,De(this,We,Dm).call(this))},xm=function(){C(this,$s)&&(clearTimeout(C(this,$s)),ae(this,$s,void 0))},Im=function(){C(this,Js)&&(clearInterval(C(this,Js)),ae(this,Js,void 0))},Lm=function(){const e=C(this,cn).getQueryCache().build(C(this,cn),this.options);if(e===C(this,Be))return;const i=C(this,Be);ae(this,Be,e),ae(this,Du,e.state),this.hasListeners()&&(i==null||i.removeObserver(this),e.addObserver(this))},QS=function(e){xt.batch(()=>{e.listeners&&this.listeners.forEach(i=>{i(C(this,en))}),C(this,cn).getQueryCache().notify({query:C(this,Be),type:"observerResultsUpdated"})})},fS);function dD(t,e){return Xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xE(t,e){return dD(t,e)||t.state.data!==void 0&&Um(t,e,e.refetchOnMount)}function Um(t,e,i){if(Xn(e.enabled,t)!==!1){const s=typeof i=="function"?i(t):i;return s==="always"||s!==!1&&bg(t,e)}return!1}function IE(t,e,i,s){return(t!==e||Xn(s.enabled,t)===!1)&&(!i.suspense||t.state.status!=="error")&&bg(t,i)}function bg(t,e){return Xn(e.enabled,t)!==!1&&t.isStaleByTime(ol(e.staleTime,t))}function pD(t,e){return!Of(t.getCurrentResult(),e)}var Xr,Zr,fn,Yi,er,gf,km,hS,mD=(hS=class extends kl{constructor(i,s){super();ge(this,er);ge(this,Xr);ge(this,Zr);ge(this,fn);ge(this,Yi);ae(this,Xr,i),this.setOptions(s),this.bindMethods(),De(this,er,gf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var l;const s=this.options;this.options=C(this,Xr).defaultMutationOptions(i),Of(this.options,s)||C(this,Xr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,fn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ra(s.mutationKey)!==ra(this.options.mutationKey)?this.reset():((l=C(this,fn))==null?void 0:l.state.status)==="pending"&&C(this,fn).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=C(this,fn))==null||i.removeObserver(this)}onMutationUpdate(i){De(this,er,gf).call(this),De(this,er,km).call(this,i)}getCurrentResult(){return C(this,Zr)}reset(){var i;(i=C(this,fn))==null||i.removeObserver(this),ae(this,fn,void 0),De(this,er,gf).call(this),De(this,er,km).call(this)}mutate(i,s){var l;return ae(this,Yi,s),(l=C(this,fn))==null||l.removeObserver(this),ae(this,fn,C(this,Xr).getMutationCache().build(C(this,Xr),this.options)),C(this,fn).addObserver(this),C(this,fn).execute(i)}},Xr=new WeakMap,Zr=new WeakMap,fn=new WeakMap,Yi=new WeakMap,er=new WeakSet,gf=function(){var s;const i=((s=C(this,fn))==null?void 0:s.state)??YS();ae(this,Zr,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},km=function(i){xt.batch(()=>{var s,l,u,c,d,p,m,y;if(C(this,Yi)&&this.hasListeners()){const _=C(this,Zr).variables,b=C(this,Zr).context;(i==null?void 0:i.type)==="success"?((l=(s=C(this,Yi)).onSuccess)==null||l.call(s,i.data,_,b),(c=(u=C(this,Yi)).onSettled)==null||c.call(u,i.data,null,_,b)):(i==null?void 0:i.type)==="error"&&((p=(d=C(this,Yi)).onError)==null||p.call(d,i.error,_,b),(y=(m=C(this,Yi)).onSettled)==null||y.call(m,void 0,i.error,_,b))}this.listeners.forEach(_=>{_(C(this,Zr))})})},hS),KS=j.createContext(void 0),WS=t=>{const e=j.useContext(KS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gD=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),N.jsx(KS.Provider,{value:t,children:e})),XS=j.createContext(!1),_D=()=>j.useContext(XS);XS.Provider;function yD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vD=j.createContext(yD()),bD=()=>j.useContext(vD);function ZS(t,e){return typeof t=="function"?t(...e):!!t}function Pm(){}var ED=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},SD=t=>{j.useEffect(()=>{t.clearReset()},[t])},TD=({result:t,errorResetBoundary:e,throwOnError:i,query:s,suspense:l})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(l&&t.data===void 0||ZS(i,[t.error,s])),CD=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...i)=>Math.max(e(...i),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},wD=(t,e)=>t.isLoading&&t.isFetching&&!e,RD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,LE=(t,e,i)=>e.fetchOptimistic(t).catch(()=>{i.clearReset()});function AD(t,e,i){var _,b,T,O,U;const s=WS(),l=_D(),u=bD(),c=s.defaultQueryOptions(t);(b=(_=s.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||b.call(_,c),c._optimisticResults=l?"isRestoring":"optimistic",CD(c),ED(c,u),SD(u);const d=!s.getQueryCache().get(c.queryHash),[p]=j.useState(()=>new e(s,c)),m=p.getOptimisticResult(c),y=!l&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(M=>{const W=y?p.subscribe(xt.batchCalls(M)):Pm;return p.updateResult(),W},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),j.useEffect(()=>{p.setOptions(c)},[c,p]),RD(c,m))throw LE(c,p,u);if(TD({result:m,errorResetBoundary:u,throwOnError:c.throwOnError,query:s.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((O=(T=s.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||O.call(T,c,m),c.experimental_prefetchInRender&&!ia&&wD(m,l)){const M=d?LE(c,p,u):(U=s.getQueryCache().get(c.queryHash))==null?void 0:U.promise;M==null||M.catch(Pm).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}function uh(t,e){return AD(t,hD)}function ea(t,e){const i=WS(),[s]=j.useState(()=>new mD(i,t));j.useEffect(()=>{s.setOptions(t)},[s,t]);const l=j.useSyncExternalStore(j.useCallback(c=>s.subscribe(xt.batchCalls(c)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=j.useCallback((c,d)=>{s.mutate(c,d).catch(Pm)},[s]);if(l.error&&ZS(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const OD=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw Pl(e)},Pl=function(t){return new Error("Firebase Database ("+$S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},DD=function(t){const e=[];let i=0,s=0;for(;i<t.length;){const l=t[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=t[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=t[i++],c=t[i++],d=t[i++],p=((l&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=t[i++],c=t[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<t.length;l+=3){const u=t[l],c=l+1<t.length,d=c?t[l+1]:0,p=l+2<t.length,m=p?t[l+2]:0,y=u>>2,_=(u&3)<<4|d>>4;let b=(d&15)<<2|m>>6,T=m&63;p||(T=64,c||(b=64)),s.push(i[y],i[_],i[b],i[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<t.length;){const u=i[t.charAt(l++)],d=l<t.length?i[t.charAt(l)]:0;++l;const m=l<t.length?i[t.charAt(l)]:64;++l;const _=l<t.length?i[t.charAt(l)]:64;if(++l,u==null||d==null||m==null||_==null)throw new ND;const b=u<<2|d>>4;if(s.push(b),m!==64){const T=d<<4&240|m>>2;if(s.push(T),_!==64){const O=m<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ND extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eT=function(t){const e=JS(t);return Eg.encodeByteArray(e,!0)},Nf=function(t){return eT(t).replace(/\./g,"")},Mf=function(t){try{return Eg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){return tT(void 0,t)}function tT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!xD(i)||(t[i]=tT(t[i],e[i]));return t}function xD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=()=>ID().__FIREBASE_DEFAULTS__,UD=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mf(t[1]);return e&&JSON.parse(e)},Sg=()=>{try{return OD()||LD()||UD()||kD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nT=t=>{var e,i;return(i=(e=Sg())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},PD=t=>{const e=nT(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},iT=()=>{var t;return(t=Sg())===null||t===void 0?void 0:t.config},rT=t=>{var e;return(e=Sg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(i)),Nf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function jD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qD(){return $S.NODE_ADMIN===!0}function FD(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="FirebaseError";class us extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=GD,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?YD(u,s):"Error",d=`${this.serviceName}: ${c} (${l}).`;return new us(l,d,s)}}function YD(t,e){return t.replace(QD,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const QD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){return JSON.parse(t)}function It(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(t){let e={},i={},s={},l="";try{const u=t.split(".");e=hu(Mf(u[0])||""),i=hu(Mf(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},KD=function(t){const e=aT(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},WD=function(t){const e=aT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ol(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xf(t,e,i){const s={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(s[l]=e.call(i,t[l],l,t));return s}function sa(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=t[l],c=e[l];if(kE(u)&&kE(c)){if(!sa(u,c))return!1}else if(u!==c)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function kE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function tu(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)s[_]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let _=16;_<80;_++){const b=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=d^u&(c^d),y=1518500249):(m=u^c^d,y=1859775393):_<60?(m=u&c|d&(u|c),y=2400959708):(m=u^c^d,y=3395469782);const b=(l<<5|l>>>27)+m+p+y+s[_]&4294967295;p=d,d=c,c=(u<<30|u>>>2)&4294967295,u=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let c=this.inbuf_;for(;l<i;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}else for(;l<i;)if(u[c]=e[l],++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function ZD(t,e){const i=new $D(t,e);return i.subscribe.bind(i)}class $D{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");JD(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=tm),l.error===void 0&&(l.error=tm),l.complete===void 0&&(l.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JD(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function tm(){}function Cg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,$(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;l=65536+(u<<10)+c}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},fh=function(t){let e=0;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ch;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const c=this.instances.get(l);return c&&e(c,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nN(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nN(t){return t===zs?void 0:t}function iN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new tN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const sN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},aN=st.INFO,lN={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},oN=(t,e,...i)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),l=lN[e];if(l)console[l](`[${s}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const uN=(t,e)=>e.some(i=>t instanceof i);let PE,zE;function cN(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,jm=new WeakMap,oT=new WeakMap,nm=new WeakMap,Rg=new WeakMap;function hN(t){const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{i(Jr(t.result)),l()},c=()=>{s(t.error),l()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&lT.set(i,t)}).catch(()=>{}),Rg.set(e,t),e}function dN(t){if(jm.has(t))return;const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{i(),l()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});jm.set(t,e)}let Hm={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oT.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Jr(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pN(t){Hm=t(Hm)}function mN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=t.call(im(this),e,...i);return oT.set(s,e.sort?e.sort():[e]),Jr(s)}:fN().includes(t)?function(...e){return t.apply(im(this),e),Jr(lT.get(this))}:function(...e){return Jr(t.apply(im(this),e))}}function gN(t){return typeof t=="function"?mN(t):(t instanceof IDBTransaction&&dN(t),uN(t,cN())?new Proxy(t,Hm):t)}function Jr(t){if(t instanceof IDBRequest)return hN(t);if(nm.has(t))return nm.get(t);const e=gN(t);return e!==t&&(nm.set(t,e),Rg.set(e,t)),e}const im=t=>Rg.get(t);function _N(t,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const c=indexedDB.open(t,e),d=Jr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Jr(c.result),p.oldVersion,p.newVersion,Jr(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const yN=["get","getKey","getAll","getAllKeys","count"],vN=["put","add","delete","clear"],rm=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=vN.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||yN.includes(i)))return;const u=async function(c,...d){const p=this.transaction(c,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),l&&p.done]))[0]};return rm.set(e,u),u}pN(t=>({...t,get:(e,i,s)=>jE(e,i)||t.get(e,i,s),has:(e,i)=>!!jE(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EN(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function EN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",HE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new wg("@firebase/app"),SN="@firebase/app-compat",TN="@firebase/analytics-compat",CN="@firebase/analytics",wN="@firebase/app-check-compat",RN="@firebase/app-check",AN="@firebase/auth",ON="@firebase/auth-compat",DN="@firebase/database",NN="@firebase/data-connect",MN="@firebase/database-compat",xN="@firebase/functions",IN="@firebase/functions-compat",LN="@firebase/installations",UN="@firebase/installations-compat",kN="@firebase/messaging",PN="@firebase/messaging-compat",zN="@firebase/performance",jN="@firebase/performance-compat",HN="@firebase/remote-config",BN="@firebase/remote-config-compat",qN="@firebase/storage",FN="@firebase/storage-compat",VN="@firebase/firestore",GN="@firebase/vertexai",YN="@firebase/firestore-compat",QN="firebase",KN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",WN={[Bm]:"fire-core",[SN]:"fire-core-compat",[CN]:"fire-analytics",[TN]:"fire-analytics-compat",[RN]:"fire-app-check",[wN]:"fire-app-check-compat",[AN]:"fire-auth",[ON]:"fire-auth-compat",[DN]:"fire-rtdb",[NN]:"fire-data-connect",[MN]:"fire-rtdb-compat",[xN]:"fire-fn",[IN]:"fire-fn-compat",[LN]:"fire-iid",[UN]:"fire-iid-compat",[kN]:"fire-fcm",[PN]:"fire-fcm-compat",[zN]:"fire-perf",[jN]:"fire-perf-compat",[HN]:"fire-rc",[BN]:"fire-rc-compat",[qN]:"fire-gcs",[FN]:"fire-gcs-compat",[VN]:"fire-fst",[YN]:"fire-fst-compat",[GN]:"fire-vertex","fire-js":"fire-js",[QN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,XN=new Map,Fm=new Map;function BE(t,e){try{t.container.addComponent(e)}catch(i){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Dl(t){const e=t.name;if(Fm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,t);for(const i of If.values())BE(i,t);for(const i of XN.values())BE(i,t);return!0}function Ag(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Iu("app","Firebase",ZN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=KN;function uT(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw es.create("bad-app-name",{appName:String(l)});if(i||(i=iT()),!i)throw es.create("no-options");const u=If.get(l);if(u){if(sa(i,u.options)&&sa(s,u.config))return u;throw es.create("duplicate-app",{appName:l})}const c=new rN(l);for(const p of Fm.values())c.addComponent(p);const d=new $N(i,s,c);return If.set(l,d),d}function cT(t=qm){const e=If.get(t);if(!e&&t===qm&&iT())return uT();if(!e)throw es.create("no-app",{appName:t});return e}function ts(t,e,i){var s;let l=(s=WN[t])!==null&&s!==void 0?s:t;i&&(l+=`-${i}`);const u=l.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const d=[`Unable to register library "${l}" with version "${e}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}Dl(new aa(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebase-heartbeat-database",eM=1,du="firebase-heartbeat-store";let sm=null;function fT(){return sm||(sm=_N(JN,eM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(i){console.warn(i)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),sm}async function tM(t){try{const i=(await fT()).transaction(du),s=await i.objectStore(du).get(hT(t));return await i.done,s}catch(e){if(e instanceof us)nr.warn(e.message);else{const i=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(i.message)}}}async function qE(t,e){try{const s=(await fT()).transaction(du,"readwrite");await s.objectStore(du).put(e,hT(t)),await s.done}catch(i){if(i instanceof us)nr.warn(i.message);else{const s=es.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});nr.warn(s.message)}}}function hT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1024,iM=30;class rM{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aM(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=FE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>iM){const c=lM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=FE(),{heartbeatsToSend:s,unsentEntries:l}=sM(this._heartbeatsCache.heartbeats),u=Nf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return nr.warn(i),""}}}function FE(){return new Date().toISOString().substring(0,10)}function sM(t,e=nM){const i=[];let s=t.slice();for(const l of t){const u=i.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),VE(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),VE(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class aM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?VD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tM(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return qE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return qE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function VE(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}function lM(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let s=1;s<t.length;s++)t[s].date<i&&(i=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){Dl(new aa("platform-logger",e=>new bN(e),"PRIVATE")),Dl(new aa("heartbeat",e=>new rM(e),"PRIVATE")),ts(Bm,HE,t),ts(Bm,HE,"esm2017"),ts("fire-js","")}oM("");var GE={};const YE="@firebase/database",QE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dT="";function uM(t){dT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),It(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:hu(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return or(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new cM(e)}}catch{}return new fM},Vs=pT("localStorage"),hM=pT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new wg("@firebase/database"),dM=function(){let t=1;return function(){return t++}}(),mT=function(t){const e=eN(t),i=new XD;i.update(e);const s=i.digest();return Eg.encodeByteArray(s)},Lu=function(...t){let e="";for(let i=0;i<t.length;i++){const s=t[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Lu.apply(null,s):typeof s=="object"?e+=It(s):e+=s,e+=" "}return e};let iu=null,KE=!0;const pM=function(t,e){$(!0,"Can't turn on custom loggers persistently."),ul.logLevel=st.VERBOSE,iu=ul.log.bind(ul)},Xt=function(...t){if(KE===!0&&(KE=!1,iu===null&&hM.get("logging_enabled")===!0&&pM()),iu){const e=Lu.apply(null,t);iu(e)}},Uu=function(t){return function(...e){Xt(t,...e)}},Vm=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lu(...t);ul.error(e)},ir=function(...t){const e=`FIREBASE FATAL ERROR: ${Lu(...t)}`;throw ul.error(e),new Error(e)},pn=function(...t){const e="FIREBASE WARNING: "+Lu(...t);ul.warn(e)},mM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gM=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Nl="[MIN_NAME]",la="[MAX_NAME]",Hl=function(t,e){if(t===e)return 0;if(t===Nl||e===la)return-1;if(e===Nl||t===la)return 1;{const i=WE(t),s=WE(e);return i!==null?s!==null?i-s===0?t.length-e.length:i-s:-1:s!==null?1:t<e?-1:1}},_M=function(t,e){return t===e?0:t<e?-1:1},Qo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+It(e))},Og=function(t){if(typeof t!="object"||t===null)return It(t);const e=[];for(const s in t)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=It(e[s]),i+=":",i+=Og(t[e[s]]);return i+="}",i},_T=function(t,e){const i=t.length;if(i<=e)return[t];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(t.substring(l,i)):s.push(t.substring(l,l+e));return s};function mn(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const yT=function(t){$(!gT(t),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,c,d,p;t===0?(u=0,c=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),s),u=d+s,c=Math.round(t*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,c=Math.round(t/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let b=parseInt(y.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},yM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bM(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+i);return s.code=t.toUpperCase(),s}const EM=new RegExp("^-?(0*)\\d{1,10}$"),SM=-2147483648,TM=2147483647,WE=function(t){if(EM.test(t)){const e=Number(t);if(e>=SM&&e<=TM)return e}return null},Bl=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw pn("Exception was thrown by user callback.",i),e},Math.floor(0))}},CM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ru=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){pn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pn(e)}}class _f{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_f.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="5",vT="v",bT="s",ET="r",ST="f",TT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CT="ls",wT="p",Gm="ac",RT="websocket",AT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,i,s,l,u=!1,c="",d=!1,p=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function AM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function DT(t,e,i){$(typeof e=="string","typeof type must == string"),$(typeof i=="object","typeof params must == object");let s;if(e===RT)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===AT)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AM(t)&&(i.ns=t.namespace);const l=[];return mn(i,(u,c)=>{l.push(u+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.counters_={}}incrementCounter(e,i=1){or(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return MD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am={},lm={};function Ng(t){const e=t.toString();return am[e]||(am[e]=new OM),am[e]}function DM(t,e){const i=t.toString();return lm[i]||(lm[i]=e()),lm[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Bl(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="start",MM="close",xM="pLPCommand",IM="pRTLPCB",NT="id",MT="pw",xT="ser",LM="cb",UM="seg",kM="ts",PM="d",zM="dframe",IT=1870,LT=30,jM=IT-LT,HM=25e3,BM=3e4;class al{constructor(e,i,s,l,u,c,d){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uu(e),this.stats_=Ng(i),this.urlFn=p=>(this.appCheckToken&&(p[Gm]=this.appCheckToken),DT(i,AT,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new NM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BM)),gM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mg((...u)=>{const[c,d,p,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===XE)this.id=d,this.password=p;else if(c===MM)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[XE]="t",s[xT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[LM]=this.scriptTagHolder.uniqueCallbackIdentifier),s[vT]=Dg,this.transportSessionId&&(s[bT]=this.transportSessionId),this.lastSessionId&&(s[CT]=this.lastSessionId),this.applicationId&&(s[wT]=this.applicationId),this.appCheckToken&&(s[Gm]=this.appCheckToken),typeof location<"u"&&location.hostname&&TT.test(location.hostname)&&(s[ET]=ST);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){al.forceAllow_=!0}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){return al.forceAllow_?!0:!al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yM()&&!vM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=It(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=eT(i),l=_T(s,jM);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[zM]="t",s[NT]=e,s[MT]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=It(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Mg{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dM(),window[xM+this.uniqueCallbackIdentifier]=e,window[IM+this.uniqueCallbackIdentifier]=i,this.myIFrame=Mg.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Xt("frame writing exception"),d.stack&&Xt(d.stack),Xt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NT]=this.myID,e[MT]=this.myPW,e[xT]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LT+s.length<=IT;){const c=this.pendingSegs.shift();s=s+"&"+UM+l+"="+c.seg+"&"+kM+l+"="+c.ts+"&"+PM+l+"="+c.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(HM)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{Xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=16384,FM=45e3;let Lf=null;typeof MozWebSocket<"u"?Lf=MozWebSocket:typeof WebSocket<"u"&&(Lf=WebSocket);class Zn{constructor(e,i,s,l,u,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uu(this.connId),this.stats_=Ng(i),this.connURL=Zn.connectionURL_(i,c,d,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const c={};return c[vT]=Dg,typeof location<"u"&&location.hostname&&TT.test(location.hostname)&&(c[ET]=ST),i&&(c[bT]=i),s&&(c[CT]=s),l&&(c[Gm]=l),u&&(c[wT]=u),DT(e,RT,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let s;qD(),this.mySock=new Lf(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Lf!==null&&!Zn.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=hu(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=It(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=_T(i,qM);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(FM))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zn.responsesRequiredToBeHealthy=2;Zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static get ALL_TRANSPORTS(){return[al,Zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Zn&&Zn.isAvailable();let s=i&&!Zn.previouslyFailed();if(e.webSocketOnly&&(i||pn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zn];else{const l=this.transports_=[];for(const u of pu.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);pu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=6e4,GM=5e3,YM=10*1024,QM=100*1024,om="t",ZE="d",KM="s",$E="r",WM="e",JE="o",e0="a",t0="n",n0="p",XM="h";class ZM{constructor(e,i,s,l,u,c,d,p,m,y){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uu("c:"+this.id+":"),this.transportManager_=new pu(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ru(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(om in e){const i=e[om];i===e0?this.upgradeIfSecondaryHealthy_():i===$E?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===JE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Qo("t",e),s=Qo("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:n0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:e0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:t0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Qo("t",e),s=Qo("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Qo(om,e);if(ZE in e){const s=e[ZE];if(i===XM){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===t0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===KM?this.onConnectionShutdown_(s):i===$E?this.onReset_(s):i===WM?Vm("Server Error: "+s):i===JE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vm("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Dg!==s&&pn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),ru(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ru(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:n0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){$(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends kT{static getInstance(){return new Uf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=32,r0=768;class lt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ye(){return new lt("")}function ze(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ss(t){return t.pieces_.length-t.pieceNum_}function ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new lt(t.pieces_,e)}function PT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $M(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function zT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function jT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new lt(e,0)}function Lt(t,e){const i=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)i.push(t.pieces_[s]);if(e instanceof lt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new lt(i,0)}function ke(t){return t.pieceNum_>=t.pieces_.length}function tn(t,e){const i=ze(t),s=ze(e);if(i===null)return e;if(i===s)return tn(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function HT(t,e){if(ss(t)!==ss(e))return!1;for(let i=t.pieceNum_,s=e.pieceNum_;i<=t.pieces_.length;i++,s++)if(t.pieces_[i]!==e.pieces_[s])return!1;return!0}function Jn(t,e){let i=t.pieceNum_,s=e.pieceNum_;if(ss(t)>ss(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class JM{constructor(e,i){this.errorPrefix_=i,this.parts_=zT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=fh(this.parts_[s]);BT(this)}}function ex(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fh(e),BT(t)}function tx(t){const e=t.parts_.pop();t.byteLength_-=fh(e),t.parts_.length>0&&(t.byteLength_-=1)}function BT(t){if(t.byteLength_>r0)throw new Error(t.errorPrefix_+"has a key path longer than "+r0+" bytes ("+t.byteLength_+").");if(t.parts_.length>i0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+i0+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends kT{static getInstance(){return new xg}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=1e3,nx=60*5*1e3,s0=30*1e3,ix=1.3,rx=3e4,sx="server_kill",a0=3;class Zi extends UT{constructor(e,i,s,l,u,c,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Zi.nextPersistentConnectionId_++,this.log_=Uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ko,this.maxReconnectDelay_=nx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Uf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(It(u)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new ch,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(c).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,d=>{const p=d.d,m=d.s;Zi.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&or(e,"w")){const s=Ol(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();pn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=s0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=KD(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,c=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";l&&(u.q=s,u.t=l),this.sendRequest(c,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const c={p:i,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+It(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Vm("Unrecognized action received from server: "+It(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rx&&(this.reconnectDelay_=Ko),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ix)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Zi.nextConnectionId_++,u=this.lastSessionId;let c=!1,d=null;const p=function(){d?d.close():(c=!0,s())},m=function(_){$(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,d=new ZM(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,T=>{pn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(sx)},u))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&pn(_),p())}}}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zm(this.interruptReasons_)&&(this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>Og(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new lt(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){Xt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=a0&&(this.reconnectDelay_=s0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Xt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=a0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+dT.replace(/\./g,"-")]=1,Tg()?e["framework.cordova"]=1:sT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uf.getInstance().currentlyOnline();return zm(this.interruptReasons_)&&e}}Zi.nextPersistentConnectionId_=0;Zi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Ie(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new Ie(Nl,e),l=new Ie(Nl,i);return this.compare(s,l)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of;class qT extends hh{static get __EMPTY_NODE(){return of}static set __EMPTY_NODE(e){of=e}compare(e,i){return Hl(e.name,i.name)}isDefinedOn(e){throw Pl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(la,of)}makePost(e,i){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,of)}toString(){return".key"}}const cl=new qT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?s(e.key,i):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??jt.RED,this.left=l??dn.EMPTY_NODE,this.right=u??dn.EMPTY_NODE}copy(e,i,s,l,u){return new jt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return dn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jt.RED=!0;jt.BLACK=!1;class ax{copy(e,i,s,l,u){return this}insert(e,i,s){return new jt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dn{constructor(e,i=dn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new dn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new uf(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new uf(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new uf(this.root_,null,this.comparator_,!0,e)}}dn.EMPTY_NODE=new ax;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){return Hl(t.name,e.name)}function Ig(t,e){return Hl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym;function ox(t){Ym=t}const FT=function(t){return typeof t=="number"?"number:"+yT(t):"string:"+t},VT=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&or(e,".sv"),"Priority must be a string or number.")}else $(t===Ym||t.isEmpty(),"priority of unexpected type.");$(t===Ym||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0;class zt{static set __childrenNodeConstructor(e){l0=e}static get __childrenNodeConstructor(){return l0}constructor(e,i=zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ke(e)?this:ze(e)===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=ze(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:($(s!==".priority"||ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+FT(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=yT(this.value_):e+=this.value_,this.lazyHash_=mT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zt.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=zt.VALUE_TYPE_ORDER.indexOf(i),u=zt.VALUE_TYPE_ORDER.indexOf(s);return $(l>=0,"Unknown leaf type: "+i),$(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GT,YT;function ux(t){GT=t}function cx(t){YT=t}class fx extends hh{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?Hl(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(la,new zt("[PRIORITY-POST]",YT))}makePost(e,i){const s=GT(e);return new Ie(i,new zt("[PRIORITY-POST]",s))}toString(){return".priority"}}const St=new fx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=Math.log(2);class dx{constructor(e){const i=u=>parseInt(Math.log(u)/hx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kf=function(t,e,i,s){t.sort(e);const l=function(p,m){const y=m-p;let _,b;if(y===0)return null;if(y===1)return _=t[p],b=i?i(_):_,new jt(b,_.node,jt.BLACK,null,null);{const T=parseInt(y/2,10)+p,O=l(p,T),U=l(T+1,m);return _=t[T],b=i?i(_):_,new jt(b,_.node,jt.BLACK,O,U)}},u=function(p){let m=null,y=null,_=t.length;const b=function(O,U){const M=_-O,W=_;_-=O;const F=l(M+1,W),X=t[M],Q=i?i(X):X;T(new jt(Q,X.node,U,null,F))},T=function(O){m?(m.left=O,m=O):(y=O,m=O)};for(let O=0;O<p.count;++O){const U=p.nextBitIsOne(),M=Math.pow(2,p.count-(O+1));U?b(M,jt.BLACK):(b(M,jt.BLACK),b(M,jt.RED))}return y},c=new dx(t.length),d=u(c);return new dn(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;const il={};class Qi{static get Default(){return $(il&&St,"ChildrenNode.ts has not been loaded"),um=um||new Qi({".priority":il},{".priority":St}),um}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ol(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof dn?i:null}hasIndex(e){return or(this.indexSet_,e.toString())}addIndex(e,i){$(e!==cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(Ie.Wrap);let c=u.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let d;l?d=kf(s,e.getCompare()):d=il;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=d,new Qi(y,m)}addToIndexes(e,i){const s=xf(this.indexes_,(l,u)=>{const c=Ol(this.indexSet_,u);if($(c,"Missing index implementation for "+u),l===il)if(c.isDefinedOn(e.node)){const d=[],p=i.getIterator(Ie.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),kf(d,c.getCompare())}else return il;else{const d=i.get(e.name);let p=l;return d&&(p=p.remove(new Ie(e.name,d))),p.insert(e,e.node)}});return new Qi(s,this.indexSet_)}removeFromIndexes(e,i){const s=xf(this.indexes_,l=>{if(l===il)return l;{const u=i.get(e.name);return u?l.remove(new Ie(e.name,u)):l}});return new Qi(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class Se{static get EMPTY_NODE(){return Wo||(Wo=new Se(new dn(Ig),null,Qi.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&VT(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Wo:i}}getChild(e){const i=ze(e);return i===null?this:this.getImmediateChild(i).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if($(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new Ie(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?Wo:this.priorityNode_;return new Se(l,c,u)}}updateChild(e,i){const s=ze(e);if(s===null)return i;{$(ze(e)!==".priority"||ss(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(ft(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(St,(c,d)=>{i[c]=d.val(e),s++,u&&Se.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):u=!1}),!e&&u&&l<2*s){const c=[];for(const d in i)c[d]=i[d];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+FT(this.getPriority().val())+":"),this.forEachChild(St,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":mT(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new Ie(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ie(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ie(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ie.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ku?-1:0}withIndex(e){if(e===cl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===cl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(St),l=i.getIterator(St);let u=s.getNext(),c=l.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=l.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===cl?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class px extends Se{constructor(){super(new dn(Ig),Se.EMPTY_NODE,Qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const ku=new px;Object.defineProperties(Ie,{MIN:{value:new Ie(Nl,Se.EMPTY_NODE)},MAX:{value:new Ie(la,ku)}});qT.__EMPTY_NODE=Se.EMPTY_NODE;zt.__childrenNodeConstructor=Se;ox(ku);cx(ku);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=!0;function Ht(t,e=null){if(t===null)return Se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new zt(i,Ht(e))}if(!(t instanceof Array)&&mx){const i=[];let s=!1;if(mn(t,(c,d)=>{if(c.substring(0,1)!=="."){const p=Ht(d);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new Ie(c,p)))}}),i.length===0)return Se.EMPTY_NODE;const u=kf(i,lx,c=>c.name,Ig);if(s){const c=kf(i,St.getCompare());return new Se(u,Ht(e),new Qi({".priority":c},{".priority":St}))}else return new Se(u,Ht(e),Qi.Default)}else{let i=Se.EMPTY_NODE;return mn(t,(s,l)=>{if(or(t,s)&&s.substring(0,1)!=="."){const u=Ht(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Ht(e))}}ux(Ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends hh{constructor(e){super(),this.indexPath_=e,$(!ke(e)&&ze(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?Hl(e.name,i.name):u}makePost(e,i){const s=Ht(e),l=Se.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ie(i,l)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,ku);return new Ie(la,e)}toString(){return zT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends hh{compare(e,i){const s=e.node.compareTo(i.node);return s===0?Hl(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,i){const s=Ht(e);return new Ie(i,s)}toString(){return".value"}}const yx=new _x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){return{type:"value",snapshotNode:t}}function Ml(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gu(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function vx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.index_=e}updateChild(e,i,s,l,u,c){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(l).equals(s.getChild(l))&&d.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(i)?c.trackChildChange(mu(i,d)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Ml(i,s)):c.trackChildChange(gu(i,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(St,(l,u)=>{i.hasChild(l)||s.trackChildChange(mu(l,u))}),i.isLeafNode()||i.forEachChild(St,(l,u)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(u)||s.trackChildChange(gu(l,u,c))}else s.trackChildChange(Ml(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?Se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.indexedFilter_=new Lg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_u.getStartPost_(e),this.endPost_=_u.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,c){return this.matches(new Ie(i,s))||(s=Se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,c)}updateFullNode(e,i,s){i.isLeafNode()&&(i=Se.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(Se.EMPTY_NODE);const u=this;return i.forEachChild(St,(c,d)=>{u.matches(new Ie(c,d))||(l=l.updateImmediateChild(c,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new _u(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,c){return this.rangedFilter_.matches(new Ie(i,s))||(s=Se.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,c):this.fullLimitUpdateChild_(e,i,s,u,c)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=Se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(Se.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let c=0;for(;u.hasNext();){const d=u.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:l=l.updateImmediateChild(d.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let c;if(this.reverse_){const _=this.index_.getCompare();c=(b,T)=>_(T,b)}else c=this.index_.getCompare();const d=e;$(d.numChildren()===this.limit_,"");const p=new Ie(i,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(d.hasChild(i)){const _=d.getImmediateChild(i);let b=l.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===i||d.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const T=b==null?1:c(b,p);if(y&&!s.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(gu(i,s,_)),d.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(mu(i,_));const U=d.updateImmediateChild(i,Se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(Ml(b.name,b.node)),U.updateImmediateChild(b.name,b.node)):U}}else return s.isEmpty()?e:y&&c(m,p)>=0?(u!=null&&(u.trackChildChange(mu(m.name,m.node)),u.trackChildChange(Ml(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(m.name,Se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:la}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new Ug;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ex(t){return t.loadsAllData()?new Lg(t.getIndex()):t.hasLimit()?new bx(t):new _u(t)}function o0(t){const e={};if(t.isDefault())return e;let i;if(t.index_===St?i="$priority":t.index_===yx?i="$value":t.index_===cl?i="$key":($(t.index_ instanceof gx,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=It(i),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=It(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+It(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=It(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+It(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function u0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==St&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends UT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Uu("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Pf.getListenId_(e,s),d={};this.listens_[c]=d;const p=o0(e._queryParams);this.restRequest_(u+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,s),Ol(this.listens_,c)===d){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",l(b,null)}})}unlisten(e,i){const s=Pf.getListenId_(e,i);delete this.listens_[s]}get(e){const i=o0(e._queryParams),s=e._path.toString(),l=new ch;return this.restRequest_(s+".json",i,(u,c)=>{let d=c;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zl(i);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=hu(d.responseText)}catch{pn("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,p)}else d.status!==401&&d.status!==404&&pn("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){return{value:null,children:new Map}}function KT(t,e,i){if(ke(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const s=ze(e);t.children.has(s)||t.children.set(s,zf());const l=t.children.get(s);e=ft(e),KT(l,e,i)}}function Qm(t,e,i){t.value!==null?i(e,t.value):Tx(t,(s,l)=>{const u=new lt(e.toString()+"/"+s);Qm(l,u,i)})}function Tx(t,e){t.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&mn(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=10*1e3,wx=30*1e3,Rx=5*60*1e3;class Ax{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Cx(e);const s=c0+(wx-c0)*Math.random();ru(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;mn(e,(l,u)=>{u>0&&or(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),ru(this.reportStats_.bind(this),Math.floor(Math.random()*2*Rx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ei||(ei={}));function WT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=ei.ACK_USER_WRITE,this.source=WT()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new lt(e));return new jf(Ye(),i,this.revert)}}else return $(ze(this.path)===e,"operationForChild called for unrelated child."),new jf(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,i){this.source=e,this.path=i,this.type=ei.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new yu(this.source,Ye()):new yu(this.source,ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=ei.OVERWRITE}operationForChild(e){return ke(this.path)?new oa(this.source,Ye(),this.snap.getImmediateChild(e)):new oa(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=ei.MERGE}operationForChild(e){if(ke(this.path)){const i=this.children.subtree(new lt(e));return i.isEmpty()?null:i.value?new oa(this.source,Ye(),i.value):new vu(this.source,Ye(),i)}else return $(ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vu(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;const i=ze(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dx(t,e,i,s){const l=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(vx(c.childName,c.snapshotNode))}),Xo(t,l,"child_removed",e,s,i),Xo(t,l,"child_added",e,s,i),Xo(t,l,"child_moved",u,s,i),Xo(t,l,"child_changed",e,s,i),Xo(t,l,"value",e,s,i),l}function Xo(t,e,i,s,l,u){const c=s.filter(d=>d.type===i);c.sort((d,p)=>Mx(t,d,p)),c.forEach(d=>{const p=Nx(t,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,t.query_))})})}function Nx(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Mx(t,e,i){if(e.childName==null||i.childName==null)throw Pl("Should only compare child_ events.");const s=new Ie(e.childName,e.snapshotNode),l=new Ie(i.childName,i.snapshotNode);return t.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e){return{eventCache:t,serverCache:e}}function su(t,e,i,s){return dh(new as(e,i,s),t.serverCache)}function XT(t,e,i,s){return dh(t.eventCache,new as(e,i,s))}function Hf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ua(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm;const xx=()=>(cm||(cm=new dn(_M)),cm);class ht{static fromObject(e){let i=new ht(null);return mn(e,(s,l)=>{i=i.set(new lt(s),l)}),i}constructor(e,i=xx()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ye(),value:this.value};if(ke(e))return null;{const s=ze(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ft(e),i);return u!=null?{path:Lt(new lt(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{const i=ze(e),s=this.children.get(i);return s!==null?s.subtree(ft(e)):new ht(null)}}set(e,i){if(ke(e))return new ht(i,this.children);{const s=ze(e),u=(this.children.get(s)||new ht(null)).set(ft(e),i),c=this.children.insert(s,u);return new ht(this.value,c)}}remove(e){if(ke(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const i=ze(e),s=this.children.get(i);if(s){const l=s.remove(ft(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new ht(null):new ht(this.value,u)}else return this}}get(e){if(ke(e))return this.value;{const i=ze(e),s=this.children.get(i);return s?s.get(ft(e)):null}}setTree(e,i){if(ke(e))return i;{const s=ze(e),u=(this.children.get(s)||new ht(null)).setTree(ft(e),i);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new ht(this.value,c)}}fold(e){return this.fold_(Ye(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Lt(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Ye(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(ke(e))return null;{const u=ze(e),c=this.children.get(u);return c?c.findOnPath_(ft(e),Lt(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ye(),i)}foreachOnPath_(e,i,s){if(ke(e))return this;{this.value&&s(i,this.value);const l=ze(e),u=this.children.get(l);return u?u.foreachOnPath_(ft(e),Lt(i,l),s):new ht(null)}}foreach(e){this.foreach_(Ye(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(Lt(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.writeTree_=e}static empty(){return new ni(new ht(null))}}function au(t,e,i){if(ke(e))return new ni(new ht(i));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const c=tn(l,e);return u=u.updateChild(c,i),new ni(t.writeTree_.set(l,u))}else{const l=new ht(i),u=t.writeTree_.setTree(e,l);return new ni(u)}}}function f0(t,e,i){let s=t;return mn(i,(l,u)=>{s=au(s,Lt(e,l),u)}),s}function h0(t,e){if(ke(e))return ni.empty();{const i=t.writeTree_.setTree(e,new ht(null));return new ni(i)}}function Km(t,e){return ma(t,e)!=null}function ma(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(tn(i.path,e)):null}function d0(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(St,(s,l)=>{e.push(new Ie(s,l))}):t.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Ie(s,l.value))}),e}function ns(t,e){if(ke(e))return t;{const i=ma(t,e);return i!=null?new ni(new ht(i)):new ni(t.writeTree_.subtree(e))}}function Wm(t){return t.writeTree_.isEmpty()}function xl(t,e){return ZT(Ye(),t.writeTree_,e)}function ZT(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?($(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=ZT(Lt(t,l),u,i)}),!i.getChild(t).isEmpty()&&s!==null&&(i=i.updateChild(Lt(t,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e){return tC(e,t)}function Ix(t,e,i,s,l){$(s>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(t.visibleWrites=au(t.visibleWrites,e,i)),t.lastWriteId=s}function Lx(t,e){for(let i=0;i<t.allWrites.length;i++){const s=t.allWrites[i];if(s.writeId===e)return s}return null}function Ux(t,e){const i=t.allWrites.findIndex(d=>d.writeId===e);$(i>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[i];t.allWrites.splice(i,1);let l=s.visible,u=!1,c=t.allWrites.length-1;for(;l&&c>=0;){const d=t.allWrites[c];d.visible&&(c>=i&&kx(d,s.path)?l=!1:Jn(s.path,d.path)&&(u=!0)),c--}if(l){if(u)return Px(t),!0;if(s.snap)t.visibleWrites=h0(t.visibleWrites,s.path);else{const d=s.children;mn(d,p=>{t.visibleWrites=h0(t.visibleWrites,Lt(s.path,p))})}return!0}else return!1}function kx(t,e){if(t.snap)return Jn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&Jn(Lt(t.path,i),e))return!0;return!1}function Px(t){t.visibleWrites=$T(t.allWrites,zx,Ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zx(t){return t.visible}function $T(t,e,i){let s=ni.empty();for(let l=0;l<t.length;++l){const u=t[l];if(e(u)){const c=u.path;let d;if(u.snap)Jn(i,c)?(d=tn(i,c),s=au(s,d,u.snap)):Jn(c,i)&&(d=tn(c,i),s=au(s,Ye(),u.snap.getChild(d)));else if(u.children){if(Jn(i,c))d=tn(i,c),s=f0(s,d,u.children);else if(Jn(c,i))if(d=tn(c,i),ke(d))s=f0(s,Ye(),u.children);else{const p=Ol(u.children,ze(d));if(p){const m=p.getChild(ft(d));s=au(s,Ye(),m)}}}else throw Pl("WriteRecord should have .snap or .children")}}return s}function JT(t,e,i,s,l){if(!s&&!l){const u=ma(t.visibleWrites,e);if(u!=null)return u;{const c=ns(t.visibleWrites,e);if(Wm(c))return i;if(i==null&&!Km(c,Ye()))return null;{const d=i||Se.EMPTY_NODE;return xl(c,d)}}}else{const u=ns(t.visibleWrites,e);if(!l&&Wm(u))return i;if(!l&&i==null&&!Km(u,Ye()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Jn(m.path,e)||Jn(e,m.path))},d=$T(t.allWrites,c,e),p=i||Se.EMPTY_NODE;return xl(d,p)}}}function jx(t,e,i){let s=Se.EMPTY_NODE;const l=ma(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(St,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(i){const u=ns(t.visibleWrites,e);return i.forEachChild(St,(c,d)=>{const p=xl(ns(u,new lt(c)),d);s=s.updateImmediateChild(c,p)}),d0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=ns(t.visibleWrites,e);return d0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function Hx(t,e,i,s,l){$(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Lt(e,i);if(Km(t.visibleWrites,u))return null;{const c=ns(t.visibleWrites,u);return Wm(c)?l.getChild(i):xl(c,l.getChild(i))}}function Bx(t,e,i,s){const l=Lt(e,i),u=ma(t.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const c=ns(t.visibleWrites,l);return xl(c,s.getNode().getImmediateChild(i))}else return null}function qx(t,e){return ma(t.visibleWrites,e)}function Fx(t,e,i,s,l,u,c){let d;const p=ns(t.visibleWrites,e),m=ma(p,Ye());if(m!=null)d=m;else if(i!=null)d=xl(p,i);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const y=[],_=c.getCompare(),b=u?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let T=b.getNext();for(;T&&y.length<l;)_(T,s)!==0&&y.push(T),T=b.getNext();return y}else return[]}function Vx(){return{visibleWrites:ni.empty(),allWrites:[],lastWriteId:-1}}function Bf(t,e,i,s){return JT(t.writeTree,t.treePath,e,i,s)}function zg(t,e){return jx(t.writeTree,t.treePath,e)}function p0(t,e,i,s){return Hx(t.writeTree,t.treePath,e,i,s)}function qf(t,e){return qx(t.writeTree,Lt(t.treePath,e))}function Gx(t,e,i,s,l,u){return Fx(t.writeTree,t.treePath,e,i,s,l,u)}function jg(t,e,i){return Bx(t.writeTree,t.treePath,e,i)}function eC(t,e){return tC(Lt(t.treePath,e),t.writeTree)}function tC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;$(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),$(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,gu(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,mu(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,Ml(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,gu(s,e.snapshotNode,l.oldSnap));else throw Pl("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const nC=new Qx;class Hg{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jg(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ua(this.viewCache_),u=Gx(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return{filter:t}}function Wx(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Xx(t,e,i,s,l){const u=new Yx;let c,d;if(i.type===ei.OVERWRITE){const m=i;m.source.fromUser?c=Xm(t,e,m.path,m.snap,s,l,u):($(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ke(m.path),c=Ff(t,e,m.path,m.snap,s,l,d,u))}else if(i.type===ei.MERGE){const m=i;m.source.fromUser?c=$x(t,e,m.path,m.children,s,l,u):($(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),c=Zm(t,e,m.path,m.children,s,l,d,u))}else if(i.type===ei.ACK_USER_WRITE){const m=i;m.revert?c=tI(t,e,m.path,s,l,u):c=Jx(t,e,m.path,m.affectedTree,s,l,u)}else if(i.type===ei.LISTEN_COMPLETE)c=eI(t,e,i.path,s,u);else throw Pl("Unknown operation type: "+i.type);const p=u.getChanges();return Zx(e,c,p),{viewCache:c,changes:p}}function Zx(t,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Hf(t);(i.length>0||!t.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(QT(Hf(e)))}}function iC(t,e,i,s,l,u){const c=e.eventCache;if(qf(s,i)!=null)return e;{let d,p;if(ke(i))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ua(e),y=m instanceof Se?m:Se.EMPTY_NODE,_=zg(s,y);d=t.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=Bf(s,ua(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ze(i);if(m===".priority"){$(ss(i)===1,"Can't have a priority with additional path components");const y=c.getNode();p=e.serverCache.getNode();const _=p0(s,i,y,p);_!=null?d=t.filter.updatePriority(y,_):d=c.getNode()}else{const y=ft(i);let _;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const b=p0(s,i,c.getNode(),p);b!=null?_=c.getNode().getImmediateChild(m).updateChild(y,b):_=c.getNode().getImmediateChild(m)}else _=jg(s,m,e.serverCache);_!=null?d=t.filter.updateChild(c.getNode(),m,_,y,l,u):d=c.getNode()}}return su(e,d,c.isFullyInitialized()||ke(i),t.filter.filtersNodes())}}function Ff(t,e,i,s,l,u,c,d){const p=e.serverCache;let m;const y=c?t.filter:t.filter.getIndexedFilter();if(ke(i))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,s);m=y.updateFullNode(p.getNode(),T,null)}else{const T=ze(i);if(!p.isCompleteForPath(i)&&ss(i)>1)return e;const O=ft(i),M=p.getNode().getImmediateChild(T).updateChild(O,s);T===".priority"?m=y.updatePriority(p.getNode(),M):m=y.updateChild(p.getNode(),T,M,O,nC,null)}const _=XT(e,m,p.isFullyInitialized()||ke(i),y.filtersNodes()),b=new Hg(l,_,u);return iC(t,_,i,l,b,d)}function Xm(t,e,i,s,l,u,c){const d=e.eventCache;let p,m;const y=new Hg(l,e,u);if(ke(i))m=t.filter.updateFullNode(e.eventCache.getNode(),s,c),p=su(e,m,!0,t.filter.filtersNodes());else{const _=ze(i);if(_===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),p=su(e,m,d.isFullyInitialized(),d.isFiltered());else{const b=ft(i),T=d.getNode().getImmediateChild(_);let O;if(ke(b))O=s;else{const U=y.getCompleteChild(_);U!=null?PT(b)===".priority"&&U.getChild(jT(b)).isEmpty()?O=U:O=U.updateChild(b,s):O=Se.EMPTY_NODE}if(T.equals(O))p=e;else{const U=t.filter.updateChild(d.getNode(),_,O,b,y,c);p=su(e,U,d.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function m0(t,e){return t.eventCache.isCompleteForChild(e)}function $x(t,e,i,s,l,u,c){let d=e;return s.foreach((p,m)=>{const y=Lt(i,p);m0(e,ze(y))&&(d=Xm(t,d,y,m,l,u,c))}),s.foreach((p,m)=>{const y=Lt(i,p);m0(e,ze(y))||(d=Xm(t,d,y,m,l,u,c))}),d}function g0(t,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Zm(t,e,i,s,l,u,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ke(i)?m=s:m=new ht(null).setTree(i,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,b)=>{if(y.hasChild(_)){const T=e.serverCache.getNode().getImmediateChild(_),O=g0(t,T,b);p=Ff(t,p,new lt(_),O,l,u,c,d)}}),m.children.inorderTraversal((_,b)=>{const T=!e.serverCache.isCompleteForChild(_)&&b.value===null;if(!y.hasChild(_)&&!T){const O=e.serverCache.getNode().getImmediateChild(_),U=g0(t,O,b);p=Ff(t,p,new lt(_),U,l,u,c,d)}}),p}function Jx(t,e,i,s,l,u,c){if(qf(l,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(ke(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Ff(t,e,i,p.getNode().getChild(i),l,u,d,c);if(ke(i)){let m=new ht(null);return p.getNode().forEachChild(cl,(y,_)=>{m=m.set(new lt(y),_)}),Zm(t,e,i,m,l,u,d,c)}else return e}else{let m=new ht(null);return s.foreach((y,_)=>{const b=Lt(i,y);p.isCompleteForPath(b)&&(m=m.set(y,p.getNode().getChild(b)))}),Zm(t,e,i,m,l,u,d,c)}}function eI(t,e,i,s,l){const u=e.serverCache,c=XT(e,u.getNode(),u.isFullyInitialized()||ke(i),u.isFiltered());return iC(t,c,i,s,nC,l)}function tI(t,e,i,s,l,u){let c;if(qf(s,i)!=null)return e;{const d=new Hg(s,e,l),p=e.eventCache.getNode();let m;if(ke(i)||ze(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Bf(s,ua(e));else{const _=e.serverCache.getNode();$(_ instanceof Se,"serverChildren would be complete if leaf node"),y=zg(s,_)}y=y,m=t.filter.updateFullNode(p,y,u)}else{const y=ze(i);let _=jg(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=t.filter.updateChild(p,y,_,ft(i),d,u):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(p,y,Se.EMPTY_NODE,ft(i),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Bf(s,ua(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||qf(s,Ye())!=null,su(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Lg(s.getIndex()),u=Ex(s);this.processor_=Kx(u);const c=i.serverCache,d=i.eventCache,p=l.updateFullNode(Se.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(Se.EMPTY_NODE,d.getNode(),null),y=new as(p,c.isFullyInitialized(),l.filtersNodes()),_=new as(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=dh(_,y),this.eventGenerator_=new Ox(this.query_)}get query(){return this.query_}}function iI(t){return t.viewCache_.serverCache.getNode()}function rI(t){return Hf(t.viewCache_)}function sI(t,e){const i=ua(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!ke(e)&&!i.getImmediateChild(ze(e)).isEmpty())?i.getChild(e):null}function _0(t){return t.eventRegistrations_.length===0}function aI(t,e){t.eventRegistrations_.push(e)}function y0(t,e,i){const s=[];if(i){$(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,l);c&&s.push(c)})}if(e){let l=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return s}function v0(t,e,i,s){e.type===ei.MERGE&&e.source.queryId!==null&&($(ua(t.viewCache_),"We should always have a full cache before handling merges"),$(Hf(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,u=Xx(t.processor_,l,e,i,s);return Wx(t.processor_,u.viewCache),$(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,rC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function lI(t,e){const i=t.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(St,(u,c)=>{s.push(Ml(u,c))}),i.isFullyInitialized()&&s.push(QT(i.getNode())),rC(t,s,i.getNode(),e)}function rC(t,e,i,s){const l=s?[s]:t.eventRegistrations_;return Dx(t.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;class sC{constructor(){this.views=new Map}}function oI(t){$(!Vf,"__referenceConstructor has already been defined"),Vf=t}function uI(){return $(Vf,"Reference.ts has not been loaded"),Vf}function cI(t){return t.views.size===0}function Bg(t,e,i,s){const l=e.source.queryId;if(l!==null){const u=t.views.get(l);return $(u!=null,"SyncTree gave us an op for an invalid query."),v0(u,e,i,s)}else{let u=[];for(const c of t.views.values())u=u.concat(v0(c,e,i,s));return u}}function aC(t,e,i,s,l){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let d=Bf(i,l?s:null),p=!1;d?p=!0:s instanceof Se?(d=zg(i,s),p=!1):(d=Se.EMPTY_NODE,p=!1);const m=dh(new as(d,p,!1),new as(s,l,!1));return new nI(e,m)}return c}function fI(t,e,i,s,l,u){const c=aC(t,e,s,l,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),aI(c,i),lI(c,i)}function hI(t,e,i,s){const l=e._queryIdentifier,u=[];let c=[];const d=ls(t);if(l==="default")for(const[p,m]of t.views.entries())c=c.concat(y0(m,i,s)),_0(m)&&(t.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=t.views.get(l);p&&(c=c.concat(y0(p,i,s)),_0(p)&&(t.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!ls(t)&&u.push(new(uI())(e._repo,e._path)),{removed:u,events:c}}function lC(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function is(t,e){let i=null;for(const s of t.views.values())i=i||sI(s,e);return i}function oC(t,e){if(e._queryParams.loadsAllData())return mh(t);{const s=e._queryIdentifier;return t.views.get(s)}}function uC(t,e){return oC(t,e)!=null}function ls(t){return mh(t)!=null}function mh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf;function dI(t){$(!Gf,"__referenceConstructor has already been defined"),Gf=t}function pI(){return $(Gf,"Reference.ts has not been loaded"),Gf}let mI=1;class b0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=Vx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cC(t,e,i,s,l){return Ix(t.pendingWriteTree_,e,i,s,l),l?zu(t,new oa(WT(),e,i)):[]}function Gs(t,e,i=!1){const s=Lx(t.pendingWriteTree_,e);if(Ux(t.pendingWriteTree_,e)){let u=new ht(null);return s.snap!=null?u=u.set(Ye(),!0):mn(s.children,c=>{u=u.set(new lt(c),!0)}),zu(t,new jf(s.path,u,i))}else return[]}function Pu(t,e,i){return zu(t,new oa(kg(),e,i))}function gI(t,e,i){const s=ht.fromObject(i);return zu(t,new vu(kg(),e,s))}function _I(t,e){return zu(t,new yu(kg(),e))}function yI(t,e,i){const s=Fg(t,i);if(s){const l=Vg(s),u=l.path,c=l.queryId,d=tn(u,e),p=new yu(Pg(c),d);return Gg(t,u,p)}else return[]}function fC(t,e,i,s,l=!1){const u=e._path,c=t.syncPointTree_.get(u);let d=[];if(c&&(e._queryIdentifier==="default"||uC(c,e))){const p=hI(c,e,i,s);cI(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!l){const y=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(u,(b,T)=>ls(T));if(y&&!_){const b=t.syncPointTree_.subtree(u);if(!b.isEmpty()){const T=SI(b);for(let O=0;O<T.length;++O){const U=T[O],M=U.query,W=mC(t,U);t.listenProvider_.startListening(lu(M),bu(t,M),W.hashFn,W.onComplete)}}}!_&&m.length>0&&!s&&(y?t.listenProvider_.stopListening(lu(e),null):m.forEach(b=>{const T=t.queryToTagMap.get(gh(b));t.listenProvider_.stopListening(lu(b),T)}))}TI(t,m)}return d}function hC(t,e,i,s){const l=Fg(t,s);if(l!=null){const u=Vg(l),c=u.path,d=u.queryId,p=tn(c,e),m=new oa(Pg(d),p,i);return Gg(t,c,m)}else return[]}function vI(t,e,i,s){const l=Fg(t,s);if(l){const u=Vg(l),c=u.path,d=u.queryId,p=tn(c,e),m=ht.fromObject(i),y=new vu(Pg(d),p,m);return Gg(t,c,y)}else return[]}function bI(t,e,i,s=!1){const l=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(l,(b,T)=>{const O=tn(b,l);u=u||is(T,O),c=c||ls(T)});let d=t.syncPointTree_.get(l);d?(c=c||ls(d),u=u||is(d,Ye())):(d=new sC,t.syncPointTree_=t.syncPointTree_.set(l,d));let p;u!=null?p=!0:(p=!1,u=Se.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((T,O)=>{const U=is(O,Ye());U&&(u=u.updateImmediateChild(T,U))}));const m=uC(d,e);if(!m&&!e._queryParams.loadsAllData()){const b=gh(e);$(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=CI();t.queryToTagMap.set(b,T),t.tagToQueryMap.set(T,b)}const y=ph(t.pendingWriteTree_,l);let _=fI(d,e,i,y,u,p);if(!m&&!c&&!s){const b=oC(d,e);_=_.concat(wI(t,e,b))}return _}function qg(t,e,i){const l=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,d)=>{const p=tn(c,e),m=is(d,p);if(m)return m});return JT(l,e,u,i,!0)}function EI(t,e){const i=e._path;let s=null;t.syncPointTree_.foreachOnPath(i,(m,y)=>{const _=tn(m,i);s=s||is(y,_)});let l=t.syncPointTree_.get(i);l?s=s||is(l,Ye()):(l=new sC,t.syncPointTree_=t.syncPointTree_.set(i,l));const u=s!=null,c=u?new as(s,!0,!1):null,d=ph(t.pendingWriteTree_,e._path),p=aC(l,e,d,u?c.getNode():Se.EMPTY_NODE,u);return rI(p)}function zu(t,e){return dC(e,t.syncPointTree_,null,ph(t.pendingWriteTree_,Ye()))}function dC(t,e,i,s){if(ke(t.path))return pC(t,e,i,s);{const l=e.get(Ye());i==null&&l!=null&&(i=is(l,Ye()));let u=[];const c=ze(t.path),d=t.operationForChild(c),p=e.children.get(c);if(p&&d){const m=i?i.getImmediateChild(c):null,y=eC(s,c);u=u.concat(dC(d,p,m,y))}return l&&(u=u.concat(Bg(l,t,s,i))),u}}function pC(t,e,i,s){const l=e.get(Ye());i==null&&l!=null&&(i=is(l,Ye()));let u=[];return e.children.inorderTraversal((c,d)=>{const p=i?i.getImmediateChild(c):null,m=eC(s,c),y=t.operationForChild(c);y&&(u=u.concat(pC(y,d,p,m)))}),l&&(u=u.concat(Bg(l,t,s,i))),u}function mC(t,e){const i=e.query,s=bu(t,i);return{hashFn:()=>(iI(e)||Se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?yI(t,i._path,s):_I(t,i._path);{const u=bM(l,i);return fC(t,i,null,u)}}}}function bu(t,e){const i=gh(e);return t.queryToTagMap.get(i)}function gh(t){return t._path.toString()+"$"+t._queryIdentifier}function Fg(t,e){return t.tagToQueryMap.get(e)}function Vg(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new lt(t.substr(0,e))}}function Gg(t,e,i){const s=t.syncPointTree_.get(e);$(s,"Missing sync point for query tag that we're tracking");const l=ph(t.pendingWriteTree_,e);return Bg(s,i,l,null)}function SI(t){return t.fold((e,i,s)=>{if(i&&ls(i))return[mh(i)];{let l=[];return i&&(l=lC(i)),mn(s,(u,c)=>{l=l.concat(c)}),l}})}function lu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(pI())(t._repo,t._path):t}function TI(t,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=gh(s),u=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(u)}}}function CI(){return mI++}function wI(t,e,i){const s=e._path,l=bu(t,e),u=mC(t,i),c=t.listenProvider_.startListening(lu(e),l,u.hashFn,u.onComplete),d=t.syncPointTree_.subtree(s);if(l)$(!ls(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,y,_)=>{if(!ke(m)&&y&&ls(y))return[mh(y).query];{let b=[];return y&&(b=b.concat(lC(y).map(T=>T.query))),mn(_,(T,O)=>{b=b.concat(O)}),b}});for(let m=0;m<p.length;++m){const y=p[m];t.listenProvider_.stopListening(lu(y),bu(t,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Yg(i)}node(){return this.node_}}class Qg{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Lt(this.path_,e);return new Qg(this.syncTree_,i)}node(){return qg(this.syncTree_,this.path_)}}const RI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},E0=function(t,e,i){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return AI(t[".sv"],e,i);if(typeof t[".sv"]=="object")return OI(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},AI=function(t,e,i){switch(t){case"timestamp":return i.timestamp;default:$(!1,"Unexpected server value: "+t)}},OI=function(t,e,i){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&$(!1,"Unexpected increment value: "+s);const l=e.node();if($(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},DI=function(t,e,i,s){return Kg(e,new Qg(i,t),s)},gC=function(t,e,i){return Kg(t,new Yg(e),i)};function Kg(t,e,i){const s=t.getPriority().val(),l=E0(s,e.getImmediateChild(".priority"),i);let u;if(t.isLeafNode()){const c=t,d=E0(c.getValue(),e,i);return d!==c.getValue()||l!==c.getPriority().val()?new zt(d,Ht(l)):t}else{const c=t;return u=c,l!==c.getPriority().val()&&(u=u.updatePriority(new zt(l))),c.forEachChild(St,(d,p)=>{const m=Kg(p,e.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Xg(t,e){let i=e instanceof lt?e:new lt(e),s=t,l=ze(i);for(;l!==null;){const u=Ol(s.node.children,l)||{children:{},childCount:0};s=new Wg(l,s,u),i=ft(i),l=ze(i)}return s}function ql(t){return t.node.value}function _C(t,e){t.node.value=e,$m(t)}function yC(t){return t.node.childCount>0}function NI(t){return ql(t)===void 0&&!yC(t)}function _h(t,e){mn(t.node.children,(i,s)=>{e(new Wg(i,t,s))})}function vC(t,e,i,s){i&&e(t),_h(t,l=>{vC(l,e,!0)})}function MI(t,e,i){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ju(t){return new lt(t.parent===null?t.name:ju(t.parent)+"/"+t.name)}function $m(t){t.parent!==null&&xI(t.parent,t.name,t)}function xI(t,e,i){const s=NI(i),l=or(t.node.children,e);s&&l?(delete t.node.children[e],t.node.childCount--,$m(t)):!s&&!l&&(t.node.children[e]=i.node,t.node.childCount++,$m(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/[\[\].#$\/\u0000-\u001F\u007F]/,LI=/[\[\].#$\u0000-\u001F\u007F]/,fm=10*1024*1024,bC=function(t){return typeof t=="string"&&t.length!==0&&!II.test(t)},EC=function(t){return typeof t=="string"&&t.length!==0&&!LI.test(t)},UI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EC(t)},SC=function(t,e,i,s){s&&e===void 0||Zg(Cg(t,"value"),e,i)},Zg=function(t,e,i){const s=i instanceof lt?new JM(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+js(s));if(typeof e=="function")throw new Error(t+"contains a function "+js(s)+" with contents = "+e.toString());if(gT(e))throw new Error(t+"contains "+e.toString()+" "+js(s));if(typeof e=="string"&&e.length>fm/3&&fh(e)>fm)throw new Error(t+"contains a string greater than "+fm+" utf8 bytes "+js(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(mn(e,(c,d)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!bC(c)))throw new Error(t+" contains an invalid key ("+c+") "+js(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ex(s,c),Zg(t,d,s),tx(s)}),l&&u)throw new Error(t+' contains ".value" child '+js(s)+" in addition to actual children.")}},TC=function(t,e,i,s){if(!EC(i))throw new Error(Cg(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kI=function(t,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),TC(t,e,i)},$g=function(t,e){if(ze(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PI=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!UI(i))throw new Error(Cg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CC(t,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!HT(u,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&t.eventLists_.push(i)}function Si(t,e,i){CC(t,i),jI(t,s=>Jn(s,e)||Jn(e,s))}function jI(t,e){t.recursionDepth_++;let i=!0;for(let s=0;s<t.eventLists_.length;s++){const l=t.eventLists_[s];if(l){const u=l.path;e(u)?(HI(t.eventLists_[s]),t.eventLists_[s]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function HI(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const s=i.getEventRunner();iu&&Xt("event: "+i.toString()),Bl(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="repo_interrupt",qI=25;class FI{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zf(),this.transactionQueueTree_=new Wg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VI(t,e,i){if(t.stats_=Ng(t.repoInfo_),t.forceRestClient_||CM())t.server_=new Pf(t.repoInfo_,(s,l,u,c)=>{S0(t,s,l,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>T0(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Zi(t.repoInfo_,e,(s,l,u,c)=>{S0(t,s,l,u,c)},s=>{T0(t,s)},s=>{GI(t,s)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=DM(t.repoInfo_,()=>new Ax(t.stats_,t.server_)),t.infoData_=new Sx,t.infoSyncTree_=new b0({startListening:(s,l,u,c)=>{let d=[];const p=t.infoData_.getNode(s._path);return p.isEmpty()||(d=Pu(t.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),e_(t,"connected",!1),t.serverSyncTree_=new b0({startListening:(s,l,u,c)=>(t.server_.listen(s,u,l,(d,p)=>{const m=c(d,p);Si(t.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{t.server_.unlisten(s,l)}})}function wC(t){const i=t.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Jg(t){return RI({timestamp:wC(t)})}function S0(t,e,i,s,l){t.dataUpdateCount++;const u=new lt(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(l)if(s){const p=xf(i,m=>Ht(m));c=vI(t.serverSyncTree_,u,p,l)}else{const p=Ht(i);c=hC(t.serverSyncTree_,u,p,l)}else if(s){const p=xf(i,m=>Ht(m));c=gI(t.serverSyncTree_,u,p)}else{const p=Ht(i);c=Pu(t.serverSyncTree_,u,p)}let d=u;c.length>0&&(d=vh(t,u)),Si(t.eventQueue_,d,c)}function T0(t,e){e_(t,"connected",e),e===!1&&KI(t)}function GI(t,e){mn(e,(i,s)=>{e_(t,i,s)})}function e_(t,e,i){const s=new lt("/.info/"+e),l=Ht(i);t.infoData_.updateSnapshot(s,l);const u=Pu(t.infoSyncTree_,s,l);Si(t.eventQueue_,s,u)}function RC(t){return t.nextWriteId_++}function YI(t,e,i){const s=EI(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(l=>{const u=Ht(l).withIndex(e._queryParams.getIndex());bI(t.serverSyncTree_,e,i,!0);let c;if(e._queryParams.loadsAllData())c=Pu(t.serverSyncTree_,e._path,u);else{const d=bu(t.serverSyncTree_,e);c=hC(t.serverSyncTree_,e._path,u,d)}return Si(t.eventQueue_,e._path,c),fC(t.serverSyncTree_,e,i,null,!0),u},l=>(yh(t,"get for query "+It(e)+" failed: "+l),Promise.reject(new Error(l))))}function QI(t,e,i,s,l){yh(t,"set",{path:e.toString(),value:i,priority:s});const u=Jg(t),c=Ht(i,s),d=qg(t.serverSyncTree_,e),p=gC(c,d,u),m=RC(t),y=cC(t.serverSyncTree_,e,p,m,!0);CC(t.eventQueue_,y),t.server_.put(e.toString(),c.val(!0),(b,T)=>{const O=b==="ok";O||pn("set at "+e+" failed: "+b);const U=Gs(t.serverSyncTree_,m,!O);Si(t.eventQueue_,e,U),XI(t,l,b,T)});const _=MC(t,e);vh(t,_),Si(t.eventQueue_,_,[])}function KI(t){yh(t,"onDisconnectEvents");const e=Jg(t),i=zf();Qm(t.onDisconnect_,Ye(),(l,u)=>{const c=DI(l,u,t.serverSyncTree_,e);KT(i,l,c)});let s=[];Qm(i,Ye(),(l,u)=>{s=s.concat(Pu(t.serverSyncTree_,l,u));const c=MC(t,l);vh(t,c)}),t.onDisconnect_=zf(),Si(t.eventQueue_,Ye(),s)}function WI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(BI)}function yh(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),Xt(i,...e)}function XI(t,e,i,s){e&&Bl(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const c=new Error(u);c.code=l,e(c)}})}function AC(t,e,i){return qg(t.serverSyncTree_,e,i)||Se.EMPTY_NODE}function t_(t,e=t.transactionQueueTree_){if(e||bh(t,e),ql(e)){const i=DC(t,e);$(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&ZI(t,ju(e),i)}else yC(e)&&_h(e,i=>{t_(t,i)})}function ZI(t,e,i){const s=i.map(m=>m.currentWriteId),l=AC(t,e,s);let u=l;const c=l.hash();for(let m=0;m<i.length;m++){const y=i[m];$(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=tn(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;t.server_.put(p.toString(),d,m=>{yh(t,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let b=0;b<i.length;b++)i[b].status=2,y=y.concat(Gs(t.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&_.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();bh(t,Xg(t.transactionQueueTree_,e)),t_(t,t.transactionQueueTree_),Si(t.eventQueue_,e,y);for(let b=0;b<_.length;b++)Bl(_[b])}else{if(m==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{pn("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=m}vh(t,e)}},c)}function vh(t,e){const i=OC(t,e),s=ju(i),l=DC(t,i);return $I(t,l,s),s}function $I(t,e,i){if(e.length===0)return;const s=[];let l=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=tn(i,p.path);let y=!1,_;if($(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat(Gs(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=qI)y=!0,_="maxretry",l=l.concat(Gs(t.serverSyncTree_,p.currentWriteId,!0));else{const b=AC(t,p.path,c);p.currentInputSnapshot=b;const T=e[d].update(b.val());if(T!==void 0){Zg("transaction failed: Data returned ",T,p.path);let O=Ht(T);typeof T=="object"&&T!=null&&or(T,".priority")||(O=O.updatePriority(b.getPriority()));const M=p.currentWriteId,W=Jg(t),F=gC(O,b,W);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=F,p.currentWriteId=RC(t),c.splice(c.indexOf(M),1),l=l.concat(cC(t.serverSyncTree_,p.path,F,p.currentWriteId,p.applyLocally)),l=l.concat(Gs(t.serverSyncTree_,M,!0))}else y=!0,_="nodata",l=l.concat(Gs(t.serverSyncTree_,p.currentWriteId,!0))}Si(t.eventQueue_,i,l),l=[],y&&(e[d].status=2,function(b){setTimeout(b,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(_),!1,null))))}bh(t,t.transactionQueueTree_);for(let d=0;d<s.length;d++)Bl(s[d]);t_(t,t.transactionQueueTree_)}function OC(t,e){let i,s=t.transactionQueueTree_;for(i=ze(e);i!==null&&ql(s)===void 0;)s=Xg(s,i),e=ft(e),i=ze(e);return s}function DC(t,e){const i=[];return NC(t,e,i),i.sort((s,l)=>s.order-l.order),i}function NC(t,e,i){const s=ql(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);_h(e,l=>{NC(t,l,i)})}function bh(t,e){const i=ql(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,_C(e,i.length>0?i:void 0)}_h(e,s=>{bh(t,s)})}function MC(t,e){const i=ju(OC(t,e)),s=Xg(t.transactionQueueTree_,e);return MI(s,l=>{hm(t,l)}),hm(t,s),vC(s,l=>{hm(t,l)}),i}function hm(t,e){const i=ql(e);if(i){const s=[];let l=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?($(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):($(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),l=l.concat(Gs(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&s.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?_C(e,void 0):i.length=u+1,Si(t.eventQueue_,ju(e),l);for(let c=0;c<s.length;c++)Bl(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){let e="";const i=t.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function eL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):pn(`Invalid query segment '${i}' in query '${t}'`)}return e}const C0=function(t,e){const i=tL(t),s=i.namespace;i.domain==="firebase.com"&&ir(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&ir("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||mM();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new OT(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new lt(i.pathString)}},tL=function(t){let e="",i="",s="",l="",u="",c=!0,d="https",p=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(y,_)),y<_&&(l=JI(t.substring(y,_)));const b=eL(t.substring(Math.min(t.length,_)));m=e.indexOf(":"),m>=0?(c=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const O=e.indexOf(".");s=e.substring(0,O).toLowerCase(),i=e.substring(O+1),u=s}"ns"in b&&(u=b.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:c,scheme:d,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nL=function(){let t=0;const e=[];return function(i){const s=i===t;t=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=w0.charAt(i%64),i=Math.floor(i/64);$(i===0,"Cannot push at time == 0");let c=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=w0.charAt(e[l]);return $(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())}}class rL{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return ke(this._path)?null:PT(this._path)}get ref(){return new ur(this._repo,this._path)}get _queryIdentifier(){const e=u0(this._queryParams),i=Og(e);return i==="{}"?"default":i}get _queryObject(){return u0(this._queryParams)}isEqual(e){if(e=rn(e),!(e instanceof n_))return!1;const i=this._repo===e._repo,s=HT(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+$M(this._path)}}class ur extends n_{constructor(e,i){super(e,i,new Ug,!1)}get parent(){const e=jT(this._path);return e===null?null:new ur(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Eu{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new lt(e),s=Su(this.ref,e);return new Eu(this._node.getChild(i),s,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Eu(l,Su(this.ref,s),St)))}hasChild(e){const i=new lt(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cs(t,e){return t=rn(t),t._checkNotDeleted("ref"),e!==void 0?Su(t._root,e):t._root}function Su(t,e){return t=rn(t),ze(t._path)===null?kI("child","path",e):TC("child","path",e),new ur(t._repo,Lt(t._path,e))}function xC(t,e){t=rn(t),$g("push",t._path),SC("push",e,t._path,!0);const i=wC(t._repo),s=nL(i),l=Su(t,s),u=Su(t,s);let c;return c=Promise.resolve(u),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function aL(t){return $g("remove",t._path),Eh(t,null)}function Eh(t,e){t=rn(t),$g("set",t._path),SC("set",e,t._path,!1);const i=new ch;return QI(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}function Sh(t){t=rn(t);const e=new sL(()=>{}),i=new i_(e);return YI(t._repo,t,i).then(s=>new Eu(s,new ur(t._repo,t._path),t._queryParams.getIndex()))}class i_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new iL("value",this,new Eu(e.snapshotNode,new ur(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new rL(this,e,i):null}matches(e){return e instanceof i_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}oI(ur);dI(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="FIREBASE_DATABASE_EMULATOR_HOST",Jm={};let oL=!1;function uL(t,e,i,s){t.repoInfo_=new OT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(t.authTokenProvider_=s)}function cL(t,e,i,s,l){let u=s||t.options.databaseURL;u===void 0&&(t.options.projectId||ir("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=C0(u,l),d=c.repoInfo,p;typeof process<"u"&&GE&&(p=GE[lL]),p?(u=`http://${p}?ns=${d.namespace}`,c=C0(u,l),d=c.repoInfo):c.repoInfo.secure;const m=new RM(t.name,t.options,e);PI("Invalid Firebase Database URL",c),ke(c.path)||ir("Database URL must point to the root of a Firebase Database (not including a child path).");const y=hL(d,t,m,new wM(t,i));return new dL(y,t)}function fL(t,e){const i=Jm[e];(!i||i[t.key]!==t)&&ir(`Database ${e}(${t.repoInfo_}) has already been deleted.`),WI(t),delete i[t.key]}function hL(t,e,i,s){let l=Jm[e.name];l||(l={},Jm[e.name]=l);let u=l[t.toURLString()];return u&&ir("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new FI(t,oL,i,s),l[t.toURLString()]=u,u}class dL{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ur(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ir("Cannot call "+e+" on a deleted database.")}}function fs(t=cT(),e){const i=Ag(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=PD("database");s&&pL(i,...s)}return i}function pL(t,e,i,s={}){t=rn(t),t._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=t._repoInternal;if(t._instanceStarted){if(l===t._repoInternal.repoInfo_.host&&sa(s,u.repoInfo_.emulatorOptions))return;ir("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&ir('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new _f(_f.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:zD(s.mockUserToken,t.app.options.projectId);c=new _f(d)}uL(u,l,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){uM(jl),Dl(new aa("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return cL(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),ts(YE,QE,t),ts(YE,QE,"esm2017")}Zi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mL();const Yf=new fD;async function gL(){const t=fs(),e=cs(t,"posts/"),i=await Sh(e);if(i.exists()){const s=i.val();return Object.entries(s).flatMap(([u,c])=>Object.entries(c).map(([d,p])=>({groupKey:`${u}-${d}`,id:d,...p})))}}async function _L({userId:t}){const e=fs(),i=cs(e,"posts/"+t),s=await Sh(i);if(s.exists()){const l=s.val();return Object.entries(l).map(([c,d])=>({groupKey:c,...d}))}return[]}async function yL({userId:t,postId:e}){const i=fs(),s=cs(i,"posts/"+t+"/"+e),l=await Sh(s);return l.exists()?l.val():null}async function vL({userId:t}){const e=fs(),i=cs(e,"users/"+t),s=await Sh(i);if(s.exists()){const l=s.val();return Object.values(l)[0]}}async function bL({userId:t,filteredData:e}){const i=fs(),s=cs(i,"users/"+t),l=xC(s);Eh(l,e)}async function EL({userId:t,data:e}){const i=fs(),s=cs(i,"posts/"+t),l=xC(s);Eh(l,e)}async function SL({userId:t,postId:e,data:i}){const s=fs(),l=cs(s,"posts/"+t+"/"+e);Eh(l,i)}async function TL({userId:t,postId:e}){const i=fs(),s=cs(i,"posts/"+t+"/"+e);await aL(s)}function Yt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CL=typeof Symbol=="function"&&Symbol.observable||"@@observable",R0=CL,dm=()=>Math.random().toString(36).substring(7).split("").join("."),wL={INIT:`@@redux/INIT${dm()}`,REPLACE:`@@redux/REPLACE${dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dm()}`},Qf=wL;function r_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IC(t,e,i){if(typeof t!="function")throw new Error(Yt(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Yt(1));return i(IC)(t,e)}let s=t,l=e,u=new Map,c=u,d=0,p=!1;function m(){c===u&&(c=new Map,u.forEach((M,W)=>{c.set(W,M)}))}function y(){if(p)throw new Error(Yt(3));return l}function _(M){if(typeof M!="function")throw new Error(Yt(4));if(p)throw new Error(Yt(5));let W=!0;m();const F=d++;return c.set(F,M),function(){if(W){if(p)throw new Error(Yt(6));W=!1,m(),c.delete(F),u=null}}}function b(M){if(!r_(M))throw new Error(Yt(7));if(typeof M.type>"u")throw new Error(Yt(8));if(typeof M.type!="string")throw new Error(Yt(17));if(p)throw new Error(Yt(9));try{p=!0,l=s(l,M)}finally{p=!1}return(u=c).forEach(F=>{F()}),M}function T(M){if(typeof M!="function")throw new Error(Yt(10));s=M,b({type:Qf.REPLACE})}function O(){const M=_;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(Yt(11));function F(){const Q=W;Q.next&&Q.next(y())}return F(),{unsubscribe:M(F)}},[R0](){return this}}}return b({type:Qf.INIT}),{dispatch:b,subscribe:_,getState:y,replaceReducer:T,[R0]:O}}function RL(t){Object.keys(t).forEach(e=>{const i=t[e];if(typeof i(void 0,{type:Qf.INIT})>"u")throw new Error(Yt(12));if(typeof i(void 0,{type:Qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function AL(t){const e=Object.keys(t),i={};for(let u=0;u<e.length;u++){const c=e[u];typeof t[c]=="function"&&(i[c]=t[c])}const s=Object.keys(i);let l;try{RL(i)}catch(u){l=u}return function(c={},d){if(l)throw l;let p=!1;const m={};for(let y=0;y<s.length;y++){const _=s[y],b=i[_],T=c[_],O=b(T,d);if(typeof O>"u")throw d&&d.type,new Error(Yt(14));m[_]=O,p=p||O!==T}return p=p||s.length!==Object.keys(c).length,p?m:c}}function Kf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,i)=>(...s)=>e(i(...s)))}function OL(...t){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(Yt(15))};const c={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},d=t.map(p=>p(c));return u=Kf(...d)(l.dispatch),{...l,dispatch:u}}}function DL(t){return r_(t)&&"type"in t&&typeof t.type=="string"}var LC=Symbol.for("immer-nothing"),A0=Symbol.for("immer-draftable"),An=Symbol.for("immer-state");function $n(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Il=Object.getPrototypeOf;function ca(t){return!!t&&!!t[An]}function rr(t){var e;return t?UC(t)||Array.isArray(t)||!!t[A0]||!!((e=t.constructor)!=null&&e[A0])||Ch(t)||wh(t):!1}var NL=Object.prototype.constructor.toString();function UC(t){if(!t||typeof t!="object")return!1;const e=Il(t);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===NL}function Wf(t,e){Th(t)===0?Reflect.ownKeys(t).forEach(i=>{e(i,t[i],t)}):t.forEach((i,s)=>e(s,i,t))}function Th(t){const e=t[An];return e?e.type_:Array.isArray(t)?1:Ch(t)?2:wh(t)?3:0}function eg(t,e){return Th(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kC(t,e,i){const s=Th(t);s===2?t.set(e,i):s===3?t.add(i):t[e]=i}function ML(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ch(t){return t instanceof Map}function wh(t){return t instanceof Set}function Hs(t){return t.copy_||t.base_}function tg(t,e){if(Ch(t))return new Map(t);if(wh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const i=UC(t);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(t);delete s[An];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const c=l[u],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Il(t),s)}else{const s=Il(t);if(s!==null&&i)return{...t};const l=Object.create(s);return Object.assign(l,t)}}function s_(t,e=!1){return Rh(t)||ca(t)||!rr(t)||(Th(t)>1&&(t.set=t.add=t.clear=t.delete=xL),Object.freeze(t),e&&Object.entries(t).forEach(([i,s])=>s_(s,!0))),t}function xL(){$n(2)}function Rh(t){return Object.isFrozen(t)}var IL={};function fa(t){const e=IL[t];return e||$n(0,t),e}var Tu;function PC(){return Tu}function LL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O0(t,e){e&&(fa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ng(t){ig(t),t.drafts_.forEach(UL),t.drafts_=null}function ig(t){t===Tu&&(Tu=t.parent_)}function D0(t){return Tu=LL(Tu,t)}function UL(t){const e=t[An];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function N0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return t!==void 0&&t!==i?(i[An].modified_&&(ng(e),$n(4)),rr(t)&&(t=Xf(e,t),e.parent_||Zf(e,t)),e.patches_&&fa("Patches").generateReplacementPatches_(i[An].base_,t,e.patches_,e.inversePatches_)):t=Xf(e,i,[]),ng(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LC?t:void 0}function Xf(t,e,i){if(Rh(e))return e;const s=e[An];if(!s)return Wf(e,(l,u)=>M0(t,s,e,l,u,i)),e;if(s.scope_!==t)return e;if(!s.modified_)return Zf(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,c=!1;s.type_===3&&(u=new Set(l),l.clear(),c=!0),Wf(u,(d,p)=>M0(t,s,l,d,p,i,c)),Zf(t,l,!1),i&&t.patches_&&fa("Patches").generatePatches_(s,i,t.patches_,t.inversePatches_)}return s.copy_}function M0(t,e,i,s,l,u,c){if(ca(l)){const d=u&&e&&e.type_!==3&&!eg(e.assigned_,s)?u.concat(s):void 0,p=Xf(t,l,d);if(kC(i,s,p),ca(p))t.canAutoFreeze_=!1;else return}else c&&i.add(l);if(rr(l)&&!Rh(l)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Xf(t,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&Zf(t,l)}}function Zf(t,e,i=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&s_(e,i)}function kL(t,e){const i=Array.isArray(t),s={type_:i?1:0,scope_:e?e.scope_:PC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=a_;i&&(l=[s],u=Cu);const{revoke:c,proxy:d}=Proxy.revocable(l,u);return s.draft_=d,s.revoke_=c,d}var a_={get(t,e){if(e===An)return t;const i=Hs(t);if(!eg(i,e))return PL(t,i,e);const s=i[e];return t.finalized_||!rr(s)?s:s===pm(t.base_,e)?(mm(t),t.copy_[e]=sg(s,t)):s},has(t,e){return e in Hs(t)},ownKeys(t){return Reflect.ownKeys(Hs(t))},set(t,e,i){const s=zC(Hs(t),e);if(s!=null&&s.set)return s.set.call(t.draft_,i),!0;if(!t.modified_){const l=pm(Hs(t),e),u=l==null?void 0:l[An];if(u&&u.base_===i)return t.copy_[e]=i,t.assigned_[e]=!1,!0;if(ML(i,l)&&(i!==void 0||eg(t.base_,e)))return!0;mm(t),rg(t)}return t.copy_[e]===i&&(i!==void 0||e in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=i,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mm(t),rg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const i=Hs(t),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){$n(11)},getPrototypeOf(t){return Il(t.base_)},setPrototypeOf(){$n(12)}},Cu={};Wf(a_,(t,e)=>{Cu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cu.deleteProperty=function(t,e){return Cu.set.call(this,t,e,void 0)};Cu.set=function(t,e,i){return a_.set.call(this,t[0],e,i,t[0])};function pm(t,e){const i=t[An];return(i?Hs(i):t)[e]}function PL(t,e,i){var l;const s=zC(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(t.draft_):void 0}function zC(t,e){if(!(e in t))return;let i=Il(t);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Il(i)}}function rg(t){t.modified_||(t.modified_=!0,t.parent_&&rg(t.parent_))}function mm(t){t.copy_||(t.copy_=tg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const c=this;return function(p=u,...m){return c.produce(p,y=>i.call(this,y,...m))}}typeof i!="function"&&$n(6),s!==void 0&&typeof s!="function"&&$n(7);let l;if(rr(e)){const u=D0(this),c=sg(e,void 0);let d=!0;try{l=i(c),d=!1}finally{d?ng(u):ig(u)}return O0(u,s),N0(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===LC&&(l=void 0),this.autoFreeze_&&s_(l,!0),s){const u=[],c=[];fa("Patches").generateReplacementPatches_(e,l,u,c),s(u,c)}return l}else $n(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let s,l;return[this.produce(e,i,(c,d)=>{s=c,l=d}),s,l]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){rr(t)||$n(8),ca(t)&&(t=jL(t));const e=D0(this),i=sg(t,void 0);return i[An].isManual_=!0,ig(e),i}finishDraft(t,e){const i=t&&t[An];(!i||!i.isManual_)&&$n(9);const{scope_:s}=i;return O0(s,e),N0(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}i>-1&&(e=e.slice(i+1));const s=fa("Patches").applyPatches_;return ca(t)?s(t,e):this.produce(t,l=>s(l,e))}};function sg(t,e){const i=Ch(t)?fa("MapSet").proxyMap_(t,e):wh(t)?fa("MapSet").proxySet_(t,e):kL(t,e);return(e?e.scope_:PC()).drafts_.push(i),i}function jL(t){return ca(t)||$n(10,t),jC(t)}function jC(t){if(!rr(t)||Rh(t))return t;const e=t[An];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=tg(t,e.scope_.immer_.useStrictShallowCopy_)}else i=tg(t,!0);return Wf(i,(s,l)=>{kC(i,s,jC(l))}),e&&(e.finalized_=!1),i}var On=new zL,HC=On.produce;On.produceWithPatches.bind(On);On.setAutoFreeze.bind(On);On.setUseStrictShallowCopy.bind(On);On.applyPatches.bind(On);On.createDraft.bind(On);On.finishDraft.bind(On);function BC(t){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,t):l(u)}var HL=BC(),BL=BC,qL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kf:Kf.apply(null,arguments)};function x0(t,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error($i(0));return{type:t,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:t,payload:s[0]}}return i.toString=()=>`${t}`,i.type=t,i.match=s=>DL(s)&&s.type===t,i}var qC=class nu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nu.prototype)}static get[Symbol.species](){return nu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nu(...e[0].concat(this)):new nu(...e.concat(this))}};function I0(t){return rr(t)?HC(t,()=>{}):t}function cf(t,e,i){return t.has(e)?t.get(e):t.set(e,i(e)).get(e)}function FL(t){return typeof t=="boolean"}var VL=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let c=new qC;return i&&(FL(i)?c.push(HL):c.push(BL(i.extraArgument))),c},GL="RTK_autoBatch",L0=t=>e=>{setTimeout(e,t)},YL=(t={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,c=!1;const d=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:L0(10):t.type==="callback"?t.queueNotification:L0(t.timeout),m=()=>{c=!1,u&&(u=!1,d.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const _=()=>l&&y(),b=s.subscribe(_);return d.add(y),()=>{b(),d.delete(y)}},dispatch(y){var _;try{return l=!((_=y==null?void 0:y.meta)!=null&&_[GL]),u=!l,u&&(c||(c=!0,p(m))),s.dispatch(y)}finally{l=!0}}})},QL=t=>function(i){const{autoBatch:s=!0}=i??{};let l=new qC(t);return s&&l.push(YL(typeof s=="object"?s:void 0)),l};function KL(t){const e=VL(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:c=void 0}=t||{};let d;if(typeof i=="function")d=i;else if(r_(i))d=AL(i);else throw new Error($i(1));let p;typeof s=="function"?p=s(e):p=e();let m=Kf;l&&(m=qL({trace:!1,...typeof l=="object"&&l}));const y=OL(...p),_=QL(y);let b=typeof c=="function"?c(_):_();const T=m(...b);return IC(d,u,T)}function FC(t){const e={},i=[];let s;const l={addCase(u,c){const d=typeof u=="string"?u:u.type;if(!d)throw new Error($i(28));if(d in e)throw new Error($i(29));return e[d]=c,l},addMatcher(u,c){return i.push({matcher:u,reducer:c}),l},addDefaultCase(u){return s=u,l}};return t(l),[e,i,s]}function WL(t){return typeof t=="function"}function XL(t,e){let[i,s,l]=FC(e),u;if(WL(t))u=()=>I0(t());else{const d=I0(t);u=()=>d}function c(d=u(),p){let m=[i[p.type],...s.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[l]),m.reduce((y,_)=>{if(_)if(ca(y)){const T=_(y,p);return T===void 0?y:T}else{if(rr(y))return HC(y,b=>_(b,p));{const b=_(y,p);if(b===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return y},d)}return c.getInitialState=u,c}var ZL=Symbol.for("rtk-slice-createasyncthunk");function $L(t,e){return`${t}/${e}`}function JL({creators:t}={}){var i;const e=(i=t==null?void 0:t.asyncThunk)==null?void 0:i[ZL];return function(l){const{name:u,reducerPath:c=u}=l;if(!u)throw new Error($i(11));const d=(typeof l.reducers=="function"?l.reducers(nU()):l.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(Q,Y){const ue=typeof Q=="string"?Q:Q.type;if(!ue)throw new Error($i(12));if(ue in m.sliceCaseReducersByType)throw new Error($i(13));return m.sliceCaseReducersByType[ue]=Y,y},addMatcher(Q,Y){return m.sliceMatchers.push({matcher:Q,reducer:Y}),y},exposeAction(Q,Y){return m.actionCreators[Q]=Y,y},exposeCaseReducer(Q,Y){return m.sliceCaseReducersByName[Q]=Y,y}};p.forEach(Q=>{const Y=d[Q],ue={reducerName:Q,type:$L(u,Q),createNotation:typeof l.reducers=="function"};rU(Y)?aU(ue,Y,y,e):iU(ue,Y,y)});function _(){const[Q={},Y=[],ue=void 0]=typeof l.extraReducers=="function"?FC(l.extraReducers):[l.extraReducers],L={...Q,...m.sliceCaseReducersByType};return XL(l.initialState,Z=>{for(let ee in L)Z.addCase(ee,L[ee]);for(let ee of m.sliceMatchers)Z.addMatcher(ee.matcher,ee.reducer);for(let ee of Y)Z.addMatcher(ee.matcher,ee.reducer);ue&&Z.addDefaultCase(ue)})}const b=Q=>Q,T=new Map,O=new WeakMap;let U;function M(Q,Y){return U||(U=_()),U(Q,Y)}function W(){return U||(U=_()),U.getInitialState()}function F(Q,Y=!1){function ue(Z){let ee=Z[Q];return typeof ee>"u"&&Y&&(ee=cf(O,ue,W)),ee}function L(Z=b){const ee=cf(T,Y,()=>new WeakMap);return cf(ee,Z,()=>{const se={};for(const[je,we]of Object.entries(l.selectors??{}))se[je]=eU(we,Z,()=>cf(O,Z,W),Y);return se})}return{reducerPath:Q,getSelectors:L,get selectors(){return L(ue)},selectSlice:ue}}const X={name:u,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:W,...F(c),injectInto(Q,{reducerPath:Y,...ue}={}){const L=Y??c;return Q.inject({reducerPath:L,reducer:M},ue),{...X,...F(L,!0)}}};return X}}function eU(t,e,i,s){function l(u,...c){let d=e(u);return typeof d>"u"&&s&&(d=i()),t(d,...c)}return l.unwrapped=t,l}var tU=JL();function nU(){function t(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:t}}function iU({type:t,reducerName:e,createNotation:i},s,l){let u,c;if("reducer"in s){if(i&&!sU(s))throw new Error($i(17));u=s.reducer,c=s.prepare}else u=s;l.addCase(t,u).exposeCaseReducer(e,u).exposeAction(e,c?x0(t,c):x0(t))}function rU(t){return t._reducerDefinitionType==="asyncThunk"}function sU(t){return t._reducerDefinitionType==="reducerWithPrepare"}function aU({type:t,reducerName:e},i,s,l){if(!l)throw new Error($i(18));const{payloadCreator:u,fulfilled:c,pending:d,rejected:p,settled:m,options:y}=i,_=l(t,u,y);s.exposeAction(e,_),c&&s.addCase(_.fulfilled,c),d&&s.addCase(_.pending,d),p&&s.addCase(_.rejected,p),m&&s.addMatcher(_.settled,m),s.exposeCaseReducer(e,{fulfilled:c||ff,pending:d||ff,rejected:p||ff,settled:m||ff})}function ff(){}function $i(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lU="firebase",oU="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(lU,oU,"app");function l_(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i}function VC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uU=VC,GC=new Iu("auth","Firebase",VC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new wg("@firebase/auth");function cU(t,...e){$f.logLevel<=st.WARN&&$f.warn(`Auth (${jl}): ${t}`,...e)}function yf(t,...e){$f.logLevel<=st.ERROR&&$f.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw o_(t,...e)}function bi(t,...e){return o_(t,...e)}function YC(t,e,i){const s=Object.assign(Object.assign({},uU()),{[e]:i});return new Iu("auth","Firebase",s).create(e,{appName:t.name})}function Ji(t){return YC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o_(t,...e){if(typeof t!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(i,...s)}return GC.create(t,...e)}function Ee(t,e,...i){if(!t)throw o_(e,...i)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function sr(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fU(){return U0()==="http:"||U0()==="https:"}function U0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fU()||HD()||"connection"in navigator)?navigator.onLine:!0}function dU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,i){this.shortDelay=e,this.longDelay=i,sr(i>e,"Short delay should be less than long delay!"),this.isMobile=Tg()||sT()}get(){return hU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){sr(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gU=new Hu(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,i,s,l={}){return KC(t,l,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=zl(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},u);return jD()||(m.referrerPolicy="no-referrer"),QC.fetch()(await WC(t,t.config.apiHost,i,d),m)})}async function KC(t,e,i){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},pU),e);try{const l=new yU(t),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw hf(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw hf(t,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw YC(t,y,m);ri(t,y)}}catch(l){if(l instanceof us)throw l;ri(t,"network-request-failed",{message:String(l)})}}async function Bu(t,e,i,s,l={}){const u=await ds(t,e,i,s,l);return"mfaPendingCredential"in u&&ri(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function WC(t,e,i,s){const l=`${e}${i}?${s}`,u=t,c=u.config.emulator?u_(t.config,l):`${t.config.apiScheme}://${l}`;return mU.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function _U(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),gU.get())})}}function hf(t,e,i){const s={appName:t.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=bi(t,e,s);return l.customData._tokenResponse=i,l}function k0(t){return t!==void 0&&t.enterprise!==void 0}class vU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return _U(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bU(t,e){return ds(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Jf(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SU(t,e=!1){const i=rn(t),s=await i.getIdToken(e),l=c_(s);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:ou(gm(l.auth_time)),issuedAtTime:ou(gm(l.iat)),expirationTime:ou(gm(l.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(t){return Number(t)*1e3}function c_(t){const[e,i,s]=t.split(".");if(e===void 0||i===void 0||s===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mf(i);return l?JSON.parse(l):(yf("Failed to decode base64 JWT payload"),null)}catch(l){return yf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function P0(t){const e=c_(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof us&&TU(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function TU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const i=t.auth,s=await t.getIdToken(),l=await wu(t,Jf(i,{idToken:s}));Ee(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?XC(u.providerUserInfo):[],d=RU(t.providerData,c),p=t.isAnonymous,m=!(t.email&&u.passwordHash)&&!(d!=null&&d.length),y=p?m:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new lg(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function wU(t){const e=rn(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RU(t,e){return[...t.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function XC(t){return t.map(e=>{var{providerId:i}=e,s=l_(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){const i=await KC(t,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=t.config,c=await WC(t,l,"/v1/token",`key=${u}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",QC.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function OU(t,e){return ds(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=P0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await AU(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,c=new fl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),c.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=l_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return SU(this,e)}reload(){return wU(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await wu(this,EU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,c,d,p,m,y;const _=(s=i.displayName)!==null&&s!==void 0?s:void 0,b=(l=i.email)!==null&&l!==void 0?l:void 0,T=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,O=(c=i.photoURL)!==null&&c!==void 0?c:void 0,U=(d=i.tenantId)!==null&&d!==void 0?d:void 0,M=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,W=(m=i.createdAt)!==null&&m!==void 0?m:void 0,F=(y=i.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:Q,isAnonymous:Y,providerData:ue,stsTokenManager:L}=i;Ee(X&&L,e,"internal-error");const Z=fl.fromJSON(this.name,L);Ee(typeof X=="string",e,"internal-error"),Ur(_,e.name),Ur(b,e.name),Ee(typeof Q=="boolean",e,"internal-error"),Ee(typeof Y=="boolean",e,"internal-error"),Ur(T,e.name),Ur(O,e.name),Ur(U,e.name),Ur(M,e.name),Ur(W,e.name),Ur(F,e.name);const ee=new ti({uid:X,auth:e,email:b,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:O,phoneNumber:T,tenantId:U,stsTokenManager:Z,createdAt:W,lastLoginAt:F});return ue&&Array.isArray(ue)&&(ee.providerData=ue.map(se=>Object.assign({},se))),M&&(ee._redirectEventId=M),ee}static async _fromIdTokenResponse(e,i,s=!1){const l=new fl;l.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await eh(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?XC(l.providerUserInfo):[],c=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),d=new fl;d.updateFromIdToken(s);const p=new ti({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new lg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function Wi(t){sr(t instanceof Function,"Expected a class definition");let e=z0.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ZC.type="NONE";const j0=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,i){return`firebase:${t}:${e}:${i}`}class hl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=vf(this.userKey,l.apiKey,u),this.fullPersistenceKey=vf("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jf(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new hl(Wi(j0),e,s);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Wi(j0);const c=vf(s,e.config.apiKey,e.name);let d=null;for(const m of i)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const b=await Jf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await ti._fromGetAccountInfoResponse(e,b,y)}else _=ti._fromJSON(e,y);m!==u&&(d=_),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new hl(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new hl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iw(e))return"Blackberry";if(rw(e))return"Webos";if(JC(e))return"Safari";if((e.includes("chrome/")||ew(e))&&!e.includes("edge/"))return"Chrome";if(nw(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $C(t=nn()){return/firefox\//i.test(t)}function JC(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ew(t=nn()){return/crios\//i.test(t)}function tw(t=nn()){return/iemobile/i.test(t)}function nw(t=nn()){return/android/i.test(t)}function iw(t=nn()){return/blackberry/i.test(t)}function rw(t=nn()){return/webos/i.test(t)}function f_(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DU(t=nn()){var e;return f_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NU(){return BD()&&document.documentMode===10}function sw(t=nn()){return f_(t)||nw(t)||rw(t)||iw(t)||/windows phone/i.test(t)||tw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e=[]){let i;switch(t){case"Browser":i=H0(nn());break;case"Worker":i=`${H0(nn())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${jl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e={}){return ds(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=6;class LU{constructor(e){var i,s,l,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=c.minPasswordLength)!==null&&i!==void 0?i:IU,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B0(this),this.idTokenSubscription=new B0(this),this.beforeStateQueue=new MU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jf(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(c){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ji(this));const i=e?rn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xU(this),i=new LU(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await OU(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wi(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{c=!0,p()}}else{const p=e.addObserver(i);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&cU(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ga(t){return rn(t)}class B0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kU(t){Ah=t}function lw(t){return Ah.loadJS(t)}function PU(){return Ah.recaptchaEnterpriseScript}function zU(){return Ah.gapiScript}function jU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HU{constructor(){this.enterprise=new BU}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class BU{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const qU="recaptcha-enterprise",ow="NO_RECAPTCHA";class FU{constructor(e){this.type=qU,this.auth=ga(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{bU(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new vU(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function l(u,c,d){const p=window.grecaptcha;k0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(ow)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HU().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!i&&k0(window.grecaptcha))l(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=PU();p.length!==0&&(p+=d),lw(p).then(()=>{l(d,u,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function q0(t,e,i,s=!1,l=!1){const u=new FU(t);let c;if(l)c=ow;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function og(t,e,i,s,l){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await q0(t,e,i,i==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q0(t,e,i,i==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e){const i=Ag(t,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(sa(u,e??{}))return l;ri(l,"already-initialized")}return i.initialize({options:e})}function GU(t,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function YU(t,e,i){const s=ga(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=uw(e),{host:c,port:d}=QU(e),p=d===null?"":`:${d}`,m={url:`${u}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(sa(m,s.config.emulator)&&sa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,KU()}function uw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QU(t){const e=uw(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:F0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:F0(c)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KU(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,i){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function WU(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function $U(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends h_{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ru(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Ru(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,i,"signInWithPassword",XU);case"emailLink":return ZU(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,s,"signUpPassword",WU);case"emailLink":return $U(e,{idToken:i,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="http://localhost";class ha extends h_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=l_(i,["providerId","signInMethod"]);if(!s||!l)return null;const c=new ha(s,l);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,dl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:JU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tk(t){const e=eu(tu(t)).link,i=e?eu(tu(e)).deep_link_id:null,s=eu(tu(t)).deep_link_id;return(s?eu(tu(s)).link:null)||s||i||e||t}class d_{constructor(e){var i,s,l,u,c,d;const p=eu(tu(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,y=(s=p.oobCode)!==null&&s!==void 0?s:null,_=ek((l=p.mode)!==null&&l!==void 0?l:null);Ee(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=tk(e);try{return new d_(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,i){return Ru._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=d_.parseLink(i);return Ee(s,"argument-error"),Ru._fromEmailAndCode(e,s.code,s.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends qu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return jr.credential(i,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends qu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends qu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return Bu(t,"POST","/v1/accounts:signUp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await ti._fromIdTokenResponse(e,s,l),c=V0(s);return new da({user:u,providerId:c,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=V0(s);return new da({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function V0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends us{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new th(e,i,s,l)}}function fw(t,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,u,e,s):u})}async function ik(t,e,i=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return da._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e,i=!1){const{auth:s}=t;if(Fn(s.app))return Promise.reject(Ji(s));const l="reauthenticate";try{const u=await wu(t,fw(s,l,e,t),i);Ee(u.idToken,s,"internal-error");const c=c_(u.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(t.uid===d,s,"user-mismatch"),da._forOperation(t,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e,i=!1){if(Fn(t.app))return Promise.reject(Ji(t));const s="signIn",l=await fw(t,s,e),u=await da._fromIdTokenResponse(t,s,l);return i||await t._updateCurrentUser(u.user),u}async function sk(t,e){return hw(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ak(t,e,i){if(Fn(t.app))return Promise.reject(Ji(t));const s=ga(t),c=await og(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&dw(t),p}),d=await da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function lk(t,e,i){return Fn(t.app)?Promise.reject(Ji(t)):sk(rn(t),Fl.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&dw(t),s})}function ok(t,e,i,s){return rn(t).onIdTokenChanged(e,i,s)}function uk(t,e,i){return rn(t).beforeAuthStateChanged(e,i)}function ck(t,e,i,s){return rn(t).onAuthStateChanged(e,i,s)}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,hk=10;class mw extends pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const c=this.storage.getItem(s);!i&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);NU()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hk):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mw.type="LOCAL";const dk=mw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}gw.type="SESSION";const _w=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,c=this.handlersMap[l];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const d=Array.from(c).map(async m=>m(i.origin,u)),p=await pk(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const m=p_("",20);l.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:l,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),l.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function gk(t){Ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function _k(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vk(){return yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebaseLocalStorageDb",bk=1,ih="firebaseLocalStorage",bw="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function Ek(){const t=indexedDB.deleteDatabase(vw);return new Fu(t).toPromise()}function ug(){const t=indexedDB.open(vw,bk);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ih,{keyPath:bw})}catch(l){i(l)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ih)?e(s):(s.close(),await Ek(),e(await ug()))})})}async function G0(t,e,i){const s=Dh(t,!0).put({[bw]:e,value:i});return new Fu(s).toPromise()}async function Sk(t,e){const i=Dh(t,!1).get(e),s=await new Fu(i).toPromise();return s===void 0?null:s.value}function Y0(t,e){const i=Dh(t,!0).delete(e);return new Fu(i).toPromise()}const Tk=800,Ck=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>Ck)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(vk()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await _k(),!this.activeServiceWorker)return;this.sender=new mk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await G0(e,nh,"1"),await Y0(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>G0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>Sk(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Dh(l,!1).getAll();return new Fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const wk=Ew;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){return e?Wi(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends h_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ak(t){return hw(t.auth,new m_(t),t.bypassAuthState)}function Ok(t){const{auth:e,user:i}=t;return Ee(i,e,"internal-error"),rk(i,new m_(t),t.bypassAuthState)}async function Dk(t){const{auth:e,user:i}=t;return Ee(i,e,"internal-error"),ik(i,new m_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ak;case"linkViaPopup":case"linkViaRedirect":return Dk;case"reauthViaPopup":case"reauthViaRedirect":return Ok;default:ri(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Hu(2e3,1e4);class ll extends Sw{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nk.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="pendingRedirect",bf=new Map;class xk extends Sw{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const s=await Ik(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ik(t,e){const i=kk(e),s=Uk(t);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Lk(t,e){bf.set(t._key(),e)}function Uk(t){return Wi(t._redirectPersistence)}function kk(t){return vf(Mk,t.config.apiKey,t.name)}async function Pk(t,e,i=!1){if(Fn(t.app))return Promise.reject(Ji(t));const s=ga(t),l=Rk(s,e),c=await new xk(s,l,i).execute();return c&&!i&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=10*60*1e3;class jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hk(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!Tw(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(bi(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fk=/^https?/;async function Vk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Bk(t);for(const i of e)try{if(Gk(i))return}catch{}ri(t,"unauthorized-domain")}function Gk(t){const e=ag(),{protocol:i,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===s}if(!Fk.test(i))return!1;if(qk.test(t))return s===t;const l=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Hu(3e4,6e4);function K0(){const t=Ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function Qk(t){return new Promise((e,i)=>{var s,l,u;function c(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),i(bi(t,"network-request-failed"))},timeout:Yk.get()})}if(!((l=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)c();else{const d=jU("iframefcb");return Ei()[d]=()=>{gapi.load?c():i(bi(t,"network-request-failed"))},lw(`${zU()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function Kk(t){return Ef=Ef||Qk(t),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Hu(5e3,15e3),Xk="__/auth/iframe",Zk="emulator/auth/iframe",$k={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eP(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?u_(e,Zk):`https://${t.config.authDomain}/${Xk}`,s={apiKey:e.apiKey,appName:t.name,v:jl},l=Jk.get(t.config.apiHost);l&&(s.eid=l);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${zl(s).slice(1)}`}async function tP(t){const e=await Kk(t),i=Ei().gapi;return Ee(i,t,"internal-error"),e.open({where:document.body,url:eP(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$k,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const c=bi(t,"network-request-failed"),d=Ei().setTimeout(()=>{u(c)},Wk.get());function p(){Ei().clearTimeout(d),l(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iP=500,rP=600,sP="_blank",aP="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(t,e,i,s=iP,l=rP){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},nP),{width:s.toString(),height:l.toString(),top:u,left:c}),m=nn().toLowerCase();i&&(d=ew(m)?sP:i),$C(m)&&(e=e||aP,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[T,O])=>`${b}${T}=${O},`,"");if(DU(m)&&d!=="_self")return oP(e||"",d),new W0(null);const _=window.open(e||"",d,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new W0(_)}function oP(t,e){const i=document.createElement("a");i.href=t,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__/auth/handler",cP="emulator/auth/handler",fP=encodeURIComponent("fac");async function X0(t,e,i,s,l,u){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:jl,eventId:l};if(e instanceof cw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",zm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof qu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),m=p?`#${fP}=${encodeURIComponent(p)}`:"";return`${hP(t)}?${zl(d).slice(1)}${m}`}function hP({config:t}){return t.emulator?u_(t,cP):`https://${t.authDomain}/${uP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class dP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_w,this._completeRedirectFn=Pk,this._overrideRedirectResult=Lk}async _openPopup(e,i,s,l){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await X0(e,i,s,ag(),l);return lP(e,c,p_())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await X0(e,i,s,ag(),l);return gk(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await tP(e),s=new jk(e);return i.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(_m,{type:_m},l=>{var u;const c=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[_m];c!==void 0&&i(!!c),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Vk(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return sw()||JC()||f_()}}const pP=dP;var Z0="@firebase/auth",$0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _P(t){Dl(new aa("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(t)},m=new UU(s,l,u,p);return GU(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Dl(new aa("auth-internal",e=>{const i=ga(e.getProvider("auth").getImmediate());return(s=>new mP(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Z0,$0,gP(t)),ts(Z0,$0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=5*60,vP=rT("authIdTokenMaxAge")||yP;let J0=null;const bP=t=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>vP)return;const l=i==null?void 0:i.token;J0!==l&&(J0=l,await fetch(t,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function EP(t=cT()){const e=Ag(t,"auth");if(e.isInitialized())return e.getImmediate();const i=VU(t,{popupRedirectResolver:pP,persistence:[wk,dk,_w]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=bP(u.toString());uk(i,c,()=>c(i.currentUser)),ok(i,d=>c(d))}}const l=nT("auth");return l&&YU(i,`http://${l}`),i}function SP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kU({loadJS(t){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=l=>{const u=bi("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",SP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_P("Browser");const TP={apiKey:"AIzaSyDUVV7OxSzEWM5G6tT9aaukNX6Ape-gX_8",authDomain:"blog-dashboard-17633.firebaseapp.com",databaseURL:"https://blog-dashboard-17633-default-rtdb.firebaseio.com",projectId:"blog-dashboard-17633",storageBucket:"blog-dashboard-17633.firebasestorage.app",messagingSenderId:"677969949324",appId:"1:677969949324:web:5ce22647281a3acdf0c1a9",measurementId:"G-M77PM6319W"},CP=uT(TP),Nh=EP(CP),wP={isAuthenticated:!1,currentUser:null,loading:!0},Cw=tU({name:"auth",initialState:wP,reducers:{setUser(t,e){t.isAuthenticated=e.payload.isAuthenticated,t.currentUser=e.payload.currentUser},clearUser(t){t.isAuthenticated=!1,t.currentUser=null},setLoading(t,e){t.loading=e.payload}}}),Sf=Cw.actions,RP=Cw.reducer,Tf=KL({reducer:{auth:RP}}),AP=()=>ck(Nh,async t=>{if(t){const e={uid:t.uid,email:t.email},i=await t.getIdToken();localStorage.setItem("firebaseToken",i),Tf.dispatch(Sf.setUser({currentUser:e,isAuthenticated:!0}))}else localStorage.removeItem("firebaseToken"),Tf.dispatch(Sf.clearUser());Tf.dispatch(Sf.setLoading(!1))});function OP(){const t=localStorage.getItem("firebaseToken");return t||null}const DP=async({data:t})=>ak(Nh,t.email,t.password),NP=async({data:t})=>lk(Nh,t.email,t.password),MP=()=>Nh.signOut(),xP="_nav_lvr5c_1",IP="_menuIcon_lvr5c_17",LP="_navLinks_lvr5c_29",UP="_active_lvr5c_71",kP="_open_lvr5c_181",Fi={nav:xP,menuIcon:IP,navLinks:LP,active:UP,open:kP},PP="_errorBlock_1mxld_1",zP="_errorBlockIcon_1mxld_25",ym={errorBlock:PP,errorBlockIcon:zP};function Ll({title:t,message:e}){return N.jsxs("div",{className:ym.errorBlock,children:[N.jsx("div",{className:ym.errorBlockIcon,children:"!"}),N.jsxs("div",{className:ym.errorBlockText,children:[N.jsx("h2",{children:t}),N.jsx("p",{children:e})]})]})}function ww(){var _;const t=pa(),e=ii(b=>b.auth.isAuthenticated),i=oO(),[s,l]=j.useState(!1),u=os();j.useEffect(()=>{l(!1)},[u]);function c(){l(b=>!b)}const{mutate:d,isError:p,error:m}=ea({mutationFn:MP,onSuccess:()=>{i(Sf.clearUser()),t("/auth?mode=login")}});if(p)return N.jsx(Ll,{title:"An error occurred",message:((_=m.info)==null?void 0:_.message)||"Failed to Logout",children:m.message});function y(b){b.preventDefault(),d()}return N.jsx("header",{className:Fi.header,children:N.jsxs("nav",{className:Fi.nav,children:[N.jsx("div",{className:Fi.menuIcon,onClick:c,children:"☰"}),N.jsxs("ul",{className:`${Fi.navLinks}  ${s?Fi.open:" "}`,children:[N.jsx("li",{children:N.jsx(sl,{to:"/",className:({isActive:b})=>b?Fi.active:void 0,children:"Home"})}),N.jsx("li",{children:N.jsx(sl,{to:"/posts",className:({isActive:b})=>b?Fi.active:void 0,children:"Posts"})}),N.jsx("li",{children:N.jsx(sl,{to:"/dashboard",className:({isActive:b})=>b?Fi.active:void 0,children:"Dashboard"})}),!e&&N.jsx("li",{children:N.jsx(sl,{to:"/auth?mode=login",className:({isActive:b})=>b?Fi.active:void 0,children:"Login"})}),e&&N.jsx("li",{children:N.jsx("button",{onClick:y,children:"Logout"})})]})]})})}function jP(){return N.jsxs(N.Fragment,{children:[N.jsx(ww,{}),N.jsx("main",{children:N.jsx(US,{})})]})}const HP="_getStarted_qt97t_1",BP="_start_qt97t_37",eS={getStarted:HP,start:BP},qP="_ldsRing_1y8hs_1",FP={ldsRing:qP};function _a(){return N.jsxs("div",{className:FP.ldsRing,children:[N.jsx("div",{}),N.jsx("div",{}),N.jsx("div",{}),N.jsx("div",{})]})}function VP(){const t=ii(e=>e.auth.loading);return N.jsx(N.Fragment,{children:t?N.jsx(_a,{}):N.jsxs("div",{className:eS.getStarted,children:[N.jsx("h1",{children:"Welcome to the Blog Dashboard"}),N.jsx("p",{children:"Welcome to our blog! To get started, you can create a new post or explore existing ones. Use the navigation menu to find your way around."}),N.jsxs("p",{children:["If you're new here, we recommend checking out our"," ",N.jsx(xu,{className:eS.start,to:"/posts",children:"Posts"})," ","section to see what others are writing about."]})]})})}function GP(){return N.jsx(VP,{})}const YP="_postsContainer_1wxqa_1",QP="_post_1wxqa_1",KP="_postHeader_1wxqa_53",WP="_author_1wxqa_103",XP="_date_1wxqa_119",ZP="_content_1wxqa_135",$P="_actions_1wxqa_159",JP="_edit_1wxqa_193",e2="_emptyPosts_1wxqa_211",gi={postsContainer:YP,post:QP,postHeader:KP,author:WP,date:XP,content:ZP,actions:$P,edit:JP,delete:"_delete_1wxqa_201",emptyPosts:e2};function Rw({posts:t,from:e}){const i=ii(d=>d.auth.isAuthenticated),s=ii(d=>d.auth.currentUser),l=pa(),{mutate:u}=ea({mutationFn:TL,onSuccess:()=>{Yf.invalidateQueries(["posts"]),l("/dashboard")}});function c(d){const p=s.uid;window.confirm("Are you sure you want to delete this post?")&&u({userId:p,postId:d})}return N.jsx(N.Fragment,{children:t&&t.length>0?N.jsx("div",{className:gi.postsContainer,children:t.map(d=>N.jsxs("div",{className:gi.post,children:[N.jsxs("div",{className:gi.postHeader,children:[N.jsx("h2",{children:d.title}),N.jsxs("p",{className:gi.author,children:["Author: ",d.author]}),N.jsxs("p",{className:gi.date,children:["Date: ",new Date(d.date).toLocaleDateString()]})]}),N.jsx("p",{className:gi.content,children:d.content}),N.jsx("div",{className:gi.actions,children:i&&e==="dashboard"&&N.jsxs(N.Fragment,{children:[N.jsx(xu,{className:gi.edit,to:`/dashboard/${d.groupKey}/edit`,children:"Edit"}),N.jsx("button",{className:gi.delete,onClick:()=>{c(d.groupKey)},children:"Delete"})]})})]},d.groupKey))}):N.jsx("p",{className:gi.emptyPosts,children:" No Posts Available"})})}function t2(){var l;const{data:t,isPending:e,isError:i,error:s}=uh({queryKey:["posts"],queryFn:gL});return e?N.jsx(_a,{}):i?N.jsx(Ll,{title:"An error occurred",message:((l=s.info)==null?void 0:l.message)||"Failed to fetch posts",children:s.message}):(t&&t.sort((u,c)=>new Date(c.date)-new Date(u.date)),N.jsxs("div",{children:[N.jsx("h1",{children:"All Posts"}),N.jsx(Rw,{posts:t})]}))}const n2="_form_p4cgn_1",i2="_actions_p4cgn_115",r2="_loading_p4cgn_171",s2="_error_p4cgn_181",Zo={form:n2,actions:i2,loading:r2,error:s2};function a2(t){const e={};return!Aw(t.email)&&(e.email="Please enter a valid email address (e.g., user@example.com)."),t.password.length<8?e.password="At least 8 characters long.":!u2(t.password)&&(e.password="At least one letter and one number."),!cg(t.name)&&(e.name="At least 3 characters, Can't contain numbers or special characters."),!cg(t.position)&&(e.position="At least 3 characters, Can't contain numbers or special characters."),!f2(t.location)&&(e.location="At least 3 characters, only letters, spaces, and commas."),!c2(t.bio)&&(e.bio="Bio can't exceed 500 characters."),e}function l2(t){const e={};return!Aw(t.email)&&(e.email="Please enter a valid email address (e.g., user@example.com)."),e}function o2(t){const e={};return t.title.length<3&&(e.title="Title must be at least 3 characters."),t.author.length<3?e.author="Author must be at least 3 characters":!cg(t.author)&&(e.author="Author Can't contain numbers or special characters."),t.content.length<3&&(e.content="Content must be at least 3 characters."),e}function Aw(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function u2(t){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(t)}function cg(t){return/^[A-Za-z\s]{3,}$/.test(t)}function c2(t){return t.length<=150}function f2(t){return/^[A-Za-z\s,]{2,}$/.test(t)}const tS={"auth/email-already-in-use":"This email is already registered.","auth/invalid-credential":"Incorrect email or password, please try again.","auth/wrong-password":"Incorrect password, please try again.","auth/user-not-found":"No account found with this email."},h2="_control_ue2uw_1",d2="_controlError_ue2uw_55",nS={control:h2,controlError:d2};function rl({label:t,name:e,type:i,textArea:s,error:l,...u}){let c="input";return s&&(c="textarea"),N.jsxs("div",{className:nS.control,children:[N.jsx("label",{htmlFor:e,children:t}),N.jsx(c,{id:e,type:i,name:e,required:!0,...u}),l&&N.jsx("p",{className:nS.controlError,children:l})]})}function p2(){const t=pa(),[e,i]=j.useState({}),[s]=K1(),l=s.get("mode")==="login",u=ea({mutationFn:DP,onSuccess:(m,y)=>{const _={...y.data};delete _.password;const b=m.user.uid;d.mutate({userId:b,filteredData:_})}}),c=ea({mutationFn:NP,onSuccess:()=>{t("/dashboard")}}),d=ea({mutationFn:bL,onSuccess:()=>{t("/dashboard")}}),p=async m=>{m.preventDefault();const y=new FormData(m.target),_=Object.fromEntries(y.entries());let b;l?b=l2(_):b=a2(_),Object.keys(b).length===0?(i({}),l?c.mutate({data:_}):u.mutate({data:_})):i(b)};return N.jsxs(N.Fragment,{children:[N.jsxs("form",{onSubmit:p,className:Zo.form,children:[N.jsx("h2",{children:l?"Log in":"Register"}),N.jsx(rl,{label:"Email",name:"email",type:"email",error:(e==null?void 0:e.email)??null}),N.jsx(rl,{label:"Password",name:"password",type:"password",error:(e==null?void 0:e.password)??null}),!l&&N.jsxs(N.Fragment,{children:[N.jsx(rl,{label:"User Name",name:"name",type:"text",error:(e==null?void 0:e.name)??null}),N.jsx(rl,{label:"Location",name:"location",type:"text",error:(e==null?void 0:e.location)??null}),N.jsx(rl,{label:"Position",name:"position",type:"text",error:(e==null?void 0:e.position)??null}),N.jsx(rl,{label:"Bio",name:"bio",type:"text",textArea:!0,rows:5,error:(e==null?void 0:e.name)??null})]}),N.jsxs("div",{className:Zo.actions,children:[N.jsx(xu,{to:`?mode=${l?"signup":"login"}`,children:l?"Register":"Login"}),N.jsx("button",{disabled:u.isPending,children:u.isPending?"Submitting...":l?"Login":"Register"})]})]}),(c.isPending||u.isPending)&&N.jsxs(N.Fragment,{children:[N.jsxs("p",{className:Zo.loading,children:[l?"Sign In......":"Sign Up......"," "]}),N.jsx(_a,{})]}),c.isError&&N.jsx("p",{className:Zo.error,children:c.error.code?tS[c.error.code]:"Failed to login. An unknown error occurred."}),u.isError&&N.jsx("p",{className:Zo.error,children:u.error.code?tS[u.error.code]:"Failed to register. An unknown error occurred."})]})}function m2(){return OP()!==null?N.jsx(oh,{to:"/posts"}):N.jsx(p2,{})}const g2="_form_rhcb3_1",_2="_control_rhcb3_21",y2="_actions_rhcb3_105",v2="_submit_rhcb3_131",b2="_cancel_rhcb3_141",E2="_controlError_rhcb3_157",Hn={form:g2,control:_2,actions:y2,submit:v2,cancel:b2,controlError:E2};function Ow({method:t,post:e}){var U,M;const[i,s]=j.useState({}),u=ii(W=>W.auth.currentUser).uid,d=NS().postId,p=pa(),y=new Date().toISOString().split("T")[0],_=ea({mutationFn:EL,onSuccess:()=>{Yf.invalidateQueries(["posts"]),p("/dashboard")}}),b=ea({mutationFn:SL,onSuccess:()=>{Yf.invalidateQueries(["posts"]),p("/dashboard")}});function T(W,F){W.preventDefault();const X=new FormData(W.target),Q=Object.fromEntries(X.entries()),Y=o2(Q);Object.keys(Y).length===0?(s({}),F==="new"?_.mutate({userId:u,data:Q}):b.mutate({userId:u,postId:d,data:Q})):s(Y)}function O(){p("/dashboard")}return N.jsxs(N.Fragment,{children:[N.jsxs("form",{className:Hn.form,onSubmit:T,children:[N.jsxs("div",{className:Hn.control,children:[N.jsx("label",{htmlFor:"title",children:"Title:"}),N.jsx("input",{type:"text",id:"title",name:"title",required:!0,defaultValue:e?e.title:"",maxLength:50})]}),i&&i.title&&N.jsx("p",{className:Hn.controlError,children:i.title}),N.jsxs("div",{className:Hn.control,children:[N.jsx("label",{htmlFor:"author",children:"Author:"}),N.jsx("input",{type:"text",id:"author",name:"author",required:!0,defaultValue:e?e.author:"",readOnly:!t,maxLength:25})]}),i&&i.author&&N.jsx("p",{className:Hn.controlError,children:i.author}),N.jsxs("div",{className:Hn.control,children:[N.jsx("label",{htmlFor:"date",children:"Date:"}),N.jsx("input",{type:"date",id:"date",name:"date",required:!0,value:t==="new"?y:e?e.date:"",readOnly:!0})]}),N.jsxs("div",{className:Hn.control,children:[N.jsx("label",{htmlFor:"content",children:"Content:"}),N.jsx("textarea",{id:"content",name:"content",rows:5,required:!0,defaultValue:e?e.content:"",maxLength:500})]}),i&&i.content&&N.jsx("p",{className:Hn.controlError,children:i.content}),N.jsxs("div",{className:Hn.actions,children:[N.jsx("button",{type:"submit",className:Hn.submit,children:t==="new"?"Create Post":"Update Post"}),N.jsx("button",{type:"button",className:Hn.cancel,onClick:O,children:"Cancel"})]})]}),(_.isLoading||b.isLoading)&&N.jsxs(N.Fragment,{children:[N.jsxs("p",{className:Hn.loading,children:[t==="new"?"Creating Post......":"Updating post......"," "]}),N.jsx(_a,{})]}),_.isError&&N.jsx(Ll,{title:"An error occurred",message:((U=_.error)==null?void 0:U.message)||"Failed to create post"}),b.isError&&N.jsx(Ll,{title:"An error occurred",message:((M=_.error)==null?void 0:M.message)||"Failed to update post"})]})}function S2(){var y;const t=ii(_=>_.auth.isAuthenticated),e=ii(_=>_.auth.currentUser),i=e.uid,l=NS().postId,{data:u,isPending:c,isError:d,error:p}=uh({queryKey:["posts",l],queryFn:()=>yL({userId:i,postId:l}),enabled:e!==null});if(!t)return N.jsx(oh,{to:"/auth?mode=login"});let m;return c&&(m=N.jsx(_a,{})),d&&(m=N.jsx(ErrorBlock,{title:"An error occurred",message:((y=p.info)==null?void 0:y.message)||"Failed to fetch posts",children:p.message})),u&&(m=N.jsx(Ow,{post:u})),N.jsx("div",{children:m})}const T2="_header_1d5eb_1",C2="_list_1d5eb_13",w2="_active_1d5eb_63",df={header:T2,list:C2,active:w2};function R2(){return N.jsx("header",{className:df.header,children:N.jsx("nav",{children:N.jsxs("ul",{className:df.list,children:[N.jsx("li",{children:N.jsx(sl,{to:"",className:({isActive:t})=>t?df.active:void 0,end:!0,children:"All Posts"})}),N.jsx("li",{children:N.jsx(sl,{to:"new",className:({isActive:t})=>t?df.active:void 0,children:"New Post"})})]})})})}function A2(){return N.jsxs(N.Fragment,{children:[N.jsx(R2,{}),N.jsx(US,{})]})}function O2(){return ii(e=>e.auth.isAuthenticated)?N.jsx(Ow,{method:"new"}):N.jsx(oh,{to:"/auth?mode=login"})}const D2="_profileInfo_1xqir_1",N2="_userData_1xqir_27",M2="_userDetails_1xqir_45",x2="_bio_1xqir_91",pf={profileInfo:D2,userData:N2,userDetails:M2,bio:x2};function I2(){var d;const t=ii(p=>p.auth.currentUser),e=t.uid,{data:i,isPending:s,isError:l,error:u}=uh({queryKey:["userData",t.uid],queryFn:()=>vL({userId:e})});let c;return s&&(c=N.jsx(_a,{})),l&&(c=N.jsx(Ll,{title:"An error occurred",message:((d=u.info)==null?void 0:d.message)||"Failed to fetch posts",children:u.message})),i&&(c=N.jsxs("div",{className:pf.userData,children:[N.jsxs("div",{className:pf.userDetails,children:[N.jsxs("p",{children:[N.jsx("span",{children:"Name:"})," ",i.name]}),N.jsxs("p",{children:[N.jsx("span",{children:"Email:"})," ",i.email]}),N.jsxs("p",{children:[N.jsx("span",{children:"Position:"})," ",i.position]}),N.jsxs("p",{children:[N.jsx("span",{children:"Location:"})," ",i.location]})]}),N.jsx("p",{className:pf.bio,children:i.bio})]})),N.jsxs("div",{className:pf.profileInfo,children:[N.jsx("h2",{children:"Profile Information"}),c]})}function L2(){var c;const t=ii(d=>d.auth.isAuthenticated),e=ii(d=>d.auth.currentUser),{data:i,isPending:s,isError:l,error:u}=uh({queryKey:["posts",e==null?void 0:e.uid],queryFn:()=>_L({userId:e==null?void 0:e.uid}),enabled:t});return t?s?N.jsx(_a,{}):l?N.jsx(Ll,{title:"An error occurred",message:((c=u.info)==null?void 0:c.message)||"Failed to fetch posts",children:u.message}):(i&&i.sort((d,p)=>new Date(p.date)-new Date(d.date)),N.jsxs("div",{children:[N.jsx("h1",{children:"Dashboard"}),N.jsx("p",{children:"Welcome to the dashboard!"}),N.jsx(I2,{}),N.jsx("h2",{children:"Your Posts"}),N.jsx(Rw,{posts:i,from:"dashboard"})]})):N.jsx(oh,{to:"/auth?mode=login"})}function U2(){const t=LS();let e="An Error Occured!",i="Something Went Wrong!";return t.status===500&&(i=JSON.parse(t.data).message),t.status===404&&(e="Not Found",i="Could not find resource"),N.jsxs(N.Fragment,{children:[N.jsx(ww,{}),N.jsxs("div",{children:[N.jsx("h1",{children:e}),N.jsx("p",{children:i}),N.jsx(xu,{to:"/",children:"Home"})]})]})}const k2=I1([{path:"/",element:N.jsx(jP,{}),errorElement:N.jsx(U2,{}),children:[{index:!0,element:N.jsx(GP,{})},{path:"auth",element:N.jsx(m2,{})},{path:"posts",element:N.jsx(A2,{}),children:[{index:!0,element:N.jsx(t2,{})},{path:"new",element:N.jsx(O2,{})}]},{path:"dashboard",element:N.jsx(L2,{})},{path:"dashboard/:postId/edit",element:N.jsx(S2,{})}]}]);function P2(){return AP(),N.jsx(gD,{client:Yf,children:N.jsx(B1,{router:k2})})}VA.createRoot(document.getElementById("root")).render(N.jsx(j.StrictMode,{children:N.jsx(sO,{store:Tf,children:N.jsx(P2,{})})}));
