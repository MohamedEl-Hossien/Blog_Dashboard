var Vb=n=>{throw TypeError(n)};var zp=(n,e,i)=>e.has(n)||Vb("Cannot "+i);var C=(n,e,i)=>(zp(n,e,"read from private field"),i?i.call(n):e.get(n)),ge=(n,e,i)=>e.has(n)?Vb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,i),ae=(n,e,i,s)=>(zp(n,e,"write to private field"),s?s.call(n,i):e.set(n,i),i),De=(n,e,i)=>(zp(n,e,"access private method"),i);var rf=(n,e,i,s)=>({set _(l){ae(n,e,l,i)},get _(){return C(n,e,s)}});function uS(n,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function cS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hp={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function DA(){if(Gb)return Fo;Gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Fo.Fragment=e,Fo.jsx=i,Fo.jsxs=i,Fo}var Yb;function NA(){return Yb||(Yb=1,Hp.exports=DA()),Hp.exports}var A=NA(),Bp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function MA(){if(Qb)return Oe;Qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function x(w,V,te){this.props=w,this.context=V,this.refs=U,this.updater=te||S}x.prototype.isReactComponent={},x.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},x.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=x.prototype;function G(w,V,te){this.props=w,this.context=V,this.refs=U,this.updater=te||S}var X=G.prototype=new W;X.constructor=G,O(X,x.prototype),X.isPureReactComponent=!0;var K=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function L(w,V,te,J,de,Re){return te=Re.ref,{$$typeof:n,type:w,key:V,ref:te!==void 0?te:null,props:Re}}function Z(w,V){return L(w.type,V,void 0,void 0,void 0,w.props)}function ee(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function se(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return V[te]})}var ze=/\/+/g;function we(w,V){return typeof w=="object"&&w!==null&&w.key!=null?se(""+w.key):V.toString(36)}function ot(){}function _t(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ot,ot):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ut(w,V,te,J,de){var Re=typeof w;(Re==="undefined"||Re==="boolean")&&(w=null);var _e=!1;if(w===null)_e=!0;else switch(Re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(w.$$typeof){case n:case e:_e=!0;break;case _:return _e=w._init,ut(_e(w._payload),V,te,J,de)}}if(_e)return de=de(w),_e=J===""?"."+we(w,0):J,K(de)?(te="",_e!=null&&(te=_e.replace(ze,"$&/")+"/"),ut(de,V,te,"",function(si){return si})):de!=null&&(ee(de)&&(de=Z(de,te+(de.key==null||w&&w.key===de.key?"":(""+de.key).replace(ze,"$&/")+"/")+_e)),V.push(de)),1;_e=0;var Tt=J===""?".":J+":";if(K(w))for(var Xe=0;Xe<w.length;Xe++)J=w[Xe],Re=Tt+we(J,Xe),_e+=ut(J,V,te,Re,de);else if(Xe=b(w),typeof Xe=="function")for(w=Xe.call(w),Xe=0;!(J=w.next()).done;)J=J.value,Re=Tt+we(J,Xe++),_e+=ut(J,V,te,Re,de);else if(Re==="object"){if(typeof w.then=="function")return ut(_t(w),V,te,J,de);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(w,V,te){if(w==null)return w;var J=[],de=0;return ut(w,J,"","",function(Re){return V.call(te,Re,de++)}),J}function ie(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var le=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ve(){}return Oe.Children={map:H,forEach:function(w,V,te){H(w,function(){V.apply(this,arguments)},te)},count:function(w){var V=0;return H(w,function(){V++}),V},toArray:function(w){return H(w,function(V){return V})||[]},only:function(w){if(!ee(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Oe.Component=x,Oe.Fragment=i,Oe.Profiler=l,Oe.PureComponent=G,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Y.H.useMemoCache(w)}},Oe.cache=function(w){return function(){return w.apply(null,arguments)}},Oe.cloneElement=function(w,V,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=O({},w.props),de=w.key,Re=void 0;if(V!=null)for(_e in V.ref!==void 0&&(Re=void 0),V.key!==void 0&&(de=""+V.key),V)!ue.call(V,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&V.ref===void 0||(J[_e]=V[_e]);var _e=arguments.length-2;if(_e===1)J.children=te;else if(1<_e){for(var Tt=Array(_e),Xe=0;Xe<_e;Xe++)Tt[Xe]=arguments[Xe+2];J.children=Tt}return L(w.type,de,void 0,void 0,Re,J)},Oe.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Oe.createElement=function(w,V,te){var J,de={},Re=null;if(V!=null)for(J in V.key!==void 0&&(Re=""+V.key),V)ue.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(de[J]=V[J]);var _e=arguments.length-2;if(_e===1)de.children=te;else if(1<_e){for(var Tt=Array(_e),Xe=0;Xe<_e;Xe++)Tt[Xe]=arguments[Xe+2];de.children=Tt}if(w&&w.defaultProps)for(J in _e=w.defaultProps,_e)de[J]===void 0&&(de[J]=_e[J]);return L(w,Re,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(w){return{$$typeof:d,render:w}},Oe.isValidElement=ee,Oe.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:ie}},Oe.memo=function(w,V){return{$$typeof:m,type:w,compare:V===void 0?null:V}},Oe.startTransition=function(w){var V=Y.T,te={};Y.T=te;try{var J=w(),de=Y.S;de!==null&&de(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ve,le)}catch(Re){le(Re)}finally{Y.T=V}},Oe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Oe.use=function(w){return Y.H.use(w)},Oe.useActionState=function(w,V,te){return Y.H.useActionState(w,V,te)},Oe.useCallback=function(w,V){return Y.H.useCallback(w,V)},Oe.useContext=function(w){return Y.H.useContext(w)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(w,V){return Y.H.useDeferredValue(w,V)},Oe.useEffect=function(w,V,te){var J=Y.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(w,V)},Oe.useId=function(){return Y.H.useId()},Oe.useImperativeHandle=function(w,V,te){return Y.H.useImperativeHandle(w,V,te)},Oe.useInsertionEffect=function(w,V){return Y.H.useInsertionEffect(w,V)},Oe.useLayoutEffect=function(w,V){return Y.H.useLayoutEffect(w,V)},Oe.useMemo=function(w,V){return Y.H.useMemo(w,V)},Oe.useOptimistic=function(w,V){return Y.H.useOptimistic(w,V)},Oe.useReducer=function(w,V,te){return Y.H.useReducer(w,V,te)},Oe.useRef=function(w){return Y.H.useRef(w)},Oe.useState=function(w){return Y.H.useState(w)},Oe.useSyncExternalStore=function(w,V,te){return Y.H.useSyncExternalStore(w,V,te)},Oe.useTransition=function(){return Y.H.useTransition()},Oe.version="19.1.0",Oe}var Kb;function ih(){return Kb||(Kb=1,Bp.exports=MA()),Bp.exports}var z=ih();const xA=cS(z),IA=uS({__proto__:null,default:xA},[z]);var Fp={exports:{}},qo={},qp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function LA(){return Wb||(Wb=1,function(n){function e(H,ie){var le=H.length;H.push(ie);e:for(;0<le;){var Ve=le-1>>>1,w=H[Ve];if(0<l(w,ie))H[Ve]=ie,H[le]=w,le=Ve;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ie=H[0],le=H.pop();if(le!==ie){H[0]=le;e:for(var Ve=0,w=H.length,V=w>>>1;Ve<V;){var te=2*(Ve+1)-1,J=H[te],de=te+1,Re=H[de];if(0>l(J,le))de<w&&0>l(Re,J)?(H[Ve]=Re,H[de]=le,Ve=de):(H[Ve]=J,H[te]=le,Ve=te);else if(de<w&&0>l(Re,le))H[Ve]=Re,H[de]=le,Ve=de;else break e}}return ie}function l(H,ie){var le=H.sortIndex-ie.sortIndex;return le!==0?le:H.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,y=null,b=3,S=!1,O=!1,U=!1,x=!1,W=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var ie=i(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=H)s(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(m)}}function Y(H){if(U=!1,K(H),!O)if(i(p)!==null)O=!0,ue||(ue=!0,we());else{var ie=i(m);ie!==null&&ut(Y,ie.startTime-H)}}var ue=!1,L=-1,Z=5,ee=-1;function se(){return x?!0:!(n.unstable_now()-ee<Z)}function ze(){if(x=!1,ue){var H=n.unstable_now();ee=H;var ie=!0;try{e:{O=!1,U&&(U=!1,G(L),L=-1),S=!0;var le=b;try{t:{for(K(H),y=i(p);y!==null&&!(y.expirationTime>H&&se());){var Ve=y.callback;if(typeof Ve=="function"){y.callback=null,b=y.priorityLevel;var w=Ve(y.expirationTime<=H);if(H=n.unstable_now(),typeof w=="function"){y.callback=w,K(H),ie=!0;break t}y===i(p)&&s(p),K(H)}else s(p);y=i(p)}if(y!==null)ie=!0;else{var V=i(m);V!==null&&ut(Y,V.startTime-H),ie=!1}}break e}finally{y=null,b=le,S=!1}ie=void 0}}finally{ie?we():ue=!1}}}var we;if(typeof X=="function")we=function(){X(ze)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,_t=ot.port2;ot.port1.onmessage=ze,we=function(){_t.postMessage(null)}}else we=function(){W(ze,0)};function ut(H,ie){L=W(function(){H(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var le=b;b=ie;try{return H()}finally{b=le}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=b;b=H;try{return ie()}finally{b=le}},n.unstable_scheduleCallback=function(H,ie,le){var Ve=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ve+le:Ve):le=Ve,H){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=le+w,H={id:_++,callback:ie,priorityLevel:H,startTime:le,expirationTime:w,sortIndex:-1},le>Ve?(H.sortIndex=le,e(m,H),i(p)===null&&H===i(m)&&(U?(G(L),L=-1):U=!0,ut(Y,le-Ve))):(H.sortIndex=w,e(p,H),O||S||(O=!0,ue||(ue=!0,we()))),H},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(H){var ie=b;return function(){var le=b;b=ie;try{return H.apply(this,arguments)}finally{b=le}}}}(Vp)),Vp}var Xb;function UA(){return Xb||(Xb=1,qp.exports=LA()),qp.exports}var Gp={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function kA(){if(Zb)return Kt;Zb=1;var n=ih();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},Kt.flushSync=function(p){var m=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=_,s.d.f()}},Kt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):_==="script"&&s.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Kt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,m){return p(m)},Kt.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},Kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var $b;function fS(){if($b)return Gp.exports;$b=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=kA(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function PA(){if(Jb)return qo;Jb=1;var n=UA(),e=ih(),i=fS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return d(f),t;if(h===o)return d(f),r;h=h.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=h;else{for(var g=!1,v=f.child;v;){if(v===a){g=!0,a=f,o=h;break}if(v===o){g=!0,o=f,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=f;break}if(v===o){g=!0,o=h,a=f;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function we(t){return t===null||typeof t!="object"?null:(t=ze&&t[ze]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case x:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case ue:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case X:return(t.displayName||"Context")+".Provider";case G:return(t._context.displayName||"Context")+".Consumer";case K:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return r=t.displayName||null,r!==null?r:_t(t.type)||"Memo";case Z:r=t._payload,t=t._init;try{return _t(t(r))}catch{}}return null}var ut=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ve=[],w=-1;function V(t){return{current:t}}function te(t){0>w||(t.current=Ve[w],Ve[w]=null,w--)}function J(t,r){w++,Ve[w]=t.current,t.current=r}var de=V(null),Re=V(null),_e=V(null),Tt=V(null);function Xe(t,r){switch(J(_e,r),J(Re,t),J(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?yb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=yb(r),t=vb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(de),J(de,t)}function si(){te(de),te(Re),te(_e)}function Vl(t){t.memoizedState!==null&&J(Tt,t);var r=de.current,a=vb(r,t.type);r!==a&&(J(Re,t),J(de,a))}function _a(t){Re.current===t&&(te(de),te(Re)),Tt.current===t&&(te(Tt),Po._currentValue=le)}var Dt=Object.prototype.hasOwnProperty,ai=n.unstable_scheduleCallback,ya=n.unstable_cancelCallback,Nh=n.unstable_shouldYield,wi=n.unstable_requestPaint,Dn=n.unstable_now,Mh=n.unstable_getCurrentPriorityLevel,Gl=n.unstable_ImmediatePriority,qu=n.unstable_UserBlockingPriority,va=n.unstable_NormalPriority,xh=n.unstable_LowPriority,Vu=n.unstable_IdlePriority,Ri=n.log,ps=n.unstable_setDisableYieldValue,cr=null,Bt=null;function Ft(t){if(typeof Ri=="function"&&ps(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(cr,t)}catch{}}var mt=Math.clz32?Math.clz32:Ih,Gu=Math.log,ba=Math.LN2;function Ih(t){return t>>>=0,t===0?32:31-(Gu(t)/ba|0)|0}var gn=256,ms=4194304;function li(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gs(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~h,o!==0?f=li(o):(g&=v,g!==0?f=li(g):a||(a=v&~t,a!==0&&(f=li(a))))):(v=o&~h,v!==0?f=li(v):g!==0?f=li(g):a||(a=o&~t,a!==0&&(f=li(a)))),f===0?0:r!==0&&r!==f&&(r&h)===0&&(h=f&-f,a=r&-r,h>=a||h===32&&(a&4194048)!==0)?r:f}function _s(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Yu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var t=gn;return gn<<=1,(gn&4194048)===0&&(gn=256),t}function Yl(){var t=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),t}function vs(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ai(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,r,a,o,f,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,E=t.expirationTimes,I=t.hiddenUpdates;for(a=g&~a;0<a;){var B=31-mt(a),q=1<<B;v[B]=0,E[B]=-1;var k=I[B];if(k!==null)for(I[B]=null,B=0;B<k.length;B++){var P=k[B];P!==null&&(P.lane&=-536870913)}a&=~q}o!==0&&Ql(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~r))}function Ql(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-mt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Qu(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-mt(a),f=1<<o;f&r|t[o]&r&&(t[o]|=r),a&=~f}}function Ea(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bs(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:jb(t.type))}function Uh(t,r){var a=ie.p;try{return ie.p=t,r()}finally{ie.p=a}}var oi=Math.random().toString(36).slice(2),T="__reactFiber$"+oi,D="__reactProps$"+oi,j="__reactContainer$"+oi,Q="__reactEvents$"+oi,ne="__reactListeners$"+oi,me="__reactHandles$"+oi,be="__reactResources$"+oi,oe="__reactMarker$"+oi;function ce(t){delete t[T],delete t[D],delete t[Q],delete t[ne],delete t[me]}function re(t){var r=t[T];if(r)return r;for(var a=t.parentNode;a;){if(r=a[j]||a[T]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Tb(t);t!==null;){if(a=t[T])return a;t=Tb(t)}return r}t=a,a=t.parentNode}return null}function fe(t){if(t=t[T]||t[j]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ce(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ae(t){var r=t[be];return r||(r=t[be]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pe(t){t[oe]=!0}var Ze=new Set,Fe={};function Ke(t,r){_n(t,r),_n(t+"Capture",r)}function _n(t,r){for(Fe[t]=r,t=0;t<r.length;t++)Ze.add(r[t])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nn={},yn={};function Kl(t){return Dt.call(yn,t)?!0:Dt.call(Nn,t)?!1:Es.test(t)?yn[t]=!0:(Nn[t]=!0,!1)}function ui(t,r,a){if(Kl(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Mn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function sn(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var hr,He;function $e(t){if(hr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);hr=r&&r[1]||"",He=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+t+He}var ci=!1;function Oi(t,r){if(!t||ci)return"";ci=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(P){var k=P}Reflect.construct(t,[],q)}else{try{q.call()}catch(P){k=P}t.call(q.prototype)}}else{try{throw Error()}catch(P){k=P}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var E=g.split(`
`),I=v.split(`
`);for(f=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===E.length||f===I.length)for(o=E.length-1,f=I.length-1;1<=o&&0<=f&&E[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(E[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||E[o]!==I[f]){var B=`
`+E[o].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=o&&0<=f);break}}}finally{ci=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$e(a):""}function yt(t){switch(t.tag){case 26:case 27:case 5:return $e(t.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Oi(t.type,!1);case 11:return Oi(t.type.render,!1);case 1:return Oi(t.type,!0);case 31:return $e("Activity");default:return""}}function Di(t){try{var r="";do r+=yt(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ku(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cw(t){var r=Ku(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Wu(t){t._valueTracker||(t._valueTracker=Cw(t))}function p_(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=Ku(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function Xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ww=/[\n"\\]/g;function xn(t){return t.replace(ww,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kh(t,r,a,o,f,h,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Zt(r)):t.value!==""+Zt(r)&&(t.value=""+Zt(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?Ph(t,g,Zt(r)):a!=null?Ph(t,g,Zt(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Zt(v):t.removeAttribute("name")}function m_(t,r,a,o,f,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),r!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||r!=null))return;a=a!=null?""+Zt(a):"",r=r!=null?""+Zt(r):a,v||r===t.value||(t.value=r),t.defaultValue=r}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Ph(t,r,a){r==="number"&&Xu(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sa(t,r,a,o){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function g_(t,r,a){if(r!=null&&(r=""+Zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Zt(a):""}function __(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(ut(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Zt(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Ta(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Rw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y_(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||Rw.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function v_(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in r)o=r[f],r.hasOwnProperty(f)&&a[f]!==o&&y_(t,f,o)}else for(var h in r)r.hasOwnProperty(h)&&y_(t,h,r[h])}function jh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ow=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zu(t){return Ow.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zh=null;function Hh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,wa=null;function b_(t){var r=fe(t);if(r&&(t=r.stateNode)){var a=t[D]||null;e:switch(t=r.stateNode,r.type){case"input":if(kh(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var f=o[D]||null;if(!f)throw Error(s(90));kh(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&p_(o)}break e;case"textarea":g_(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Sa(t,!!a.multiple,r,!1)}}}var Bh=!1;function E_(t,r,a){if(Bh)return t(r,a);Bh=!0;try{var o=t(r);return o}finally{if(Bh=!1,(Ca!==null||wa!==null)&&(kc(),Ca&&(r=Ca,t=wa,wa=Ca=null,b_(r),t)))for(r=0;r<t.length;r++)b_(t[r])}}function Wl(t,r){var a=t.stateNode;if(a===null)return null;var o=a[D]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(Ni)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Fh=!1}var dr=null,qh=null,$u=null;function S_(){if($u)return $u;var t,r=qh,a=r.length,o,f="value"in dr?dr.value:dr.textContent,h=f.length;for(t=0;t<a&&r[t]===f[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===f[h-o];o++);return $u=f.slice(t,1<o?1-o:void 0)}function Ju(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function T_(){return!1}function an(t){function r(a,o,f,h,g){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ec:T_,this.isPropagationStopped=T_,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=an(Ss),Zl=_({},Ss,{view:0,detail:0}),Dw=an(Zl),Vh,Gh,$l,nc=_({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Vh=t.screenX-$l.screenX,Gh=t.screenY-$l.screenY):Gh=Vh=0,$l=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:Gh}}),C_=an(nc),Nw=_({},nc,{dataTransfer:0}),Mw=an(Nw),xw=_({},Zl,{relatedTarget:0}),Yh=an(xw),Iw=_({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=an(Iw),Uw=_({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kw=an(Uw),Pw=_({},Ss,{data:0}),w_=an(Pw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hw[t])?!!r[t]:!1}function Qh(){return Bw}var Fw=_({},Zl,{key:function(t){if(t.key){var r=jw[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qw=an(Fw),Vw=_({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R_=an(Vw),Gw=_({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),Yw=an(Gw),Qw=_({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kw=an(Qw),Ww=_({},nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xw=an(Ww),Zw=_({},Ss,{newState:0,oldState:0}),$w=an(Zw),Jw=[9,13,27,32],Kh=Ni&&"CompositionEvent"in window,Jl=null;Ni&&"documentMode"in document&&(Jl=document.documentMode);var eR=Ni&&"TextEvent"in window&&!Jl,A_=Ni&&(!Kh||Jl&&8<Jl&&11>=Jl),O_=" ",D_=!1;function N_(t,r){switch(t){case"keyup":return Jw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function tR(t,r){switch(t){case"compositionend":return M_(r);case"keypress":return r.which!==32?null:(D_=!0,O_);case"textInput":return t=r.data,t===O_&&D_?null:t;default:return null}}function nR(t,r){if(Ra)return t==="compositionend"||!Kh&&N_(t,r)?(t=S_(),$u=qh=dr=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return A_&&r.locale!=="ko"?null:r.data;default:return null}}var iR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!iR[t.type]:r==="textarea"}function I_(t,r,a,o){Ca?wa?wa.push(o):wa=[o]:Ca=o,r=Fc(r,"onChange"),0<r.length&&(a=new tc("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var eo=null,to=null;function rR(t){db(t,0)}function ic(t){var r=Ce(t);if(p_(r))return t}function L_(t,r){if(t==="change")return r}var U_=!1;if(Ni){var Wh;if(Ni){var Xh="oninput"in document;if(!Xh){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),Xh=typeof k_.oninput=="function"}Wh=Xh}else Wh=!1;U_=Wh&&(!document.documentMode||9<document.documentMode)}function P_(){eo&&(eo.detachEvent("onpropertychange",j_),to=eo=null)}function j_(t){if(t.propertyName==="value"&&ic(to)){var r=[];I_(r,to,t,Hh(t)),E_(rR,r)}}function sR(t,r,a){t==="focusin"?(P_(),eo=r,to=a,eo.attachEvent("onpropertychange",j_)):t==="focusout"&&P_()}function aR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(to)}function lR(t,r){if(t==="click")return ic(r)}function oR(t,r){if(t==="input"||t==="change")return ic(r)}function uR(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:uR;function no(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Dt.call(r,f)||!vn(t[f],r[f]))return!1}return!0}function z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H_(t,r){var a=z_(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=z_(a)}}function B_(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?B_(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function F_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Xu(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Xu(t.document)}return r}function Zh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var cR=Ni&&"documentMode"in document&&11>=document.documentMode,Aa=null,$h=null,io=null,Jh=!1;function q_(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Aa==null||Aa!==Xu(o)||(o=Aa,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&no(io,o)||(io=o,o=Fc($h,"onSelect"),0<o.length&&(r=new tc("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Aa)))}function Ts(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Oa={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},ed={},V_={};Ni&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Cs(t){if(ed[t])return ed[t];if(!Oa[t])return t;var r=Oa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in V_)return ed[t]=r[a];return t}var G_=Cs("animationend"),Y_=Cs("animationiteration"),Q_=Cs("animationstart"),fR=Cs("transitionrun"),hR=Cs("transitionstart"),dR=Cs("transitioncancel"),K_=Cs("transitionend"),W_=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function Vn(t,r){W_.set(t,r),Ke(r,[t])}var X_=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=X_.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Di(r)},X_.set(t,r),r)}return{value:t,source:r,stack:Di(r)}}var Ln=[],Da=0,nd=0;function rc(){for(var t=Da,r=nd=Da=0;r<t;){var a=Ln[r];Ln[r++]=null;var o=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var h=Ln[r];if(Ln[r++]=null,o!==null&&f!==null){var g=o.pending;g===null?f.next=f:(f.next=g.next,g.next=f),o.pending=f}h!==0&&Z_(a,f,h)}}function sc(t,r,a,o){Ln[Da++]=t,Ln[Da++]=r,Ln[Da++]=a,Ln[Da++]=o,nd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function id(t,r,a,o){return sc(t,r,a,o),ac(t)}function Na(t,r){return sc(t,null,null,r),ac(t)}function Z_(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&r!==null&&(f=31-mt(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[r]:o.push(r),r.lane=a|536870912),h):null}function ac(t){if(50<Do)throw Do=0,up=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ma={};function pR(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,o){return new pR(t,r,a,o)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $_(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function lc(t,r,a,o,f,h){var g=0;if(o=t,typeof t=="function")rd(t)&&(g=1);else if(typeof t=="string")g=gA(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=bn(31,a,r,f),t.elementType=ee,t.lanes=h,t;case O:return ws(a.children,f,h,r);case U:g=8,f|=24;break;case x:return t=bn(12,a,r,f|2),t.elementType=x,t.lanes=h,t;case Y:return t=bn(13,a,r,f),t.elementType=Y,t.lanes=h,t;case ue:return t=bn(19,a,r,f),t.elementType=ue,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case X:g=10;break e;case G:g=9;break e;case K:g=11;break e;case L:g=14;break e;case Z:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=bn(g,a,r,f),r.elementType=t,r.type=o,r.lanes=h,r}function ws(t,r,a,o){return t=bn(7,t,o,r),t.lanes=a,t}function sd(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function ad(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var xa=[],Ia=0,oc=null,uc=0,Un=[],kn=0,Rs=null,xi=1,Ii="";function As(t,r){xa[Ia++]=uc,xa[Ia++]=oc,oc=t,uc=r}function J_(t,r,a){Un[kn++]=xi,Un[kn++]=Ii,Un[kn++]=Rs,Rs=t;var o=xi;t=Ii;var f=32-mt(o)-1;o&=~(1<<f),a+=1;var h=32-mt(r)+f;if(30<h){var g=f-f%5;h=(o&(1<<g)-1).toString(32),o>>=g,f-=g,xi=1<<32-mt(r)+f|a<<f|o,Ii=h+t}else xi=1<<h|a<<f|o,Ii=t}function ld(t){t.return!==null&&(As(t,1),J_(t,1,0))}function od(t){for(;t===oc;)oc=xa[--Ia],xa[Ia]=null,uc=xa[--Ia],xa[Ia]=null;for(;t===Rs;)Rs=Un[--kn],Un[kn]=null,Ii=Un[--kn],Un[kn]=null,xi=Un[--kn],Un[kn]=null}var $t=null,vt=null,Qe=!1,Os=null,fi=!1,ud=Error(s(519));function Ds(t){var r=Error(s(418,""));throw ao(In(r,t)),ud}function ey(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[T]=t,r[D]=o,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<Mo.length;a++)Ue(Mo[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),m_(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Wu(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),__(r,o.value,o.defaultValue,o.children),Wu(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||_b(r.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),o.onScroll!=null&&Ue("scroll",r),o.onScrollEnd!=null&&Ue("scrollend",r),o.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||Ds(t)}function ty(t){for($t=t.return;$t;)switch($t.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:$t=$t.return}}function ro(t){if(t!==$t)return!1;if(!Qe)return ty(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wp(t.type,t.memoizedProps)),a=!a),a&&vt&&Ds(t),ty(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){vt=Yn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}vt=null}}else r===27?(r=vt,Dr(t.type)?(t=Dp,Dp=null,vt=t):vt=r):vt=$t?Yn(t.stateNode.nextSibling):null;return!0}function so(){vt=$t=null,Qe=!1}function ny(){var t=Os;return t!==null&&(un===null?un=t:un.push.apply(un,t),Os=null),t}function ao(t){Os===null?Os=[t]:Os.push(t)}var cd=V(null),Ns=null,Li=null;function pr(t,r,a){J(cd,r._currentValue),r._currentValue=a}function Ui(t){t._currentValue=cd.current,te(cd)}function fd(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function hd(t,r,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var g=f.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=f;for(var E=0;E<r.length;E++)if(v.context===r[E]){h.lanes|=a,v=h.alternate,v!==null&&(v.lanes|=a),fd(h.return,a,t),o||(g=null);break e}h=v.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),fd(g,a,t),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function lo(t,r,a,o){t=null;for(var f=r,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=f.type;vn(f.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(f===Tt.current){if(g=f.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}f=f.return}t!==null&&hd(r,t,a,o),r.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Ns=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return iy(Ns,t)}function fc(t,r){return Ns===null&&Ms(t),iy(t,r)}function iy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Li=Li.next=r;return a}var mR=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},gR=n.unstable_scheduleCallback,_R=n.unstable_NormalPriority,Nt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new mR,data:new Map,refCount:0}}function oo(t){t.refCount--,t.refCount===0&&gR(_R,function(){t.controller.abort()})}var uo=null,pd=0,La=0,Ua=null;function yR(t,r){if(uo===null){var a=uo=[];pd=0,La=gp(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pd++,r.then(ry,ry),r}function ry(){if(--pd===0&&uo!==null){Ua!==null&&(Ua.status="fulfilled");var t=uo;uo=null,La=0,Ua=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function vR(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var sy=H.S;H.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yR(t,r),sy!==null&&sy(t,r)};var xs=V(null);function md(){var t=xs.current;return t!==null?t:ct.pooledCache}function hc(t,r){r===null?J(xs,xs.current):J(xs,r.pool)}function ay(){var t=md();return t===null?null:{parent:Nt._currentValue,pool:t}}var co=Error(s(460)),ly=Error(s(474)),dc=Error(s(542)),gd={then:function(){}};function oy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pc(){}function uy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fy(t),t;default:if(typeof r.status=="string")r.then(pc,pc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=o}},function(o){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fy(t),t}throw fo=r,co}}var fo=null;function cy(){if(fo===null)throw Error(s(459));var t=fo;return fo=null,t}function fy(t){if(t===co||t===dc)throw Error(s(483))}var mr=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var f=o.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),o.pending=r,r=ac(t),Z_(t,null,a),r}return sc(t,o,r,a),ac(t)}function ho(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Qu(t,a)}}function vd(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?f=h=r:h=h.next=r}else f=h=r;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var bd=!1;function po(){if(bd){var t=Ua;if(t!==null)throw t}}function mo(t,r,a,o){bd=!1;var f=t.updateQueue;mr=!1;var h=f.firstBaseUpdate,g=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,I=E.next;E.next=null,g===null?h=I:g.next=I,g=E;var B=t.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==g&&(v===null?B.firstBaseUpdate=I:v.next=I,B.lastBaseUpdate=E))}if(h!==null){var q=f.baseState;g=0,B=I=E=null,v=h;do{var k=v.lane&-536870913,P=k!==v.lane;if(P?(qe&k)===k:(o&k)===k){k!==0&&k===La&&(bd=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Te=t,ye=v;k=r;var rt=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){q=Te.call(rt,q,k);break e}q=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,k=typeof Te=="function"?Te.call(rt,q,k):Te,k==null)break e;q=_({},q,k);break e;case 2:mr=!0}}k=v.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=f.callbacks,P===null?f.callbacks=[k]:P.push(k))}else P={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(I=B=P,E=q):B=B.next=P,g|=k;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;P=v,v=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);B===null&&(E=q),f.baseState=E,f.firstBaseUpdate=I,f.lastBaseUpdate=B,h===null&&(f.shared.lanes=0),wr|=g,t.lanes=g,t.memoizedState=q}}function hy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function dy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hy(a[t],r)}var ka=V(null),mc=V(0);function py(t,r){t=Fi,J(mc,t),J(ka,r),Fi=t|r.baseLanes}function Ed(){J(mc,Fi),J(ka,ka.current)}function Sd(){Fi=mc.current,te(ka),te(mc)}var yr=0,Ne=null,nt=null,Rt=null,gc=!1,Pa=!1,Is=!1,_c=0,go=0,ja=null,bR=0;function Ct(){throw Error(s(321))}function Td(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function Cd(t,r,a,o,f,h){return yr=h,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?Zy:$y,Is=!1,h=a(o,f),Is=!1,Pa&&(h=gy(r,a,o,f)),my(t),h}function my(t){H.H=Tc;var r=nt!==null&&nt.next!==null;if(yr=0,Rt=nt=Ne=null,gc=!1,go=0,ja=null,r)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&cc(t)&&(Ut=!0))}function gy(t,r,a,o){Ne=t;var f=0;do{if(Pa&&(ja=null),go=0,Pa=!1,25<=f)throw Error(s(301));if(f+=1,Rt=nt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=AR,h=r(a,o)}while(Pa);return h}function ER(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?_o(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),r}function wd(){var t=_c!==0;return _c=0,t}function Rd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Ad(t){if(gc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}gc=!1}yr=0,Rt=nt=Ne=null,Pa=!1,go=_c=0,ja=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function At(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=Rt===null?Ne.memoizedState:Rt.next;if(r!==null)Rt=r,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var r=go;return go+=1,ja===null&&(ja=[]),t=uy(ja,t,r),r=Ne,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Zy:$y),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===X)return Qt(t)}throw Error(s(438,String(t)))}function Dd(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Od(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=se;return r.index++,a}function ki(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=At();return Nd(r,nt,t)}function Nd(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var g=f.next;f.next=h.next,h.next=g}r.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{r=f.next;var v=g=null,E=null,I=r,B=!1;do{var q=I.lane&-536870913;if(q!==I.lane?(qe&q)===q:(yr&q)===q){var k=I.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),q===La&&(B=!0);else if((yr&k)===k){I=I.next,k===La&&(B=!0);continue}else q={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(v=E=q,g=h):E=E.next=q,Ne.lanes|=k,wr|=k;q=I.action,Is&&a(h,q),h=I.hasEagerState?I.eagerState:a(h,q)}else k={lane:q,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(v=E=k,g=h):E=E.next=k,Ne.lanes|=q,wr|=q;I=I.next}while(I!==null&&I!==r);if(E===null?g=h:E.next=v,!vn(h,t.memoizedState)&&(Ut=!0,B&&(a=Ua,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=E,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Md(t){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=r.memoizedState;if(f!==null){a.pending=null;var g=f=f.next;do h=t(h,g.action),g=g.next;while(g!==f);vn(h,r.memoizedState)||(Ut=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,o]}function _y(t,r,a){var o=Ne,f=At(),h=Qe;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!vn((nt||f).memoizedState,a);g&&(f.memoizedState=a,Ut=!0),f=f.queue;var v=by.bind(null,o,f,t);if(yo(2048,8,v,[t]),f.getSnapshot!==r||g||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,za(9,bc(),vy.bind(null,o,f,a,r),null),ct===null)throw Error(s(349));h||(yr&124)!==0||yy(o,r,a)}return a}function yy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Od(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function vy(t,r,a,o){r.value=a,r.getSnapshot=o,Ey(r)&&Sy(t)}function by(t,r,a){return a(function(){Ey(r)&&Sy(t)})}function Ey(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function Sy(t){var r=Na(t,2);r!==null&&wn(r,t,2)}function xd(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),Is){Ft(!0);try{a()}finally{Ft(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},r}function Ty(t,r,a,o){return t.baseState=a,Nd(t,nt,typeof o=="function"?o:ki)}function SR(t,r,a,o,f){if(Sc(t))throw Error(s(485));if(t=r.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,o(h),a=r.pending,a===null?(h.next=r.pending=h,Cy(r,h)):(h.next=a.next,r.pending=a.next=h)}}function Cy(t,r){var a=r.action,o=r.payload,f=t.state;if(r.isTransition){var h=H.T,g={};H.T=g;try{var v=a(f,o),E=H.S;E!==null&&E(g,v),wy(t,r,v)}catch(I){Id(t,r,I)}finally{H.T=h}}else try{h=a(f,o),wy(t,r,h)}catch(I){Id(t,r,I)}}function wy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ry(t,r,o)},function(o){return Id(t,r,o)}):Ry(t,r,a)}function Ry(t,r,a){r.status="fulfilled",r.value=a,Ay(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Cy(t,a)))}function Id(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Ay(r),r=r.next;while(r!==o)}t.action=null}function Ay(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Oy(t,r){return r}function Dy(t,r){if(Qe){var a=ct.formState;if(a!==null){e:{var o=Ne;if(Qe){if(vt){t:{for(var f=vt,h=fi;f.nodeType!==8;){if(!h){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){vt=Yn(f.nextSibling),o=f.data==="F!";break e}}Ds(o)}o=!1}o&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:r},a.queue=o,a=Ky.bind(null,Ne,o),o.dispatch=a,o=xd(!1),h=jd.bind(null,Ne,!1,o.queue),o=ln(),f={state:r,dispatch:null,action:t,pending:null},o.queue=f,a=SR.bind(null,Ne,f,h,a),f.dispatch=a,o.memoizedState=t,[r,a,!1]}function Ny(t){var r=At();return My(r,nt,t)}function My(t,r,a){if(r=Nd(t,r,Oy)[0],t=vc(ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=_o(r)}catch(g){throw g===co?dc:g}else o=r;r=At();var f=r.queue,h=f.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,za(9,bc(),TR.bind(null,f,a),null)),[o,h,t]}function TR(t,r){t.action=r}function xy(t){var r=At(),a=nt;if(a!==null)return My(r,a,t);At(),r=r.memoizedState,a=At();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function za(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Od(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function bc(){return{destroy:void 0,resource:void 0}}function Iy(){return At().memoizedState}function Ec(t,r,a,o){var f=ln();o=o===void 0?null:o,Ne.flags|=t,f.memoizedState=za(1|r,bc(),a,o)}function yo(t,r,a,o){var f=At();o=o===void 0?null:o;var h=f.memoizedState.inst;nt!==null&&o!==null&&Td(o,nt.memoizedState.deps)?f.memoizedState=za(r,h,a,o):(Ne.flags|=t,f.memoizedState=za(1|r,h,a,o))}function Ly(t,r){Ec(8390656,8,t,r)}function Uy(t,r){yo(2048,8,t,r)}function ky(t,r){return yo(4,2,t,r)}function Py(t,r){return yo(4,4,t,r)}function jy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zy(t,r,a){a=a!=null?a.concat([t]):null,yo(4,4,jy.bind(null,r,t),a)}function Ld(){}function Hy(t,r){var a=At();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Td(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function By(t,r){var a=At();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Td(r,o[1]))return o[0];if(o=t(),Is){Ft(!0);try{t()}finally{Ft(!1)}}return a.memoizedState=[o,r],o}function Ud(t,r,a){return a===void 0||(yr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Vv(),Ne.lanes|=t,wr|=t,a)}function Fy(t,r,a,o){return vn(a,r)?a:ka.current!==null?(t=Ud(t,a,o),vn(t,r)||(Ut=!0),t):(yr&42)===0?(Ut=!0,t.memoizedState=a):(t=Vv(),Ne.lanes|=t,wr|=t,r)}function qy(t,r,a,o,f){var h=ie.p;ie.p=h!==0&&8>h?h:8;var g=H.T,v={};H.T=v,jd(t,!1,r,a);try{var E=f(),I=H.S;if(I!==null&&I(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=vR(E,o);vo(t,r,B,Cn(t))}else vo(t,r,o,Cn(t))}catch(q){vo(t,r,{then:function(){},status:"rejected",reason:q},Cn())}finally{ie.p=h,H.T=g}}function CR(){}function kd(t,r,a,o){if(t.tag!==5)throw Error(s(476));var f=Vy(t).queue;qy(t,f,r,le,a===null?CR:function(){return Gy(t),a(o)})}function Vy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:le},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gy(t){var r=Vy(t).next.queue;vo(t,r,{},Cn())}function Pd(){return Qt(Po)}function Yy(){return At().memoizedState}function Qy(){return At().memoizedState}function wR(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();t=gr(a);var o=_r(r,t,a);o!==null&&(wn(o,r,a),ho(o,r,a)),r={cache:dd()},t.payload=r;return}r=r.return}}function RR(t,r,a){var o=Cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Wy(r,a):(a=id(t,r,a,o),a!==null&&(wn(a,t,o),Xy(a,r,o)))}function Ky(t,r,a){var o=Cn();vo(t,r,a,o)}function vo(t,r,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Wy(r,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var g=r.lastRenderedState,v=h(g,a);if(f.hasEagerState=!0,f.eagerState=v,vn(v,g))return sc(t,r,f,0),ct===null&&rc(),!1}catch{}finally{}if(a=id(t,r,f,o),a!==null)return wn(a,t,o),Xy(a,r,o),!0}return!1}function jd(t,r,a,o){if(o={lane:2,revertLane:gp(),action:o,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(r)throw Error(s(479))}else r=id(t,a,o,2),r!==null&&wn(r,t,2)}function Sc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Wy(t,r){Pa=gc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Xy(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Qu(t,a)}}var Tc={readContext:Qt,use:yc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Zy={readContext:Qt,use:yc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:Ly,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,jy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ec(4194308,4,t,r)},useInsertionEffect:function(t,r){Ec(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var o=t();if(Is){Ft(!0);try{t()}finally{Ft(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=ln();if(a!==void 0){var f=a(r);if(Is){Ft(!0);try{a(r)}finally{Ft(!1)}}}else f=r;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=RR.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=xd(t);var r=t.queue,a=Ky.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,r){var a=ln();return Ud(a,t,r)},useTransition:function(){var t=xd(!1);return t=qy.bind(null,Ne,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=Ne,f=ln();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(qe&124)!==0||yy(o,r,a)}f.memoizedState=a;var h={value:a,getSnapshot:r};return f.queue=h,Ly(by.bind(null,o,h,t),[t]),o.flags|=2048,za(9,bc(),vy.bind(null,o,h,a,r),null),a},useId:function(){var t=ln(),r=ct.identifierPrefix;if(Qe){var a=Ii,o=xi;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,r=""+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=bR++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Pd,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:Dd,useCacheRefresh:function(){return ln().memoizedState=wR.bind(null,Ne)}},$y={readContext:Qt,use:yc,useCallback:Hy,useContext:Qt,useEffect:Uy,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:By,useReducer:vc,useRef:Iy,useState:function(){return vc(ki)},useDebugValue:Ld,useDeferredValue:function(t,r){var a=At();return Fy(a,nt.memoizedState,t,r)},useTransition:function(){var t=vc(ki)[0],r=At().memoizedState;return[typeof t=="boolean"?t:_o(t),r]},useSyncExternalStore:_y,useId:Yy,useHostTransitionStatus:Pd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,r){var a=At();return Ty(a,nt,t,r)},useMemoCache:Dd,useCacheRefresh:Qy},AR={readContext:Qt,use:yc,useCallback:Hy,useContext:Qt,useEffect:Uy,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:By,useReducer:Md,useRef:Iy,useState:function(){return Md(ki)},useDebugValue:Ld,useDeferredValue:function(t,r){var a=At();return nt===null?Ud(a,t,r):Fy(a,nt.memoizedState,t,r)},useTransition:function(){var t=Md(ki)[0],r=At().memoizedState;return[typeof t=="boolean"?t:_o(t),r]},useSyncExternalStore:_y,useId:Yy,useHostTransitionStatus:Pd,useFormState:xy,useActionState:xy,useOptimistic:function(t,r){var a=At();return nt!==null?Ty(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:Qy},Ha=null,bo=0;function Cc(t){var r=bo;return bo+=1,Ha===null&&(Ha=[]),uy(Ha,t,r)}function Eo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function wc(t,r){throw r.$$typeof===y?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Jy(t){var r=t._init;return r(t._payload)}function ev(t){function r(N,R){if(t){var M=N.deletions;M===null?(N.deletions=[R],N.flags|=16):M.push(R)}}function a(N,R){if(!t)return null;for(;R!==null;)r(N,R),R=R.sibling;return null}function o(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=Mi(N,R),N.index=0,N.sibling=null,N}function h(N,R,M){return N.index=M,t?(M=N.alternate,M!==null?(M=M.index,M<R?(N.flags|=67108866,R):M):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function g(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function v(N,R,M,F){return R===null||R.tag!==6?(R=sd(M,N.mode,F),R.return=N,R):(R=f(R,M),R.return=N,R)}function E(N,R,M,F){var he=M.type;return he===O?B(N,R,M.props.children,F,M.key):R!==null&&(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Jy(he)===R.type)?(R=f(R,M.props),Eo(R,M),R.return=N,R):(R=lc(M.type,M.key,M.props,null,N.mode,F),Eo(R,M),R.return=N,R)}function I(N,R,M,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=ad(M,N.mode,F),R.return=N,R):(R=f(R,M.children||[]),R.return=N,R)}function B(N,R,M,F,he){return R===null||R.tag!==7?(R=ws(M,N.mode,F,he),R.return=N,R):(R=f(R,M),R.return=N,R)}function q(N,R,M){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=sd(""+R,N.mode,M),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return M=lc(R.type,R.key,R.props,null,N.mode,M),Eo(M,R),M.return=N,M;case S:return R=ad(R,N.mode,M),R.return=N,R;case Z:var F=R._init;return R=F(R._payload),q(N,R,M)}if(ut(R)||we(R))return R=ws(R,N.mode,M,null),R.return=N,R;if(typeof R.then=="function")return q(N,Cc(R),M);if(R.$$typeof===X)return q(N,fc(N,R),M);wc(N,R)}return null}function k(N,R,M,F){var he=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return he!==null?null:v(N,R,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return M.key===he?E(N,R,M,F):null;case S:return M.key===he?I(N,R,M,F):null;case Z:return he=M._init,M=he(M._payload),k(N,R,M,F)}if(ut(M)||we(M))return he!==null?null:B(N,R,M,F,null);if(typeof M.then=="function")return k(N,R,Cc(M),F);if(M.$$typeof===X)return k(N,R,fc(N,M),F);wc(N,M)}return null}function P(N,R,M,F,he){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return N=N.get(M)||null,v(R,N,""+F,he);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return N=N.get(F.key===null?M:F.key)||null,E(R,N,F,he);case S:return N=N.get(F.key===null?M:F.key)||null,I(R,N,F,he);case Z:var xe=F._init;return F=xe(F._payload),P(N,R,M,F,he)}if(ut(F)||we(F))return N=N.get(M)||null,B(R,N,F,he,null);if(typeof F.then=="function")return P(N,R,M,Cc(F),he);if(F.$$typeof===X)return P(N,R,M,fc(R,F),he);wc(R,F)}return null}function Te(N,R,M,F){for(var he=null,xe=null,pe=R,ve=R=0,Pt=null;pe!==null&&ve<M.length;ve++){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var Ge=k(N,pe,M[ve],F);if(Ge===null){pe===null&&(pe=Pt);break}t&&pe&&Ge.alternate===null&&r(N,pe),R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge,pe=Pt}if(ve===M.length)return a(N,pe),Qe&&As(N,ve),he;if(pe===null){for(;ve<M.length;ve++)pe=q(N,M[ve],F),pe!==null&&(R=h(pe,R,ve),xe===null?he=pe:xe.sibling=pe,xe=pe);return Qe&&As(N,ve),he}for(pe=o(pe);ve<M.length;ve++)Pt=P(pe,N,ve,M[ve],F),Pt!==null&&(t&&Pt.alternate!==null&&pe.delete(Pt.key===null?ve:Pt.key),R=h(Pt,R,ve),xe===null?he=Pt:xe.sibling=Pt,xe=Pt);return t&&pe.forEach(function(Lr){return r(N,Lr)}),Qe&&As(N,ve),he}function ye(N,R,M,F){if(M==null)throw Error(s(151));for(var he=null,xe=null,pe=R,ve=R=0,Pt=null,Ge=M.next();pe!==null&&!Ge.done;ve++,Ge=M.next()){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var Lr=k(N,pe,Ge.value,F);if(Lr===null){pe===null&&(pe=Pt);break}t&&pe&&Lr.alternate===null&&r(N,pe),R=h(Lr,R,ve),xe===null?he=Lr:xe.sibling=Lr,xe=Lr,pe=Pt}if(Ge.done)return a(N,pe),Qe&&As(N,ve),he;if(pe===null){for(;!Ge.done;ve++,Ge=M.next())Ge=q(N,Ge.value,F),Ge!==null&&(R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge);return Qe&&As(N,ve),he}for(pe=o(pe);!Ge.done;ve++,Ge=M.next())Ge=P(pe,N,ve,Ge.value,F),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?ve:Ge.key),R=h(Ge,R,ve),xe===null?he=Ge:xe.sibling=Ge,xe=Ge);return t&&pe.forEach(function(OA){return r(N,OA)}),Qe&&As(N,ve),he}function rt(N,R,M,F){if(typeof M=="object"&&M!==null&&M.type===O&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case b:e:{for(var he=M.key;R!==null;){if(R.key===he){if(he=M.type,he===O){if(R.tag===7){a(N,R.sibling),F=f(R,M.props.children),F.return=N,N=F;break e}}else if(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Jy(he)===R.type){a(N,R.sibling),F=f(R,M.props),Eo(F,M),F.return=N,N=F;break e}a(N,R);break}else r(N,R);R=R.sibling}M.type===O?(F=ws(M.props.children,N.mode,F,M.key),F.return=N,N=F):(F=lc(M.type,M.key,M.props,null,N.mode,F),Eo(F,M),F.return=N,N=F)}return g(N);case S:e:{for(he=M.key;R!==null;){if(R.key===he)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){a(N,R.sibling),F=f(R,M.children||[]),F.return=N,N=F;break e}else{a(N,R);break}else r(N,R);R=R.sibling}F=ad(M,N.mode,F),F.return=N,N=F}return g(N);case Z:return he=M._init,M=he(M._payload),rt(N,R,M,F)}if(ut(M))return Te(N,R,M,F);if(we(M)){if(he=we(M),typeof he!="function")throw Error(s(150));return M=he.call(M),ye(N,R,M,F)}if(typeof M.then=="function")return rt(N,R,Cc(M),F);if(M.$$typeof===X)return rt(N,R,fc(N,M),F);wc(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,R!==null&&R.tag===6?(a(N,R.sibling),F=f(R,M),F.return=N,N=F):(a(N,R),F=sd(M,N.mode,F),F.return=N,N=F),g(N)):a(N,R)}return function(N,R,M,F){try{bo=0;var he=rt(N,R,M,F);return Ha=null,he}catch(pe){if(pe===co||pe===dc)throw pe;var xe=bn(29,pe,null,N.mode);return xe.lanes=F,xe.return=N,xe}finally{}}}var Ba=ev(!0),tv=ev(!1),Pn=V(null),hi=null;function vr(t){var r=t.alternate;J(Mt,Mt.current&1),J(Pn,t),hi===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(hi=t)}function nv(t){if(t.tag===22){if(J(Mt,Mt.current),J(Pn,t),hi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hi=t)}}else br()}function br(){J(Mt,Mt.current),J(Pn,Pn.current)}function Pi(t){te(Pn),hi===t&&(hi=null),te(Mt)}var Mt=V(0);function Rc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Op(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function zd(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Cn(),f=gr(o);f.payload=r,a!=null&&(f.callback=a),r=_r(t,f,o),r!==null&&(wn(r,t,o),ho(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Cn(),f=gr(o);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=_r(t,f,o),r!==null&&(wn(r,t,o),ho(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Cn(),o=gr(a);o.tag=2,r!=null&&(o.callback=r),r=_r(t,o,a),r!==null&&(wn(r,t,a),ho(r,t,a))}};function iv(t,r,a,o,f,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):r.prototype&&r.prototype.isPureReactComponent?!no(a,o)||!no(f,h):!0}function rv(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Hd.enqueueReplaceState(r,r.state,null)}function Ls(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sv(t){Ac(t)}function av(t){console.error(t)}function lv(t){Ac(t)}function Oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function ov(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bd(t,r,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,r)},a}function uv(t){return t=gr(t),t.tag=3,t}function cv(t,r,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){ov(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ov(r,a,o),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function OR(t,r,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&lo(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return hi===null?fp():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===gd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),dp(t,o,f)),!1;case 22:return a.flags|=65536,o===gd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),dp(t,o,f)),!1}throw Error(s(435,a.tag))}return dp(t,o,f),fp(),!1}if(Qe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,o!==ud&&(t=Error(s(422),{cause:o}),ao(In(t,a)))):(o!==ud&&(r=Error(s(423),{cause:o}),ao(In(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=In(o,a),f=Bd(t.stateNode,o,f),vd(t,f),bt!==4&&(bt=2)),!1;var h=Error(s(520),{cause:o});if(h=In(h,a),Oo===null?Oo=[h]:Oo.push(h),bt!==4&&(bt=2),r===null)return!0;o=In(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Bd(a.stateNode,o,t),vd(a,t),!1;case 1:if(r=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Rr===null||!Rr.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=uv(f),cv(f,t,a,o),vd(a,f),!1}a=a.return}while(a!==null);return!1}var fv=Error(s(461)),Ut=!1;function qt(t,r,a,o){r.child=t===null?tv(r,null,a,o):Ba(r,t.child,a,o)}function hv(t,r,a,o,f){a=a.render;var h=r.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ms(r),o=Cd(t,r,a,g,h,f),v=wd(),t!==null&&!Ut?(Rd(t,r,f),ji(t,r,f)):(Qe&&v&&ld(r),r.flags|=1,qt(t,r,o,f),r.child)}function dv(t,r,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!rd(h)&&h.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=h,pv(t,r,h,o,f)):(t=lc(a.type,null,o,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!Wd(t,f)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(g,o)&&t.ref===r.ref)return ji(t,r,f)}return r.flags|=1,t=Mi(h,o),t.ref=r.ref,t.return=r,r.child=t}function pv(t,r,a,o,f){if(t!==null){var h=t.memoizedProps;if(no(h,o)&&t.ref===r.ref)if(Ut=!1,r.pendingProps=o=h,Wd(t,f))(t.flags&131072)!==0&&(Ut=!0);else return r.lanes=t.lanes,ji(t,r,f)}return Fd(t,r,a,o,f)}function mv(t,r,a){var o=r.pendingProps,f=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=h!==null?h.baseLanes|a:a,t!==null){for(f=r.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;r.childLanes=h&~o}else r.childLanes=0,r.child=null;return gv(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(r,h!==null?h.cachePool:null),h!==null?py(r,h):Ed(),nv(r);else return r.lanes=r.childLanes=536870912,gv(t,r,h!==null?h.baseLanes|a:a,a)}else h!==null?(hc(r,h.cachePool),py(r,h),br(),r.memoizedState=null):(t!==null&&hc(r,null),Ed(),br());return qt(t,r,f,a),r.child}function gv(t,r,a,o){var f=md();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&hc(r,null),Ed(),nv(r),t!==null&&lo(t,r,o,!0),null}function Dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Fd(t,r,a,o,f){return Ms(r),a=Cd(t,r,a,o,void 0,f),o=wd(),t!==null&&!Ut?(Rd(t,r,f),ji(t,r,f)):(Qe&&o&&ld(r),r.flags|=1,qt(t,r,a,f),r.child)}function _v(t,r,a,o,f,h){return Ms(r),r.updateQueue=null,a=gy(r,o,a,f),my(t),o=wd(),t!==null&&!Ut?(Rd(t,r,h),ji(t,r,h)):(Qe&&o&&ld(r),r.flags|=1,qt(t,r,a,h),r.child)}function yv(t,r,a,o,f){if(Ms(r),r.stateNode===null){var h=Ma,g=a.contextType;typeof g=="object"&&g!==null&&(h=Qt(g)),h=new a(o,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Hd,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=o,h.state=r.memoizedState,h.refs={},_d(r),g=a.contextType,h.context=typeof g=="object"&&g!==null?Qt(g):Ma,h.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zd(r,a,g,o),h.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Hd.enqueueReplaceState(h,h.state,null),mo(r,o,h,f),po(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){h=r.stateNode;var v=r.memoizedProps,E=Ls(a,v);h.props=E;var I=h.context,B=a.contextType;g=Ma,typeof B=="object"&&B!==null&&(g=Qt(B));var q=a.getDerivedStateFromProps;B=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||I!==g)&&rv(r,h,o,g),mr=!1;var k=r.memoizedState;h.state=k,mo(r,o,h,f),po(),I=r.memoizedState,v||k!==I||mr?(typeof q=="function"&&(zd(r,a,q,o),I=r.memoizedState),(E=mr||iv(r,a,E,o,k,I,g))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=I),h.props=o,h.state=I,h.context=g,o=E):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{h=r.stateNode,yd(t,r),g=r.memoizedProps,B=Ls(a,g),h.props=B,q=r.pendingProps,k=h.context,I=a.contextType,E=Ma,typeof I=="object"&&I!==null&&(E=Qt(I)),v=a.getDerivedStateFromProps,(I=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==q||k!==E)&&rv(r,h,o,E),mr=!1,k=r.memoizedState,h.state=k,mo(r,o,h,f),po();var P=r.memoizedState;g!==q||k!==P||mr||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof v=="function"&&(zd(r,a,v,o),P=r.memoizedState),(B=mr||iv(r,a,B,o,k,P,E)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,P,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,P,E)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=P),h.props=o,h.state=P,h.context=E,o=B):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),o=!1)}return h=o,Dc(t,r),o=(r.flags&128)!==0,h||o?(h=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,t!==null&&o?(r.child=Ba(r,t.child,null,f),r.child=Ba(r,null,a,f)):qt(t,r,a,f),r.memoizedState=h.state,t=r.child):t=ji(t,r,f),t}function vv(t,r,a,o){return so(),r.flags|=256,qt(t,r,a,o),r.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(t){return{baseLanes:t,cachePool:ay()}}function Gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=jn),t}function bv(t,r,a){var o=r.pendingProps,f=!1,h=(r.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(f=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(f?vr(r):br(),Qe){var v=vt,E;if(E=v){e:{for(E=v,v=fi;E.nodeType!==8;){if(!v){v=null;break e}if(E=Yn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(r.memoizedState={dehydrated:v,treeContext:Rs!==null?{id:xi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},E=bn(18,null,null,0),E.stateNode=v,E.return=r,r.child=E,$t=r,vt=null,E=!0):E=!1}E||Ds(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Op(v)?r.lanes=32:r.lanes=536870912,null;Pi(r)}return v=o.children,o=o.fallback,f?(br(),f=r.mode,v=Nc({mode:"hidden",children:v},f),o=ws(o,f,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,f=r.child,f.memoizedState=Vd(a),f.childLanes=Gd(t,g,a),r.memoizedState=qd,o):(vr(r),Yd(r,v))}if(E=t.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(h)r.flags&256?(vr(r),r.flags&=-257,r=Qd(t,r,a)):r.memoizedState!==null?(br(),r.child=t.child,r.flags|=128,r=null):(br(),f=o.fallback,v=r.mode,o=Nc({mode:"visible",children:o.children},v),f=ws(f,v,a,null),f.flags|=2,o.return=r,f.return=r,o.sibling=f,r.child=o,Ba(r,t.child,null,a),o=r.child,o.memoizedState=Vd(a),o.childLanes=Gd(t,g,a),r.memoizedState=qd,r=f);else if(vr(r),Op(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var I=g.dgst;g=I,o=Error(s(419)),o.stack="",o.digest=g,ao({value:o,source:null,stack:null}),r=Qd(t,r,a)}else if(Ut||lo(t,r,a,!1),g=(a&t.childLanes)!==0,Ut||g){if(g=ct,g!==null&&(o=a&-a,o=(o&42)!==0?1:Ea(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,Na(t,o),wn(g,t,o),fv;v.data==="$?"||fp(),r=Qd(t,r,a)}else v.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=E.treeContext,vt=Yn(v.nextSibling),$t=r,Qe=!0,Os=null,fi=!1,t!==null&&(Un[kn++]=xi,Un[kn++]=Ii,Un[kn++]=Rs,xi=t.id,Ii=t.overflow,Rs=r),r=Yd(r,o.children),r.flags|=4096);return r}return f?(br(),f=o.fallback,v=r.mode,E=t.child,I=E.sibling,o=Mi(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,I!==null?f=Mi(I,f):(f=ws(f,v,a,null),f.flags|=2),f.return=r,o.return=r,o.sibling=f,r.child=o,o=f,f=r.child,v=t.child.memoizedState,v===null?v=Vd(a):(E=v.cachePool,E!==null?(I=Nt._currentValue,E=E.parent!==I?{parent:I,pool:I}:E):E=ay(),v={baseLanes:v.baseLanes|a,cachePool:E}),f.memoizedState=v,f.childLanes=Gd(t,g,a),r.memoizedState=qd,o):(vr(r),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function Yd(t,r){return r=Nc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nc(t,r){return t=bn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qd(t,r,a){return Ba(r,t.child,null,a),t=Yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ev(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),fd(t.return,r,a)}function Kd(t,r,a,o,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=f)}function Sv(t,r,a){var o=r.pendingProps,f=o.revealOrder,h=o.tail;if(qt(t,r,o.children,a),o=Mt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,a,r);else if(t.tag===19)Ev(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(Mt,o),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kd(r,!1,f,a,h);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Rc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Kd(r,!0,a,null,h);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ji(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),wr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(lo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Mi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Wd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function DR(t,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),pr(r,Nt,t.memoizedState.cache),so();break;case 27:case 5:Vl(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?bv(t,r,a):(vr(r),t=ji(t,r,a),t!==null?t.sibling:null);vr(r);break;case 19:var f=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(lo(t,r,a,!1),o=(a&r.childLanes)!==0),f){if(o)return Sv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Mt,Mt.current),o)break;return null;case 22:case 23:return r.lanes=0,mv(t,r,a);case 24:pr(r,Nt,t.memoizedState.cache)}return ji(t,r,a)}function Tv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Wd(t,a)&&(r.flags&128)===0)return Ut=!1,DR(t,r,a);Ut=(t.flags&131072)!==0}else Ut=!1,Qe&&(r.flags&1048576)!==0&&J_(r,uc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,f=o._init;if(o=f(o._payload),r.type=o,typeof o=="function")rd(o)?(t=Ls(o,t),r.tag=1,r=yv(null,r,o,t,a)):(r.tag=0,r=Fd(null,r,o,t,a));else{if(o!=null){if(f=o.$$typeof,f===K){r.tag=11,r=hv(null,r,o,t,a);break e}else if(f===L){r.tag=14,r=dv(null,r,o,t,a);break e}}throw r=_t(o)||o,Error(s(306,r,""))}}return r;case 0:return Fd(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,f=Ls(o,r.pendingProps),yv(t,r,o,f,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var h=r.memoizedState;f=h.element,yd(t,r),mo(r,o,null,a);var g=r.memoizedState;if(o=g.cache,pr(r,Nt,o),o!==h.cache&&hd(r,[Nt],a,!0),po(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=vv(t,r,o,a);break e}else if(o!==f){f=In(Error(s(424)),r),ao(f),r=vv(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Yn(t.firstChild),$t=r,Qe=!0,Os=null,fi=!0,a=tv(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(so(),o===f){r=ji(t,r,a);break e}qt(t,r,o,a)}r=r.child}return r;case 26:return Dc(t,r),t===null?(a=Ab(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,o=Vc(_e.current).createElement(a),o[T]=r,o[D]=t,Gt(o,a,t),Pe(o),r.stateNode=o):r.memoizedState=Ab(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Vl(r),t===null&&Qe&&(o=r.stateNode=Cb(r.type,r.pendingProps,_e.current),$t=r,fi=!0,f=vt,Dr(r.type)?(Dp=f,vt=Yn(o.firstChild)):vt=f),qt(t,r,r.pendingProps.children,a),Dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((f=o=vt)&&(o=iA(o,r.type,r.pendingProps,fi),o!==null?(r.stateNode=o,$t=r,vt=Yn(o.firstChild),fi=!1,f=!0):f=!1),f||Ds(r)),Vl(r),f=r.type,h=r.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,wp(f,h)?o=null:g!==null&&wp(f,g)&&(r.flags|=32),r.memoizedState!==null&&(f=Cd(t,r,ER,null,null,a),Po._currentValue=f),Dc(t,r),qt(t,r,o,a),r.child;case 6:return t===null&&Qe&&((t=a=vt)&&(a=rA(a,r.pendingProps,fi),a!==null?(r.stateNode=a,$t=r,vt=null,t=!0):t=!1),t||Ds(r)),null;case 13:return bv(t,r,a);case 4:return Xe(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Ba(r,null,o,a):qt(t,r,o,a),r.child;case 11:return hv(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,pr(r,r.type,o.value),qt(t,r,o.children,a),r.child;case 9:return f=r.type._context,o=r.pendingProps.children,Ms(r),f=Qt(f),o=o(f),r.flags|=1,qt(t,r,o,a),r.child;case 14:return dv(t,r,r.type,r.pendingProps,a);case 15:return pv(t,r,r.type,r.pendingProps,a);case 19:return Sv(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=Nc(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Mi(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return mv(t,r,a);case 24:return Ms(r),o=Qt(Nt),t===null?(f=md(),f===null&&(f=ct,h=dd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),r.memoizedState={parent:o,cache:f},_d(r),pr(r,Nt,f)):((t.lanes&a)!==0&&(yd(t,r),mo(r,null,null,a),po()),f=t.memoizedState,h=r.memoizedState,f.parent!==o?(f={parent:o,cache:o},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),pr(r,Nt,o)):(o=h.cache,pr(r,Nt,o),o!==f.cache&&hd(r,[Nt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zi(t){t.flags|=4}function Cv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xb(r)){if(r=Pn.current,r!==null&&((qe&4194048)===qe?hi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==hi))throw fo=gd,ly;t.flags|=8192}}function Mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Yl():536870912,t.lanes|=r,Ga|=r)}function So(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function NR(t,r,a){var o=r.pendingProps;switch(od(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ui(Nt),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(r)?zi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ny())),gt(r),null;case 26:return a=r.memoizedState,t===null?(zi(r),a!==null?(gt(r),Cv(r,a)):(gt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(zi(r),gt(r),Cv(r,a)):(gt(r),r.flags&=-16777217):(t.memoizedProps!==o&&zi(r),gt(r),r.flags&=-16777217),null;case 27:_a(r),a=_e.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&zi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return gt(r),null}t=de.current,ro(r)?ey(r):(t=Cb(f,o,a),r.stateNode=t,zi(r))}return gt(r),null;case 5:if(_a(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&zi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(t=de.current,ro(r))ey(r);else{switch(f=Vc(_e.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}t[T]=r,t[D]=o;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Gt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zi(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&zi(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=_e.current,ro(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,f=$t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[T]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||_b(t.nodeValue,a)),t||Ds(r)}else t=Vc(t).createTextNode(o),t[T]=r,r.stateNode=t}return gt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ro(r),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[T]=r}else so(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else f=ny(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pi(r),r):(Pi(r),null)}if(Pi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Mc(r,r.updateQueue),gt(r),null;case 4:return si(),t===null&&bp(r.stateNode.containerInfo),gt(r),null;case 10:return Ui(r.type),gt(r),null;case 19:if(te(Mt),f=r.memoizedState,f===null)return gt(r),null;if(o=(r.flags&128)!==0,h=f.rendering,h===null)if(o)So(f,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(h=Rc(t),h!==null){for(r.flags|=128,So(f,!1),t=h.updateQueue,r.updateQueue=t,Mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)$_(a,t),a=a.sibling;return J(Mt,Mt.current&1|2),r.child}t=t.sibling}f.tail!==null&&Dn()>Lc&&(r.flags|=128,o=!0,So(f,!1),r.lanes=4194304)}else{if(!o)if(t=Rc(h),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Mc(r,t),So(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Qe)return gt(r),null}else 2*Dn()-f.renderingStartTime>Lc&&a!==536870912&&(r.flags|=128,o=!0,So(f,!1),r.lanes=4194304);f.isBackwards?(h.sibling=r.child,r.child=h):(t=f.last,t!==null?t.sibling=h:r.child=h,f.last=h)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Dn(),r.sibling=null,t=Mt.current,J(Mt,o?t&1|2:t&1),r):(gt(r),null);case 22:case 23:return Pi(r),Sd(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&Mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&te(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ui(Nt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function MR(t,r){switch(od(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ui(Nt),si(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return _a(r),null;case 13:if(Pi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));so()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(Mt),null;case 4:return si(),null;case 10:return Ui(r.type),null;case 22:case 23:return Pi(r),Sd(),t!==null&&te(xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ui(Nt),null;case 25:return null;default:return null}}function wv(t,r){switch(od(r),r.tag){case 3:Ui(Nt),si();break;case 26:case 27:case 5:_a(r);break;case 4:si();break;case 13:Pi(r);break;case 19:te(Mt);break;case 10:Ui(r.type);break;case 22:case 23:Pi(r),Sd(),t!==null&&te(xs);break;case 24:Ui(Nt)}}function To(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==f)}}catch(v){at(r,r.return,v)}}function Er(t,r,a){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,f=r;var E=a,I=v;try{I()}catch(B){at(f,E,B)}}}o=o.next}while(o!==h)}}catch(B){at(r,r.return,B)}}function Rv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{dy(r,a)}catch(o){at(t,t.return,o)}}}function Av(t,r,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,r,o)}}function Co(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){at(t,r,f)}}function di(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){at(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){at(t,r,f)}else a.current=null}function Ov(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){at(t,t.return,f)}}function Xd(t,r,a){try{var o=t.stateNode;$R(o,t.type,a,r),o[D]=r}catch(f){at(t,t.return,f)}}function Dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function Zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=qc));else if(o!==4&&(o===27&&Dr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for($d(t,r,a),t=t.sibling;t!==null;)$d(t,r,a),t=t.sibling}function xc(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,r,a),t=t.sibling;t!==null;)xc(t,r,a),t=t.sibling}function Nv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,o,a),r[T]=t,r[D]=a}catch(h){at(t,t.return,h)}}var Hi=!1,wt=!1,Jd=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function xR(t,r){if(t=t.containerInfo,Tp=Xc,t=F_(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,E=-1,I=0,B=0,q=t,k=null;t:for(;;){for(var P;q!==a||f!==0&&q.nodeType!==3||(v=g+f),q!==h||o!==0&&q.nodeType!==3||(E=g+o),q.nodeType===3&&(g+=q.nodeValue.length),(P=q.firstChild)!==null;)k=q,q=P;for(;;){if(q===t)break t;if(k===a&&++I===f&&(v=g),k===h&&++B===o&&(E=g),(P=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=P}a=v===-1||E===-1?null:{start:v,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cp={focusedElem:t,selectionRange:a},Xc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,h=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=r,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Te=Ls(a.type,f,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Te,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){at(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Ap(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ap(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function xv(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),o&4&&To(5,a);break;case 1:if(Sr(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(g){at(a,a.return,g)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(a,a.return,g)}}o&64&&Rv(a),o&512&&Co(a,a.return);break;case 3:if(Sr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{dy(t,r)}catch(g){at(a,a.return,g)}}break;case 27:r===null&&o&4&&Nv(a);case 26:case 5:Sr(t,a),r===null&&o&4&&Ov(a),o&512&&Co(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),o&4&&Uv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BR.bind(null,a),sA(t,a))));break;case 22:if(o=a.memoizedState!==null||Hi,!o){r=r!==null&&r.memoizedState!==null||wt,f=Hi;var h=wt;Hi=o,(wt=r)&&!h?Tr(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Hi=f,wt=h}break;case 30:break;default:Sr(t,a)}}function Iv(t){var r=t.alternate;r!==null&&(t.alternate=null,Iv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ce(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,on=!1;function Bi(t,r,a){for(a=a.child;a!==null;)Lv(t,r,a),a=a.sibling}function Lv(t,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:wt||di(a,r),Bi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||di(a,r);var o=dt,f=on;Dr(a.type)&&(dt=a.stateNode,on=!1),Bi(t,r,a),Io(a.stateNode),dt=o,on=f;break;case 5:wt||di(a,r);case 6:if(o=dt,f=on,dt=null,Bi(t,r,a),dt=o,on=f,dt!==null)if(on)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(h){at(a,r,h)}else try{dt.removeChild(a.stateNode)}catch(h){at(a,r,h)}break;case 18:dt!==null&&(on?(t=dt,Sb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bo(t)):Sb(dt,a.stateNode));break;case 4:o=dt,f=on,dt=a.stateNode.containerInfo,on=!0,Bi(t,r,a),dt=o,on=f;break;case 0:case 11:case 14:case 15:wt||Er(2,a,r),wt||Er(4,a,r),Bi(t,r,a);break;case 1:wt||(di(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Av(a,r,o)),Bi(t,r,a);break;case 21:Bi(t,r,a);break;case 22:wt=(o=wt)||a.memoizedState!==null,Bi(t,r,a),wt=o;break;default:Bi(t,r,a)}}function Uv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bo(t)}catch(a){at(r,r.return,a)}}function IR(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Mv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Mv),r;default:throw Error(s(435,t.tag))}}function ep(t,r){var a=IR(t);r.forEach(function(o){var f=FR.bind(null,t,o);a.has(o)||(a.add(o),o.then(f,f))})}function En(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Dr(v.type)){dt=v.stateNode,on=!1;break e}break;case 5:dt=v.stateNode,on=!1;break e;case 3:case 4:dt=v.stateNode.containerInfo,on=!0;break e}v=v.return}if(dt===null)throw Error(s(160));Lv(h,g,f),dt=null,on=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)kv(r,t),r=r.sibling}var Gn=null;function kv(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Sn(t),o&4&&(Er(3,t,t.return),To(3,t),Er(5,t,t.return));break;case 1:En(r,t),Sn(t),o&512&&(wt||a===null||di(a,a.return)),o&64&&Hi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Gn;if(En(r,t),Sn(t),o&512&&(wt||a===null||di(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[oe]||h[T]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),Gt(h,o,a),h[T]=t,Pe(h),o=h;break e;case"link":var g=Nb("link","href",f).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}h=f.createElement(o),Gt(h,o,a),f.head.appendChild(h);break;case"meta":if(g=Nb("meta","content",f).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}h=f.createElement(o),Gt(h,o,a),f.head.appendChild(h);break;default:throw Error(s(468,o))}h[T]=t,Pe(h),o=h}t.stateNode=o}else Mb(f,t.type,t.stateNode);else t.stateNode=Db(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?Mb(f,t.type,t.stateNode):Db(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Sn(t),o&512&&(wt||a===null||di(a,a.return)),a!==null&&o&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Sn(t),o&512&&(wt||a===null||di(a,a.return)),t.flags&32){f=t.stateNode;try{Ta(f,"")}catch(P){at(t,t.return,P)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Jd=!0);break;case 6:if(En(r,t),Sn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(P){at(t,t.return,P)}}break;case 3:if(Qc=null,f=Gn,Gn=Gc(r.containerInfo),En(r,t),Gn=f,Sn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Bo(r.containerInfo)}catch(P){at(t,t.return,P)}Jd&&(Jd=!1,Pv(t));break;case 4:o=Gn,Gn=Gc(t.stateNode.containerInfo),En(r,t),Sn(t),Gn=o;break;case 12:En(r,t),Sn(t);break;case 13:En(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ap=Dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ep(t,o)));break;case 22:f=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,I=Hi,B=wt;if(Hi=I||f,wt=B||E,En(r,t),wt=B,Hi=I,Sn(t),o&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||E||Hi||wt||Us(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){E=a=r;try{if(h=E.stateNode,f)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var q=E.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(P){at(E,E.return,P)}}}else if(r.tag===6){if(a===null){E=r;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(P){at(E,E.return,P)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ep(t,a))));break;case 19:En(r,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ep(t,o)));break;case 30:break;case 21:break;default:En(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Dv(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=Zd(t);xc(t,h,f);break;case 5:var g=a.stateNode;a.flags&32&&(Ta(g,""),a.flags&=-33);var v=Zd(t);xc(t,v,g);break;case 3:case 4:var E=a.stateNode.containerInfo,I=Zd(t);$d(t,I,E);break;default:throw Error(s(161))}}catch(B){at(t,t.return,B)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Pv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xv(t,r.alternate,r),r=r.sibling}function Us(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Us(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Av(r,r.return,a),Us(r);break;case 27:Io(r.stateNode);case 26:case 5:di(r,r.return),Us(r);break;case 22:r.memoizedState===null&&Us(r);break;case 30:Us(r);break;default:Us(r)}t=t.sibling}}function Tr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,f=t,h=r,g=h.flags;switch(h.tag){case 0:case 11:case 15:Tr(f,h,a),To(4,h);break;case 1:if(Tr(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){at(o,o.return,I)}if(o=h,f=o.updateQueue,f!==null){var v=o.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)hy(E[f],v)}catch(I){at(o,o.return,I)}}a&&g&64&&Rv(h),Co(h,h.return);break;case 27:Nv(h);case 26:case 5:Tr(f,h,a),a&&o===null&&g&4&&Ov(h),Co(h,h.return);break;case 12:Tr(f,h,a);break;case 13:Tr(f,h,a),a&&g&4&&Uv(f,h);break;case 22:h.memoizedState===null&&Tr(f,h,a),Co(h,h.return);break;case 30:break;default:Tr(f,h,a)}r=r.sibling}}function tp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&oo(a))}function np(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&oo(t))}function pi(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jv(t,r,a,o),r=r.sibling}function jv(t,r,a,o){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(t,r,a,o),f&2048&&To(9,r);break;case 1:pi(t,r,a,o);break;case 3:pi(t,r,a,o),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&oo(t)));break;case 12:if(f&2048){pi(t,r,a,o),t=r.stateNode;try{var h=r.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){at(r,r.return,E)}}else pi(t,r,a,o);break;case 13:pi(t,r,a,o);break;case 23:break;case 22:h=r.stateNode,g=r.alternate,r.memoizedState!==null?h._visibility&2?pi(t,r,a,o):wo(t,r):h._visibility&2?pi(t,r,a,o):(h._visibility|=2,Fa(t,r,a,o,(r.subtreeFlags&10256)!==0)),f&2048&&tp(g,r);break;case 24:pi(t,r,a,o),f&2048&&np(r.alternate,r);break;default:pi(t,r,a,o)}}function Fa(t,r,a,o,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var h=t,g=r,v=a,E=o,I=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(h,g,v,E,f),To(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Fa(h,g,v,E,f):wo(h,g):(B._visibility|=2,Fa(h,g,v,E,f)),f&&I&2048&&tp(g.alternate,g);break;case 24:Fa(h,g,v,E,f),f&&I&2048&&np(g.alternate,g);break;default:Fa(h,g,v,E,f)}r=r.sibling}}function wo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,f=o.flags;switch(o.tag){case 22:wo(a,o),f&2048&&tp(o.alternate,o);break;case 24:wo(a,o),f&2048&&np(o.alternate,o);break;default:wo(a,o)}r=r.sibling}}var Ro=8192;function qa(t){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)zv(t),t=t.sibling}function zv(t){switch(t.tag){case 26:qa(t),t.flags&Ro&&t.memoizedState!==null&&yA(Gn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var r=Gn;Gn=Gc(t.stateNode.containerInfo),qa(t),Gn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ro,Ro=16777216,qa(t),Ro=r):qa(t));break;default:qa(t)}}function Hv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ao(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];kt=o,Fv(o,t)}Hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bv(t),t=t.sibling}function Bv(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&Er(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Ao(t);break;default:Ao(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];kt=o,Fv(o,t)}Hv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Er(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function Fv(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Er(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,kt=o;else e:for(a=t;kt!==null;){o=kt;var f=o.sibling,h=o.return;if(Iv(o),o===a){kt=null;break e}if(f!==null){f.return=h,kt=f;break e}kt=h}}}var LR={getCacheForType:function(t){var r=Qt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},UR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Le=null,qe=0,et=0,Tn=null,Cr=!1,Va=!1,ip=!1,Fi=0,bt=0,wr=0,ks=0,rp=0,jn=0,Ga=0,Oo=null,un=null,sp=!1,ap=0,Lc=1/0,Uc=null,Rr=null,Vt=0,Ar=null,Ya=null,Qa=0,lp=0,op=null,qv=null,Do=0,up=null;function Cn(){if((Je&2)!==0&&qe!==0)return qe&-qe;if(H.T!==null){var t=La;return t!==0?t:gp()}return bs()}function Vv(){jn===0&&(jn=(qe&536870912)===0||Qe?ys():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),jn}function wn(t,r,a){(t===ct&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Or(t,qe,jn,!1)),Ai(t,a),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(ks|=a),bt===4&&Or(t,qe,jn,!1)),mi(t))}function Gv(t,r,a){if((Je&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||_s(t,r),f=o?jR(t,r):hp(t,r,!0),h=o;do{if(f===0){Va&&!o&&Or(t,r,0,!1);break}else{if(a=t.current.alternate,h&&!kR(a)){f=hp(t,r,!1),h=!1;continue}if(f===2){if(h=r,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var v=t;f=Oo;var E=v.current.memoizedState.isDehydrated;if(E&&(Ka(v,g).flags|=256),g=hp(v,g,!1),g!==2){if(ip&&!E){v.errorRecoveryDisabledLanes|=h,ks|=h,f=4;break e}h=un,un=f,h!==null&&(un===null?un=h:un.push.apply(un,h))}f=g}if(h=!1,f!==2)continue}}if(f===1){Ka(t,0),Or(t,r,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(o,r,jn,!Cr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ap+300-Dn(),10<f)){if(Or(o,r,jn,!Cr),gs(o,0,!0)!==0)break e;o.timeoutHandle=bb(Yv.bind(null,o,a,un,Uc,sp,r,jn,ks,Ga,Cr,h,2,-0,0),f);break e}Yv(o,a,un,Uc,sp,r,jn,ks,Ga,Cr,h,0,-0,0)}}break}while(!0);mi(t)}function Yv(t,r,a,o,f,h,g,v,E,I,B,q,k,P){if(t.timeoutHandle=-1,q=r.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:_A},zv(r),q=vA(),q!==null)){t.cancelPendingCommit=q(Jv.bind(null,t,r,h,a,o,f,g,v,E,B,1,k,P)),Or(t,h,g,!I);return}Jv(t,r,h,a,o,f,g,v,E)}function kR(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!vn(h(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(t,r,a,o){r&=~rp,r&=~ks,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var f=r;0<f;){var h=31-mt(f),g=1<<h;o[h]=-1,f&=~g}a!==0&&Ql(t,a,r)}function kc(){return(Je&6)===0?(No(0),!1):!0}function cp(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Li=Ns=null,Ad(t),Ha=null,bo=0,t=Le;for(;t!==null;)wv(t.alternate,t),t=t.return;Le=null}}function Ka(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cp(),ct=t,Le=a=Mi(t.current,null),qe=r,et=0,Tn=null,Cr=!1,Va=_s(t,r),ip=!1,Ga=jn=rp=ks=wr=bt=0,un=Oo=null,sp=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var f=31-mt(o),h=1<<f;r|=t[f],o&=~h}return Fi=r,rc(),a}function Qv(t,r){Ne=null,H.H=Tc,r===co||r===dc?(r=cy(),et=3):r===ly?(r=cy(),et=4):et=r===fv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Le===null&&(bt=1,Oc(t,In(r,t.current)))}function Kv(){var t=H.H;return H.H=Tc,t===null?Tc:t}function Wv(){var t=H.A;return H.A=LR,t}function fp(){bt=4,Cr||(qe&4194048)!==qe&&Pn.current!==null||(Va=!0),(wr&134217727)===0&&(ks&134217727)===0||ct===null||Or(ct,qe,jn,!1)}function hp(t,r,a){var o=Je;Je|=2;var f=Kv(),h=Wv();(ct!==t||qe!==r)&&(Uc=null,Ka(t,r)),r=!1;var g=bt;e:do try{if(et!==0&&Le!==null){var v=Le,E=Tn;switch(et){case 8:cp(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var I=et;if(et=0,Tn=null,Wa(t,v,E,I),a&&Va){g=0;break e}break;default:I=et,et=0,Tn=null,Wa(t,v,E,I)}}PR(),g=bt;break}catch(B){Qv(t,B)}while(!0);return r&&t.shellSuspendCounter++,Li=Ns=null,Je=o,H.H=f,H.A=h,Le===null&&(ct=null,qe=0,rc()),g}function PR(){for(;Le!==null;)Xv(Le)}function jR(t,r){var a=Je;Je|=2;var o=Kv(),f=Wv();ct!==t||qe!==r?(Uc=null,Lc=Dn()+500,Ka(t,r)):Va=_s(t,r);e:do try{if(et!==0&&Le!==null){r=Le;var h=Tn;t:switch(et){case 1:et=0,Tn=null,Wa(t,r,h,1);break;case 2:case 9:if(oy(h)){et=0,Tn=null,Zv(r);break}r=function(){et!==2&&et!==9||ct!==t||(et=7),mi(t)},h.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:oy(h)?(et=0,Tn=null,Zv(r)):(et=0,Tn=null,Wa(t,r,h,7));break;case 5:var g=null;switch(Le.tag){case 26:g=Le.memoizedState;case 5:case 27:var v=Le;if(!g||xb(g)){et=0,Tn=null;var E=v.sibling;if(E!==null)Le=E;else{var I=v.return;I!==null?(Le=I,Pc(I)):Le=null}break t}}et=0,Tn=null,Wa(t,r,h,5);break;case 6:et=0,Tn=null,Wa(t,r,h,6);break;case 8:cp(),bt=6;break e;default:throw Error(s(462))}}zR();break}catch(B){Qv(t,B)}while(!0);return Li=Ns=null,H.H=o,H.A=f,Je=a,Le!==null?0:(ct=null,qe=0,rc(),bt)}function zR(){for(;Le!==null&&!Nh();)Xv(Le)}function Xv(t){var r=Tv(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,r===null?Pc(t):Le=r}function Zv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=_v(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=_v(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Ad(r);default:wv(a,r),r=Le=$_(r,Fi),r=Tv(a,r,Fi)}t.memoizedProps=t.pendingProps,r===null?Pc(t):Le=r}function Wa(t,r,a,o){Li=Ns=null,Ad(r),Ha=null,bo=0;var f=r.return;try{if(OR(t,f,r,a,qe)){bt=1,Oc(t,In(a,t.current)),Le=null;return}}catch(h){if(f!==null)throw Le=f,h;bt=1,Oc(t,In(a,t.current)),Le=null;return}r.flags&32768?(Qe||o===1?t=!0:Va||(qe&536870912)!==0?t=!1:(Cr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$v(r,t)):Pc(r)}function Pc(t){var r=t;do{if((r.flags&32768)!==0){$v(r,Cr);return}t=r.return;var a=NR(r.alternate,r,Fi);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=t}while(r!==null);bt===0&&(bt=5)}function $v(t,r){do{var a=MR(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);bt=6,Le=null}function Jv(t,r,a,o,f,h,g,v,E){t.cancelPendingCommit=null;do jc();while(Vt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(h=r.lanes|r.childLanes,h|=nd,Lh(t,a,h,g,v,E),t===ct&&(Le=ct=null,qe=0),Ya=r,Ar=t,Qa=a,lp=h,op=f,qv=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qR(va,function(){return rb(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,f=ie.p,ie.p=2,g=Je,Je|=4;try{xR(t,r,a)}finally{Je=g,ie.p=f,H.T=o}}Vt=1,eb(),tb(),nb()}}function eb(){if(Vt===1){Vt=0;var t=Ar,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ie.p;ie.p=2;var f=Je;Je|=4;try{kv(r,t);var h=Cp,g=F_(t.containerInfo),v=h.focusedElem,E=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&B_(v.ownerDocument.documentElement,v)){if(E!==null&&Zh(v)){var I=E.start,B=E.end;if(B===void 0&&(B=I),"selectionStart"in v)v.selectionStart=I,v.selectionEnd=Math.min(B,v.value.length);else{var q=v.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var P=k.getSelection(),Te=v.textContent.length,ye=Math.min(E.start,Te),rt=E.end===void 0?ye:Math.min(E.end,Te);!P.extend&&ye>rt&&(g=rt,rt=ye,ye=g);var N=H_(v,ye),R=H_(v,rt);if(N&&R&&(P.rangeCount!==1||P.anchorNode!==N.node||P.anchorOffset!==N.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var M=q.createRange();M.setStart(N.node,N.offset),P.removeAllRanges(),ye>rt?(P.addRange(M),P.extend(R.node,R.offset)):(M.setEnd(R.node,R.offset),P.addRange(M))}}}}for(q=[],P=v;P=P.parentNode;)P.nodeType===1&&q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var F=q[v];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Xc=!!Tp,Cp=Tp=null}finally{Je=f,ie.p=o,H.T=a}}t.current=r,Vt=2}}function tb(){if(Vt===2){Vt=0;var t=Ar,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ie.p;ie.p=2;var f=Je;Je|=4;try{xv(t,r.alternate,r)}finally{Je=f,ie.p=o,H.T=a}}Vt=3}}function nb(){if(Vt===4||Vt===3){Vt=0,wi();var t=Ar,r=Ya,a=Qa,o=qv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,Ya=Ar=null,ib(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Rr=null),fr(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(cr,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=H.T,f=ie.p,ie.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<o.length;g++){var v=o[g];h(v.value,{componentStack:v.stack})}}finally{H.T=r,ie.p=f}}(Qa&3)!==0&&jc(),mi(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===up?Do++:(Do=0,up=t):Do=0,No(0)}}function ib(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,oo(r)))}function jc(t){return eb(),tb(),nb(),rb()}function rb(){if(Vt!==5)return!1;var t=Ar,r=lp;lp=0;var a=fr(Qa),o=H.T,f=ie.p;try{ie.p=32>a?32:a,H.T=null,a=op,op=null;var h=Ar,g=Qa;if(Vt=0,Ya=Ar=null,Qa=0,(Je&6)!==0)throw Error(s(331));var v=Je;if(Je|=4,Bv(h.current),jv(h,h.current,g,a),Je=v,No(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(cr,h)}catch{}return!0}finally{ie.p=f,H.T=o,ib(t,r)}}function sb(t,r,a){r=In(a,r),r=Bd(t.stateNode,r,2),t=_r(t,r,2),t!==null&&(Ai(t,2),mi(t))}function at(t,r,a){if(t.tag===3)sb(t,t,a);else for(;r!==null;){if(r.tag===3){sb(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){t=In(a,t),a=uv(2),o=_r(r,a,2),o!==null&&(cv(a,o,r,t),Ai(o,2),mi(o));break}}r=r.return}}function dp(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new UR;var f=new Set;o.set(r,f)}else f=o.get(r),f===void 0&&(f=new Set,o.set(r,f));f.has(a)||(ip=!0,f.add(a),t=HR.bind(null,t,r,a),r.then(t,t))}function HR(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(qe&a)===a&&(bt===4||bt===3&&(qe&62914560)===qe&&300>Dn()-ap?(Je&2)===0&&Ka(t,0):rp|=a,Ga===qe&&(Ga=0)),mi(t)}function ab(t,r){r===0&&(r=Yl()),t=Na(t,r),t!==null&&(Ai(t,r),mi(t))}function BR(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),ab(t,a)}function FR(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),ab(t,a)}function qR(t,r){return ai(t,r)}var zc=null,Xa=null,pp=!1,Hc=!1,mp=!1,Ps=0;function mi(t){t!==Xa&&t.next===null&&(Xa===null?zc=Xa=t:Xa=Xa.next=t),Hc=!0,pp||(pp=!0,GR())}function No(t,r){if(!mp&&Hc){mp=!0;do for(var a=!1,o=zc;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var g=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-mt(42|t)+1)-1,h&=f&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,cb(o,h))}else h=qe,h=gs(o,o===ct?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||_s(o,h)||(a=!0,cb(o,h));o=o.next}while(a);mp=!1}}function VR(){lb()}function lb(){Hc=pp=!1;var t=0;Ps!==0&&(JR()&&(t=Ps),Ps=0);for(var r=Dn(),a=null,o=zc;o!==null;){var f=o.next,h=ob(o,r);h===0?(o.next=null,a===null?zc=f:a.next=f,f===null&&(Xa=a)):(a=o,(t!==0||(h&3)!==0)&&(Hc=!0)),o=f}No(t)}function ob(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-mt(h),v=1<<g,E=f[g];E===-1?((v&a)===0||(v&o)!==0)&&(f[g]=Yu(v,r)):E<=r&&(t.expiredLanes|=v),h&=~v}if(r=ct,a=qe,a=gs(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ya(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_s(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&ya(o),fr(a)){case 2:case 8:a=qu;break;case 32:a=va;break;case 268435456:a=Vu;break;default:a=va}return o=ub.bind(null,t),a=ai(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&ya(o),t.callbackPriority=2,t.callbackNode=null,2}function ub(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var o=qe;return o=gs(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gv(t,o,r),ob(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?ub.bind(null,t):null)}function cb(t,r){if(jc())return null;Gv(t,r,!0)}function GR(){tA(function(){(Je&6)!==0?ai(Gl,VR):lb()})}function gp(){return Ps===0&&(Ps=ys()),Ps}function fb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zu(""+t)}function hb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function YR(t,r,a,o,f){if(r==="submit"&&a&&a.stateNode===f){var h=fb((f[D]||null).action),g=o.submitter;g&&(r=(r=g[D]||null)?fb(r.formAction):g.getAttribute("formAction"),r!==null&&(h=r,g=null));var v=new tc("action","action",null,o,f);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var E=g?hb(f,g):new FormData(f);kd(a,{pending:!0,data:E,method:f.method,action:h},null,E)}}else typeof h=="function"&&(v.preventDefault(),E=g?hb(f,g):new FormData(f),kd(a,{pending:!0,data:E,method:f.method,action:h},h,E))},currentTarget:f}]})}}for(var _p=0;_p<td.length;_p++){var yp=td[_p],QR=yp.toLowerCase(),KR=yp[0].toUpperCase()+yp.slice(1);Vn(QR,"on"+KR)}Vn(G_,"onAnimationEnd"),Vn(Y_,"onAnimationIteration"),Vn(Q_,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(fR,"onTransitionRun"),Vn(hR,"onTransitionStart"),Vn(dR,"onTransitionCancel"),Vn(K_,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function db(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],E=v.instance,I=v.currentTarget;if(v=v.listener,E!==h&&f.isPropagationStopped())break e;h=v,f.currentTarget=I;try{h(f)}catch(B){Ac(B)}f.currentTarget=null,h=E}else for(g=0;g<o.length;g++){if(v=o[g],E=v.instance,I=v.currentTarget,v=v.listener,E!==h&&f.isPropagationStopped())break e;h=v,f.currentTarget=I;try{h(f)}catch(B){Ac(B)}f.currentTarget=null,h=E}}}}function Ue(t,r){var a=r[Q];a===void 0&&(a=r[Q]=new Set);var o=t+"__bubble";a.has(o)||(pb(r,t,2,!1),a.add(o))}function vp(t,r,a){var o=0;r&&(o|=4),pb(a,t,o,r)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function bp(t){if(!t[Bc]){t[Bc]=!0,Ze.forEach(function(a){a!=="selectionchange"&&(WR.has(a)||vp(a,!1,t),vp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Bc]||(r[Bc]=!0,vp("selectionchange",!1,r))}}function pb(t,r,a,o){switch(jb(r)){case 2:var f=SA;break;case 8:f=TA;break;default:f=Lp}a=f.bind(null,r,a,t),f=void 0,!Fh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Ep(t,r,a,o,f){var h=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===f)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;v!==null;){if(g=re(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=h=g;continue e}v=v.parentNode}}o=o.return}E_(function(){var I=h,B=Hh(a),q=[];e:{var k=W_.get(t);if(k!==void 0){var P=tc,Te=t;switch(t){case"keypress":if(Ju(a)===0)break e;case"keydown":case"keyup":P=qw;break;case"focusin":Te="focus",P=Yh;break;case"focusout":Te="blur",P=Yh;break;case"beforeblur":case"afterblur":P=Yh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=C_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Yw;break;case G_:case Y_:case Q_:P=Lw;break;case K_:P=Kw;break;case"scroll":case"scrollend":P=Dw;break;case"wheel":P=Xw;break;case"copy":case"cut":case"paste":P=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=R_;break;case"toggle":case"beforetoggle":P=$w}var ye=(r&4)!==0,rt=!ye&&(t==="scroll"||t==="scrollend"),N=ye?k!==null?k+"Capture":null:k;ye=[];for(var R=I,M;R!==null;){var F=R;if(M=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||M===null||N===null||(F=Wl(R,N),F!=null&&ye.push(xo(R,F,M))),rt)break;R=R.return}0<ye.length&&(k=new P(k,Te,null,a,B),q.push({event:k,listeners:ye}))}}if((r&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&a!==zh&&(Te=a.relatedTarget||a.fromElement)&&(re(Te)||Te[j]))break e;if((P||k)&&(k=B.window===B?B:(k=B.ownerDocument)?k.defaultView||k.parentWindow:window,P?(Te=a.relatedTarget||a.toElement,P=I,Te=Te?re(Te):null,Te!==null&&(rt=u(Te),ye=Te.tag,Te!==rt||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(P=null,Te=I),P!==Te)){if(ye=C_,F="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ye=R_,F="onPointerLeave",N="onPointerEnter",R="pointer"),rt=P==null?k:Ce(P),M=Te==null?k:Ce(Te),k=new ye(F,R+"leave",P,a,B),k.target=rt,k.relatedTarget=M,F=null,re(B)===I&&(ye=new ye(N,R+"enter",Te,a,B),ye.target=M,ye.relatedTarget=rt,F=ye),rt=F,P&&Te)t:{for(ye=P,N=Te,R=0,M=ye;M;M=Za(M))R++;for(M=0,F=N;F;F=Za(F))M++;for(;0<R-M;)ye=Za(ye),R--;for(;0<M-R;)N=Za(N),M--;for(;R--;){if(ye===N||N!==null&&ye===N.alternate)break t;ye=Za(ye),N=Za(N)}ye=null}else ye=null;P!==null&&mb(q,k,P,ye,!1),Te!==null&&rt!==null&&mb(q,rt,Te,ye,!0)}}e:{if(k=I?Ce(I):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var he=L_;else if(x_(k))if(U_)he=oR;else{he=aR;var xe=sR}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&jh(I.elementType)&&(he=L_):he=lR;if(he&&(he=he(t,I))){I_(q,he,a,B);break e}xe&&xe(t,k,I),t==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&Ph(k,"number",k.value)}switch(xe=I?Ce(I):window,t){case"focusin":(x_(xe)||xe.contentEditable==="true")&&(Aa=xe,$h=I,io=null);break;case"focusout":io=$h=Aa=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,q_(q,a,B);break;case"selectionchange":if(cR)break;case"keydown":case"keyup":q_(q,a,B)}var pe;if(Kh)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ra?N_(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(A_&&a.locale!=="ko"&&(Ra||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ra&&(pe=S_()):(dr=B,qh="value"in dr?dr.value:dr.textContent,Ra=!0)),xe=Fc(I,ve),0<xe.length&&(ve=new w_(ve,t,null,a,B),q.push({event:ve,listeners:xe}),pe?ve.data=pe:(pe=M_(a),pe!==null&&(ve.data=pe)))),(pe=eR?tR(t,a):nR(t,a))&&(ve=Fc(I,"onBeforeInput"),0<ve.length&&(xe=new w_("onBeforeInput","beforeinput",null,a,B),q.push({event:xe,listeners:ve}),xe.data=pe)),YR(q,t,I,a,B)}db(q,r)})}function xo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Fc(t,r){for(var a=r+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Wl(t,a),f!=null&&o.unshift(xo(t,f,h)),f=Wl(t,r),f!=null&&o.push(xo(t,f,h))),t.tag===3)return o;t=t.return}return[]}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mb(t,r,a,o,f){for(var h=r._reactName,g=[];a!==null&&a!==o;){var v=a,E=v.alternate,I=v.stateNode;if(v=v.tag,E!==null&&E===o)break;v!==5&&v!==26&&v!==27||I===null||(E=I,f?(I=Wl(a,h),I!=null&&g.unshift(xo(a,I,E))):f||(I=Wl(a,h),I!=null&&g.push(xo(a,I,E)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var XR=/\r\n?/g,ZR=/\u0000|\uFFFD/g;function gb(t){return(typeof t=="string"?t:""+t).replace(XR,`
`).replace(ZR,"")}function _b(t,r){return r=gb(r),gb(t)===r}function qc(){}function it(t,r,a,o,f,h){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Ta(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Ta(t,""+o);break;case"className":Mn(t,"class",o);break;case"tabIndex":Mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,o);break;case"style":v_(t,o,h);break;case"data":if(r!=="object"){Mn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Zu(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(r!=="input"&&it(t,r,"name",f.name,f,null),it(t,r,"formEncType",f.formEncType,f,null),it(t,r,"formMethod",f.formMethod,f,null),it(t,r,"formTarget",f.formTarget,f,null)):(it(t,r,"encType",f.encType,f,null),it(t,r,"method",f.method,f,null),it(t,r,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Zu(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=qc);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Zu(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ui(t,"popover",o);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ui(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Aw.get(a)||a,ui(t,a,o))}}function Sp(t,r,a,o,f,h){switch(a){case"style":v_(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Ta(t,o):(typeof o=="number"||typeof o=="bigint")&&Ta(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),h=t[D]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(r,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ui(t,a,o)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,h,g,a,null)}}f&&it(t,r,"srcSet",a.srcSet,a,null),o&&it(t,r,"src",a.src,a,null);return;case"input":Ue("invalid",t);var v=h=g=f=null,E=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var B=a[o];if(B!=null)switch(o){case"name":f=B;break;case"type":g=B;break;case"checked":E=B;break;case"defaultChecked":I=B;break;case"value":h=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:it(t,r,o,B,a,null)}}m_(t,h,v,E,I,g,f,!1),Wu(t);return;case"select":Ue("invalid",t),o=g=h=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:it(t,r,f,v,a,null)}r=h,a=g,t.multiple=!!o,r!=null?Sa(t,!!o,r,!1):a!=null&&Sa(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),h=f=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":f=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:it(t,r,g,v,a,null)}__(t,o,f,h),Wu(t);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(t,r,E,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Ue(Mo[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,I,o,a,null)}return;default:if(jh(r)){for(B in a)a.hasOwnProperty(B)&&(o=a[B],o!==void 0&&Sp(t,r,B,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&it(t,r,v,o,a,null))}function $R(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,g=null,v=null,E=null,I=null,B=null;for(P in a){var q=a[P];if(a.hasOwnProperty(P)&&q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":E=q;default:o.hasOwnProperty(P)||it(t,r,P,null,o,q)}}for(var k in o){var P=o[k];if(q=a[k],o.hasOwnProperty(k)&&(P!=null||q!=null))switch(k){case"type":h=P;break;case"name":f=P;break;case"checked":I=P;break;case"defaultChecked":B=P;break;case"value":g=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:P!==q&&it(t,r,k,P,o,q)}}kh(t,g,v,E,I,B,h,f);return;case"select":P=g=v=k=null;for(h in a)if(E=a[h],a.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":P=E;default:o.hasOwnProperty(h)||it(t,r,h,null,o,E)}for(f in o)if(h=o[f],E=a[f],o.hasOwnProperty(f)&&(h!=null||E!=null))switch(f){case"value":k=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==E&&it(t,r,f,h,o,E)}r=v,a=g,o=P,k!=null?Sa(t,!!a,k,!1):!!o!=!!a&&(r!=null?Sa(t,!!a,r,!0):Sa(t,!!a,a?[]:"",!1));return;case"textarea":P=k=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:it(t,r,v,null,o,f)}for(g in o)if(f=o[g],h=a[g],o.hasOwnProperty(g)&&(f!=null||h!=null))switch(g){case"value":k=f;break;case"defaultValue":P=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&it(t,r,g,f,o,h)}g_(t,k,P);return;case"option":for(var Te in a)if(k=a[Te],a.hasOwnProperty(Te)&&k!=null&&!o.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:it(t,r,Te,null,o,k)}for(E in o)if(k=o[E],P=a[E],o.hasOwnProperty(E)&&k!==P&&(k!=null||P!=null))switch(E){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:it(t,r,E,k,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)k=a[ye],a.hasOwnProperty(ye)&&k!=null&&!o.hasOwnProperty(ye)&&it(t,r,ye,null,o,k);for(I in o)if(k=o[I],P=a[I],o.hasOwnProperty(I)&&k!==P&&(k!=null||P!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:it(t,r,I,k,o,P)}return;default:if(jh(r)){for(var rt in a)k=a[rt],a.hasOwnProperty(rt)&&k!==void 0&&!o.hasOwnProperty(rt)&&Sp(t,r,rt,void 0,o,k);for(B in o)k=o[B],P=a[B],!o.hasOwnProperty(B)||k===P||k===void 0&&P===void 0||Sp(t,r,B,k,o,P);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!o.hasOwnProperty(N)&&it(t,r,N,null,o,k);for(q in o)k=o[q],P=a[q],!o.hasOwnProperty(q)||k===P||k==null&&P==null||it(t,r,q,k,o,P)}var Tp=null,Cp=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function yb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function wp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rp=null;function JR(){var t=window.event;return t&&t.type==="popstate"?t===Rp?!1:(Rp=t,!0):(Rp=null,!1)}var bb=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(t){return Eb.resolve(null).then(t).catch(nA)}:bb;function nA(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function Sb(t,r){var a=r,o=0,f=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<o&&8>o){a=o;var g=t.ownerDocument;if(a&1&&Io(g.documentElement),a&2&&Io(g.body),a&4)for(a=g.head,Io(a),g=a.firstChild;g;){var v=g.nextSibling,E=g.nodeName;g[oe]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=v}}if(f===0){t.removeChild(h),Bo(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=h}while(a);Bo(r)}function Ap(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),ce(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iA(t,r,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[oe])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function rA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function Op(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Dp=null;function Tb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Cb(t,r,a){switch(r=Vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Io(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ce(t)}var zn=new Map,wb=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ie.d;ie.d={f:aA,r:lA,D:oA,C:uA,L:cA,m:fA,X:dA,S:hA,M:pA};function aA(){var t=qi.f(),r=kc();return t||r}function lA(t){var r=fe(t);r!==null&&r.tag===5&&r.type==="form"?Gy(r):qi.r(t)}var $a=typeof document>"u"?null:document;function Rb(t,r,a){var o=$a;if(o&&typeof r=="string"&&r){var f=xn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wb.has(f)||(wb.add(f),t={rel:t,crossOrigin:a,href:r},o.querySelector(f)===null&&(r=o.createElement("link"),Gt(r,"link",t),Pe(r),o.head.appendChild(r)))}}function oA(t){qi.D(t),Rb("dns-prefetch",t,null)}function uA(t,r){qi.C(t,r),Rb("preconnect",t,r)}function cA(t,r,a){qi.L(t,r,a);var o=$a;if(o&&t&&r){var f='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xn(a.imageSizes)+'"]')):f+='[href="'+xn(t)+'"]';var h=f;switch(r){case"style":h=Ja(t);break;case"script":h=el(t)}zn.has(h)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),zn.set(h,t),o.querySelector(f)!==null||r==="style"&&o.querySelector(Lo(h))||r==="script"&&o.querySelector(Uo(h))||(r=o.createElement("link"),Gt(r,"link",t),Pe(r),o.head.appendChild(r)))}}function fA(t,r){qi.m(t,r);var a=$a;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=el(t)}if(!zn.has(h)&&(t=_({rel:"modulepreload",href:t},r),zn.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(h)))return}o=a.createElement("link"),Gt(o,"link",t),Pe(o),a.head.appendChild(o)}}}function hA(t,r,a){qi.S(t,r,a);var o=$a;if(o&&t){var f=Ae(o).hoistableStyles,h=Ja(t);r=r||"default";var g=f.get(h);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Lo(h)))v.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=zn.get(h))&&Np(t,a);var E=g=o.createElement("link");Pe(E),Gt(E,"link",t),E._p=new Promise(function(I,B){E.onload=I,E.onerror=B}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Yc(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:v},f.set(h,g)}}}function dA(t,r){qi.X(t,r);var a=$a;if(a&&t){var o=Ae(a).hoistableScripts,f=el(t),h=o.get(f);h||(h=a.querySelector(Uo(f)),h||(t=_({src:t,async:!0},r),(r=zn.get(f))&&Mp(t,r),h=a.createElement("script"),Pe(h),Gt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function pA(t,r){qi.M(t,r);var a=$a;if(a&&t){var o=Ae(a).hoistableScripts,f=el(t),h=o.get(f);h||(h=a.querySelector(Uo(f)),h||(t=_({src:t,async:!0,type:"module"},r),(r=zn.get(f))&&Mp(t,r),h=a.createElement("script"),Pe(h),Gt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Ab(t,r,a,o){var f=(f=_e.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ja(a.href),a=Ae(f).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var h=Ae(f).hoistableStyles,g=h.get(t);if(g||(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=f.querySelector(Lo(t)))&&!h._p&&(g.instance=h,g.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),h||mA(f,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(a),a=Ae(f).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+xn(t)+'"'}function Lo(t){return'link[rel="stylesheet"]['+t+"]"}function Ob(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function mA(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Gt(r,"link",a),Pe(r),t.head.appendChild(r))}function el(t){return'[src="'+xn(t)+'"]'}function Uo(t){return"script[async]"+t}function Db(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+xn(a.href)+'"]');if(o)return r.instance=o,Pe(o),o;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pe(o),Gt(o,"style",f),Yc(o,a.precedence,t),r.instance=o;case"stylesheet":f=Ja(a.href);var h=t.querySelector(Lo(f));if(h)return r.state.loading|=4,r.instance=h,Pe(h),h;o=Ob(a),(f=zn.get(f))&&Np(o,f),h=(t.ownerDocument||t).createElement("link"),Pe(h);var g=h;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Gt(h,"link",o),r.state.loading|=4,Yc(h,a.precedence,t),r.instance=h;case"script":return h=el(a.src),(f=t.querySelector(Uo(h)))?(r.instance=f,Pe(f),f):(o=a,(f=zn.get(h))&&(o=_({},a),Mp(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Pe(f),Gt(f,"link",o),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Yc(o,a.precedence,t));return r.instance}function Yc(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===r)h=v;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Np(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Mp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qc=null;function Nb(t,r,a){if(Qc===null){var o=new Map,f=Qc=new Map;f.set(a,o)}else f=Qc,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[oe]||h[T]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(r)||"";g=t+g;var v=o.get(g);v?v.push(h):o.set(g,[h])}}return o}function Mb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function gA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ko=null;function _A(){}function yA(t,r,a){if(ko===null)throw Error(s(475));var o=ko;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ja(a.href),h=t.querySelector(Lo(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Kc.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=h,Pe(h);return}h=t.ownerDocument||t,a=Ob(a),(f=zn.get(f))&&Np(a,f),h=h.createElement("link"),Pe(h);var g=h;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Gt(h,"link",a),r.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Kc.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function vA(){if(ko===null)throw Error(s(475));var t=ko;return t.stylesheets&&t.count===0&&xp(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&xp(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)xp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function xp(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,r.forEach(bA,t),Wc=null,Kc.call(t))}function bA(t,r){if(!(r.state.loading&4)){var a=Wc.get(t);if(a)var o=a.get(null);else{a=new Map,Wc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var g=f[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}f=r.instance,g=f.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,f),a.set(g,f),this.count++,o=Kc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Po={$$typeof:X,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function EA(t,r,a,o,f,h,g,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Ib(t,r,a,o,f,h,g,v,E,I,B,q){return t=new EA(t,r,a,g,v,E,I,q),r=1,h===!0&&(r|=24),h=bn(3,null,null,r),t.current=h,h.stateNode=t,r=dd(),r.refCount++,t.pooledCache=r,r.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:r},_d(h),t}function Lb(t){return t?(t=Ma,t):Ma}function Ub(t,r,a,o,f,h){f=Lb(f),o.context===null?o.context=f:o.pendingContext=f,o=gr(r),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=_r(t,o,r),a!==null&&(wn(a,t,r),ho(a,t,r))}function kb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Ip(t,r){kb(t,r),(t=t.alternate)&&kb(t,r)}function Pb(t){if(t.tag===13){var r=Na(t,67108864);r!==null&&wn(r,t,67108864),Ip(t,67108864)}}var Xc=!0;function SA(t,r,a,o){var f=H.T;H.T=null;var h=ie.p;try{ie.p=2,Lp(t,r,a,o)}finally{ie.p=h,H.T=f}}function TA(t,r,a,o){var f=H.T;H.T=null;var h=ie.p;try{ie.p=8,Lp(t,r,a,o)}finally{ie.p=h,H.T=f}}function Lp(t,r,a,o){if(Xc){var f=Up(o);if(f===null)Ep(t,r,o,Zc,a),zb(t,o);else if(wA(f,t,r,a,o))o.stopPropagation();else if(zb(t,o),r&4&&-1<CA.indexOf(t)){for(;f!==null;){var h=fe(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=li(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-mt(g);v.entanglements[1]|=E,g&=~E}mi(h),(Je&6)===0&&(Lc=Dn()+500,No(0))}}break;case 13:v=Na(h,2),v!==null&&wn(v,h,2),kc(),Ip(h,2)}if(h=Up(o),h===null&&Ep(t,r,o,Zc,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Ep(t,r,o,null,a)}}function Up(t){return t=Hh(t),kp(t)}var Zc=null;function kp(t){if(Zc=null,t=re(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Zc=t,null}function jb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mh()){case Gl:return 2;case qu:return 8;case va:case xh:return 32;case Vu:return 268435456;default:return 32}default:return 32}}var Pp=!1,Nr=null,Mr=null,xr=null,jo=new Map,zo=new Map,Ir=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zb(t,r){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(r.pointerId)}}function Ho(t,r,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},r!==null&&(r=fe(r),r!==null&&Pb(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function wA(t,r,a,o,f){switch(r){case"focusin":return Nr=Ho(Nr,t,r,a,o,f),!0;case"dragenter":return Mr=Ho(Mr,t,r,a,o,f),!0;case"mouseover":return xr=Ho(xr,t,r,a,o,f),!0;case"pointerover":var h=f.pointerId;return jo.set(h,Ho(jo.get(h)||null,t,r,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,zo.set(h,Ho(zo.get(h)||null,t,r,a,o,f)),!0}return!1}function Hb(t){var r=re(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,Uh(t.priority,function(){if(a.tag===13){var o=Cn();o=Ea(o);var f=Na(a,o);f!==null&&wn(f,a,o),Ip(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Up(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);zh=o,a.target.dispatchEvent(o),zh=null}else return r=fe(a),r!==null&&Pb(r),t.blockedOn=a,!1;r.shift()}return!0}function Bb(t,r,a){$c(t)&&a.delete(r)}function RA(){Pp=!1,Nr!==null&&$c(Nr)&&(Nr=null),Mr!==null&&$c(Mr)&&(Mr=null),xr!==null&&$c(xr)&&(xr=null),jo.forEach(Bb),zo.forEach(Bb)}function Jc(t,r){t.blockedOn===r&&(t.blockedOn=null,Pp||(Pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RA)))}var ef=null;function Fb(t){ef!==t&&(ef=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ef===t&&(ef=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],f=t[r+2];if(typeof o!="function"){if(kp(o||a)===null)continue;break}var h=fe(a);h!==null&&(t.splice(r,3),r-=3,kd(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Bo(t){function r(E){return Jc(E,t)}Nr!==null&&Jc(Nr,t),Mr!==null&&Jc(Mr,t),xr!==null&&Jc(xr,t),jo.forEach(r),zo.forEach(r);for(var a=0;a<Ir.length;a++){var o=Ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)Hb(a),a.blockedOn===null&&Ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],g=f[D]||null;if(typeof h=="function")g||Fb(a);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(f=h,g=h[D]||null)v=g.formAction;else if(kp(f)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Fb(a)}}}function jp(t){this._internalRoot=t}tf.prototype.render=jp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=Cn();Ub(a,o,t,r,null,null)},tf.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ub(t.current,2,null,t,null,null),kc(),r[j]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var r=bs();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ir.length&&r!==0&&r<Ir[a].priority;a++);Ir.splice(a,0,t),a===0&&Hb(t)}};var qb=e.version;if(qb!=="19.1.0")throw Error(s(527,qb,"19.1.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var AA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{cr=nf.inject(AA),Bt=nf}catch{}}return qo.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",f=sv,h=av,g=lv,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=Ib(t,1,!1,null,null,a,o,f,h,g,v,null),t[j]=r.current,bp(t),new jp(r)},qo.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,f="",h=sv,g=av,v=lv,E=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),r=Ib(t,1,!0,r,a??null,o,f,h,g,v,E,I),r.context=Lb(null),a=r.current,o=Cn(),o=Ea(o),f=gr(o),f.callback=null,_r(a,f,o),a=o,r.current.lanes=a,Ai(r,a),mi(r),t[j]=r.current,bp(t),new tf(r)},qo.version="19.1.0",qo}var eE;function jA(){if(eE)return Fp.exports;eE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=PA(),Fp.exports}var zA=jA(),Yp={exports:{}},Qp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function HA(){if(tE)return Qp;tE=1;var n=ih();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Qp.useSyncExternalStoreWithSelector=function(p,m,_,y,b){var S=l(null);if(S.current===null){var O={hasValue:!1,value:null};S.current=O}else O=S.current;S=c(function(){function x(Y){if(!W){if(W=!0,G=Y,Y=y(Y),b!==void 0&&O.hasValue){var ue=O.value;if(b(ue,Y))return X=ue}return X=Y}if(ue=X,i(G,Y))return ue;var L=y(Y);return b!==void 0&&b(ue,L)?(G=Y,ue):(G=Y,X=L)}var W=!1,G,X,K=_===void 0?null:_;return[function(){return x(m())},K===null?void 0:function(){return x(K())}]},[m,_,y,b]);var U=s(p,S[0],S[1]);return u(function(){O.hasValue=!0,O.value=U},[U]),d(U),U},Qp}var nE;function BA(){return nE||(nE=1,Yp.exports=HA()),Yp.exports}var FA=BA();function qA(n){n()}function VA(){let n=null,e=null;return{clear(){n=null,e=null},notify(){qA(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var iE={notify(){},get:()=>[]};function GA(n,e){let i,s=iE,l=0,u=!1;function c(U){_();const x=s.subscribe(U);let W=!1;return()=>{W||(W=!0,x(),y())}}function d(){s.notify()}function p(){O.onStateChange&&O.onStateChange()}function m(){return u}function _(){l++,i||(i=n.subscribe(p),s=VA())}function y(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=iE)}function b(){u||(u=!0,_())}function S(){u&&(u=!1,y())}const O={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:b,tryUnsubscribe:S,getListeners:()=>s};return O}var YA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QA=YA(),KA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WA=KA(),XA=()=>QA||WA?z.useLayoutEffect:z.useEffect,ZA=XA(),Kp=Symbol.for("react-redux-context"),Wp=typeof globalThis<"u"?globalThis:{};function $A(){if(!z.createContext)return{};const n=Wp[Kp]??(Wp[Kp]=new Map);let e=n.get(z.createContext);return e||(e=z.createContext(null),n.set(z.createContext,e)),e}var rs=$A();function JA(n){const{children:e,context:i,serverState:s,store:l}=n,u=z.useMemo(()=>{const p=GA(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),c=z.useMemo(()=>l.getState(),[l]);ZA(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const d=i||rs;return z.createElement(d.Provider,{value:u},e)}var e1=JA;function ug(n=rs){return function(){return z.useContext(n)}}var hS=ug();function dS(n=rs){const e=n===rs?hS:ug(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var t1=dS();function n1(n=rs){const e=n===rs?t1:dS(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var i1=n1(),r1=(n,e)=>n===e;function s1(n=rs){const e=n===rs?hS:ug(n),i=(s,l={})=>{const{equalityFn:u=r1}=typeof l=="function"?{equalityFn:l}:l,c=e(),{store:d,subscription:p,getServerState:m}=c;z.useRef(!0);const _=z.useCallback({[s.name](b){return s(b)}}[s.name],[s]),y=FA.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,m||d.getState,_,u);return z.useDebugValue(y),y};return Object.assign(i,{withTypes:()=>i}),i}var ii=s1(),pS=fS();const a1=cS(pS),l1=uS({__proto__:null,default:a1},[pS]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},pt.apply(this,arguments)}var Ot;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ot||(Ot={}));const rE="popstate";function o1(n){n===void 0&&(n={});function e(s,l){let{pathname:u,search:c,hash:d}=s.location;return ou("",{pathname:u,search:c,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:ta(l)}return c1(e,i,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substr(2,8)}function sE(n,e){return{usr:n.state,key:n.key,idx:e}}function ou(n,e,i,s){return i===void 0&&(i=null),pt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?os(e):e,{state:i,key:e&&e.key||s||u1()})}function ta(n){let{pathname:e="/",search:i="",hash:s=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function os(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function c1(n,e,i,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,d=Ot.Pop,p=null,m=_();m==null&&(m=0,c.replaceState(pt({},c.state,{idx:m}),""));function _(){return(c.state||{idx:null}).idx}function y(){d=Ot.Pop;let x=_(),W=x==null?null:x-m;m=x,p&&p({action:d,location:U.location,delta:W})}function b(x,W){d=Ot.Push;let G=ou(U.location,x,W);m=_()+1;let X=sE(G,m),K=U.createHref(G);try{c.pushState(X,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(K)}u&&p&&p({action:d,location:U.location,delta:1})}function S(x,W){d=Ot.Replace;let G=ou(U.location,x,W);m=_();let X=sE(G,m),K=U.createHref(G);c.replaceState(X,"",K),u&&p&&p({action:d,location:U.location,delta:0})}function O(x){let W=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof x=="string"?x:ta(x);return G=G.replace(/ $/,"%20"),Me(W,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,W)}let U={get action(){return d},get location(){return n(l,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(rE,y),p=x,()=>{l.removeEventListener(rE,y),p=null}},createHref(x){return e(l,x)},createURL:O,encodeLocation(x){let W=O(x);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:S,go(x){return c.go(x)}};return U}var tt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(tt||(tt={}));const f1=new Set(["lazy","caseSensitive","path","id","index","children"]);function h1(n){return n.index===!0}function Tf(n,e,i,s){return i===void 0&&(i=[]),s===void 0&&(s={}),n.map((l,u)=>{let c=[...i,String(u)],d=typeof l.id=="string"?l.id:c.join("-");if(Me(l.index!==!0||!l.children,"Cannot specify children on an index route"),Me(!s[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),h1(l)){let p=pt({},l,e(l),{id:d});return s[d]=p,p}else{let p=pt({},l,e(l),{id:d,children:void 0});return s[d]=p,l.children&&(p.children=Tf(l.children,e,c,s)),p}})}function Bs(n,e,i){return i===void 0&&(i="/"),pf(n,e,i,!1)}function pf(n,e,i,s){let l=typeof e=="string"?os(e):e,u=tr(l.pathname||"/",i);if(u==null)return null;let c=mS(n);p1(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=w1(u);d=T1(c[p],m,s)}return d}function d1(n,e){let{route:i,pathname:s,params:l}=n;return{id:i.id,pathname:s,params:l,data:e[i.id],handle:i.handle}}function mS(n,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let l=(u,c,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let m=Xi([s,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),mS(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:E1(m,u.index),routesMeta:_})};return n.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,c);else for(let p of gS(u.path))l(u,c,p)}),e}function gS(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=gS(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function p1(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:S1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const m1=/^:[\w-]+$/,g1=3,_1=2,y1=1,v1=10,b1=-2,aE=n=>n==="*";function E1(n,e){let i=n.split("/"),s=i.length;return i.some(aE)&&(s+=b1),e&&(s+=_1),i.filter(l=>!aE(l)).reduce((l,u)=>l+(m1.test(u)?g1:u===""?y1:v1),s)}function S1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function T1(n,e,i){i===void 0&&(i=!1);let{routesMeta:s}=n,l={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],m=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=Cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),b=p.route;if(!y&&m&&i&&!s[s.length-1].route.index&&(y=Cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Xi([u,y.pathname]),pathnameBase:O1(Xi([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=Xi([u,y.pathnameBase]))}return c}function Cf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=C1(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((m,_,y)=>{let{paramName:b,isOptional:S}=_;if(b==="*"){let U=d[y]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=d[y];return S&&!O?m[b]=void 0:m[b]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:n}}function C1(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Rl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function w1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function R1(n,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:l=""}=typeof n=="string"?os(n):n;return{pathname:i?i.startsWith("/")?i:A1(i,e):e,search:D1(s),hash:N1(l)}}function A1(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Xp(n,e,i,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _S(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function rh(n,e){let i=_S(n);return e?i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function sh(n,e,i,s){s===void 0&&(s=!1);let l;typeof n=="string"?l=os(n):(l=pt({},n),Me(!l.pathname||!l.pathname.includes("?"),Xp("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Xp("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Xp("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,d;if(c==null)d=i;else{let y=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}d=y>=0?e[y]:"/"}let p=R1(l,d),m=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}const Xi=n=>n.join("/").replace(/\/\/+/g,"/"),O1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,N1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class wf{constructor(e,i,s,l){l===void 0&&(l=!1),this.status=e,this.statusText=i||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function uu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const yS=["post","put","patch","delete"],M1=new Set(yS),x1=["get",...yS],I1=new Set(x1),L1=new Set([301,302,303,307,308]),U1=new Set([307,308]),Zp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},k1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P1=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),vS="remix-router-transitions";function j1(n){const e=n.window?n.window:typeof window<"u"?window:void 0,i=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!i;Me(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(n.mapRouteProperties)l=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;l=D=>({hasErrorBoundary:T(D)})}else l=P1;let u={},c=Tf(n.routes,l,void 0,u),d,p=n.basename||"/",m=n.dataStrategy||F1,_=n.patchRoutesOnNavigation,y=pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),b=null,S=new Set,O=null,U=null,x=null,W=n.hydrationData!=null,G=Bs(c,n.history.location,p),X=!1,K=null;if(G==null&&!_){let T=hn(404,{pathname:n.history.location.pathname}),{matches:D,route:j}=_E(c);G=D,K={[j.id]:T}}G&&!n.hydrationData&&fr(G,c,n.history.location.pathname).active&&(G=null);let Y;if(G)if(G.some(T=>T.route.lazy))Y=!1;else if(!G.some(T=>T.route.loader))Y=!0;else if(y.v7_partialHydration){let T=n.hydrationData?n.hydrationData.loaderData:null,D=n.hydrationData?n.hydrationData.errors:null;if(D){let j=G.findIndex(Q=>D[Q.route.id]!==void 0);Y=G.slice(0,j+1).every(Q=>!vm(Q.route,T,D))}else Y=G.every(j=>!vm(j.route,T,D))}else Y=n.hydrationData!=null;else if(Y=!1,G=[],y.v7_partialHydration){let T=fr(null,c,n.history.location.pathname);T.active&&T.matches&&(X=!0,G=T.matches)}let ue,L={historyAction:n.history.action,location:n.history.location,matches:G,initialized:Y,navigation:Zp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||K,fetchers:new Map,blockers:new Map},Z=Ot.Pop,ee=!1,se,ze=!1,we=new Map,ot=null,_t=!1,ut=!1,H=[],ie=new Set,le=new Map,Ve=0,w=-1,V=new Map,te=new Set,J=new Map,de=new Map,Re=new Set,_e=new Map,Tt=new Map,Xe;function si(){if(b=n.history.listen(T=>{let{action:D,location:j,delta:Q}=T;if(Xe){Xe(),Xe=void 0;return}Rl(Tt.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Yl({currentLocation:L.location,nextLocation:j,historyAction:D});if(ne&&Q!=null){let me=new Promise(be=>{Xe=be});n.history.go(Q*-1),ys(ne,{state:"blocked",location:j,proceed(){ys(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),me.then(()=>n.history.go(Q))},reset(){let be=new Map(L.blockers);be.set(ne,Vo),Dt({blockers:be})}});return}return wi(D,j)}),i){nO(e,we);let T=()=>iO(e,we);e.addEventListener("pagehide",T),ot=()=>e.removeEventListener("pagehide",T)}return L.initialized||wi(Ot.Pop,L.location,{initialHydration:!0}),ue}function Vl(){b&&b(),ot&&ot(),S.clear(),se&&se.abort(),L.fetchers.forEach((T,D)=>ba(D)),L.blockers.forEach((T,D)=>Yu(D))}function _a(T){return S.add(T),()=>S.delete(T)}function Dt(T,D){D===void 0&&(D={}),L=pt({},L,T);let j=[],Q=[];y.v7_fetcherPersist&&L.fetchers.forEach((ne,me)=>{ne.state==="idle"&&(Re.has(me)?Q.push(me):j.push(me))}),Re.forEach(ne=>{!L.fetchers.has(ne)&&!le.has(ne)&&Q.push(ne)}),[...S].forEach(ne=>ne(L,{deletedFetchers:Q,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),y.v7_fetcherPersist?(j.forEach(ne=>L.fetchers.delete(ne)),Q.forEach(ne=>ba(ne))):Q.forEach(ne=>Re.delete(ne))}function ai(T,D,j){var Q,ne;let{flushSync:me}=j===void 0?{}:j,be=L.actionData!=null&&L.navigation.formMethod!=null&&Wn(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Q=T.state)==null?void 0:Q._isRedirect)!==!0,oe;D.actionData?Object.keys(D.actionData).length>0?oe=D.actionData:oe=null:be?oe=L.actionData:oe=null;let ce=D.loaderData?mE(L.loaderData,D.loaderData,D.matches||[],D.errors):L.loaderData,re=L.blockers;re.size>0&&(re=new Map(re),re.forEach((Ae,Pe)=>re.set(Pe,Vo)));let fe=ee===!0||L.navigation.formMethod!=null&&Wn(L.navigation.formMethod)&&((ne=T.state)==null?void 0:ne._isRedirect)!==!0;d&&(c=d,d=void 0),_t||Z===Ot.Pop||(Z===Ot.Push?n.history.push(T,T.state):Z===Ot.Replace&&n.history.replace(T,T.state));let Ce;if(Z===Ot.Pop){let Ae=we.get(L.location.pathname);Ae&&Ae.has(T.pathname)?Ce={currentLocation:L.location,nextLocation:T}:we.has(T.pathname)&&(Ce={currentLocation:T,nextLocation:L.location})}else if(ze){let Ae=we.get(L.location.pathname);Ae?Ae.add(T.pathname):(Ae=new Set([T.pathname]),we.set(L.location.pathname,Ae)),Ce={currentLocation:L.location,nextLocation:T}}Dt(pt({},D,{actionData:oe,loaderData:ce,historyAction:Z,location:T,initialized:!0,navigation:Zp,revalidation:"idle",restoreScrollPosition:Ea(T,D.matches||L.matches),preventScrollReset:fe,blockers:re}),{viewTransitionOpts:Ce,flushSync:me===!0}),Z=Ot.Pop,ee=!1,ze=!1,_t=!1,ut=!1,H=[]}async function ya(T,D){if(typeof T=="number"){n.history.go(T);return}let j=ym(L.location,L.matches,p,y.v7_prependBasename,T,y.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:Q,submission:ne,error:me}=lE(y.v7_normalizeFormMethod,!1,j,D),be=L.location,oe=ou(L.location,Q,D&&D.state);oe=pt({},oe,n.history.encodeLocation(oe));let ce=D&&D.replace!=null?D.replace:void 0,re=Ot.Push;ce===!0?re=Ot.Replace:ce===!1||ne!=null&&Wn(ne.formMethod)&&ne.formAction===L.location.pathname+L.location.search&&(re=Ot.Replace);let fe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Ce=(D&&D.flushSync)===!0,Ae=Yl({currentLocation:be,nextLocation:oe,historyAction:re});if(Ae){ys(Ae,{state:"blocked",location:oe,proceed(){ys(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),ya(T,D)},reset(){let Pe=new Map(L.blockers);Pe.set(Ae,Vo),Dt({blockers:Pe})}});return}return await wi(re,oe,{submission:ne,pendingError:me,preventScrollReset:fe,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:Ce})}function Nh(){if(Bt(),Dt({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){wi(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}wi(Z||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:ze===!0})}}async function wi(T,D,j){se&&se.abort(),se=null,Z=T,_t=(j&&j.startUninterruptedRevalidation)===!0,Qu(L.location,L.matches),ee=(j&&j.preventScrollReset)===!0,ze=(j&&j.enableViewTransition)===!0;let Q=d||c,ne=j&&j.overrideNavigation,me=j!=null&&j.initialHydration&&L.matches&&L.matches.length>0&&!X?L.matches:Bs(Q,D,p),be=(j&&j.flushSync)===!0;if(me&&L.initialized&&!ut&&K1(L.location,D)&&!(j&&j.submission&&Wn(j.submission.formMethod))){ai(D,{matches:me},{flushSync:be});return}let oe=fr(me,Q,D.pathname);if(oe.active&&oe.matches&&(me=oe.matches),!me){let{error:Ze,notFoundMatches:Fe,route:Ke}=vs(D.pathname);ai(D,{matches:Fe,loaderData:{},errors:{[Ke.id]:Ze}},{flushSync:be});return}se=new AbortController;let ce=tl(n.history,D,se.signal,j&&j.submission),re;if(j&&j.pendingError)re=[Fs(me).route.id,{type:tt.error,error:j.pendingError}];else if(j&&j.submission&&Wn(j.submission.formMethod)){let Ze=await Dn(ce,D,j.submission,me,oe.active,{replace:j.replace,flushSync:be});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Fe,Ke]=Ze.pendingActionResult;if(Rn(Ke)&&uu(Ke.error)&&Ke.error.status===404){se=null,ai(D,{matches:Ze.matches,loaderData:{},errors:{[Fe]:Ke.error}});return}}me=Ze.matches||me,re=Ze.pendingActionResult,ne=$p(D,j.submission),be=!1,oe.active=!1,ce=tl(n.history,ce.url,ce.signal)}let{shortCircuited:fe,matches:Ce,loaderData:Ae,errors:Pe}=await Mh(ce,D,me,oe.active,ne,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,be,re);fe||(se=null,ai(D,pt({matches:Ce||me},gE(re),{loaderData:Ae,errors:Pe})))}async function Dn(T,D,j,Q,ne,me){me===void 0&&(me={}),Bt();let be=eO(D,j);if(Dt({navigation:be},{flushSync:me.flushSync===!0}),ne){let re=await bs(Q,D.pathname,T.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let fe=Fs(re.partialMatches).route.id;return{matches:re.partialMatches,pendingActionResult:[fe,{type:tt.error,error:re.error}]}}else if(re.matches)Q=re.matches;else{let{notFoundMatches:fe,error:Ce,route:Ae}=vs(D.pathname);return{matches:fe,pendingActionResult:[Ae.id,{type:tt.error,error:Ce}]}}}let oe,ce=Zo(Q,D);if(!ce.route.action&&!ce.route.lazy)oe={type:tt.error,error:hn(405,{method:T.method,pathname:D.pathname,routeId:ce.route.id})};else if(oe=(await ps("action",L,T,[ce],Q,null))[ce.route.id],T.signal.aborted)return{shortCircuited:!0};if(qs(oe)){let re;return me&&me.replace!=null?re=me.replace:re=hE(oe.response.headers.get("Location"),new URL(T.url),p)===L.location.pathname+L.location.search,await Ri(T,oe,!0,{submission:j,replace:re}),{shortCircuited:!0}}if($r(oe))throw hn(400,{type:"defer-action"});if(Rn(oe)){let re=Fs(Q,ce.route.id);return(me&&me.replace)!==!0&&(Z=Ot.Push),{matches:Q,pendingActionResult:[re.route.id,oe]}}return{matches:Q,pendingActionResult:[ce.route.id,oe]}}async function Mh(T,D,j,Q,ne,me,be,oe,ce,re,fe){let Ce=ne||$p(D,me),Ae=me||be||vE(Ce),Pe=!_t&&(!y.v7_partialHydration||!ce);if(Q){if(Pe){let $e=Gl(fe);Dt(pt({navigation:Ce},$e!==void 0?{actionData:$e}:{}),{flushSync:re})}let He=await bs(j,D.pathname,T.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let $e=Fs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[$e]:He.error}}}else if(He.matches)j=He.matches;else{let{error:$e,notFoundMatches:ci,route:Oi}=vs(D.pathname);return{matches:ci,loaderData:{},errors:{[Oi.id]:$e}}}}let Ze=d||c,[Fe,Ke]=uE(n.history,L,j,Ae,D,y.v7_partialHydration&&ce===!0,y.v7_skipActionErrorRevalidation,ut,H,ie,Re,J,te,Ze,p,fe);if(Ai(He=>!(j&&j.some($e=>$e.route.id===He))||Fe&&Fe.some($e=>$e.route.id===He)),w=++Ve,Fe.length===0&&Ke.length===0){let He=li();return ai(D,pt({matches:j,loaderData:{},errors:fe&&Rn(fe[1])?{[fe[0]]:fe[1].error}:null},gE(fe),He?{fetchers:new Map(L.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(Pe){let He={};if(!Q){He.navigation=Ce;let $e=Gl(fe);$e!==void 0&&(He.actionData=$e)}Ke.length>0&&(He.fetchers=qu(Ke)),Dt(He,{flushSync:re})}Ke.forEach(He=>{gn(He.key),He.controller&&le.set(He.key,He.controller)});let _n=()=>Ke.forEach(He=>gn(He.key));se&&se.signal.addEventListener("abort",_n);let{loaderResults:Es,fetcherResults:Nn}=await cr(L,j,Fe,Ke,T);if(T.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",_n),Ke.forEach(He=>le.delete(He.key));let yn=sf(Es);if(yn)return await Ri(T,yn.result,!0,{replace:oe}),{shortCircuited:!0};if(yn=sf(Nn),yn)return te.add(yn.key),await Ri(T,yn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:Kl,errors:ui}=pE(L,j,Es,fe,Ke,Nn,_e);_e.forEach((He,$e)=>{He.subscribe(ci=>{(ci||He.done)&&_e.delete($e)})}),y.v7_partialHydration&&ce&&L.errors&&(ui=pt({},L.errors,ui));let Mn=li(),sn=gs(w),hr=Mn||sn||Ke.length>0;return pt({matches:j,loaderData:Kl,errors:ui},hr?{fetchers:new Map(L.fetchers)}:{})}function Gl(T){if(T&&!Rn(T[1]))return{[T[0]]:T[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function qu(T){return T.forEach(D=>{let j=L.fetchers.get(D.key),Q=Go(void 0,j?j.data:void 0);L.fetchers.set(D.key,Q)}),new Map(L.fetchers)}function va(T,D,j,Q){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");gn(T);let ne=(Q&&Q.flushSync)===!0,me=d||c,be=ym(L.location,L.matches,p,y.v7_prependBasename,j,y.v7_relativeSplatPath,D,Q==null?void 0:Q.relative),oe=Bs(me,be,p),ce=fr(oe,me,be);if(ce.active&&ce.matches&&(oe=ce.matches),!oe){mt(T,D,hn(404,{pathname:be}),{flushSync:ne});return}let{path:re,submission:fe,error:Ce}=lE(y.v7_normalizeFormMethod,!0,be,Q);if(Ce){mt(T,D,Ce,{flushSync:ne});return}let Ae=Zo(oe,re),Pe=(Q&&Q.preventScrollReset)===!0;if(fe&&Wn(fe.formMethod)){xh(T,D,re,Ae,oe,ce.active,ne,Pe,fe);return}J.set(T,{routeId:D,path:re}),Vu(T,D,re,Ae,oe,ce.active,ne,Pe,fe)}async function xh(T,D,j,Q,ne,me,be,oe,ce){Bt(),J.delete(T);function re(yt){if(!yt.route.action&&!yt.route.lazy){let Di=hn(405,{method:ce.formMethod,pathname:j,routeId:D});return mt(T,D,Di,{flushSync:be}),!0}return!1}if(!me&&re(Q))return;let fe=L.fetchers.get(T);Ft(T,tO(ce,fe),{flushSync:be});let Ce=new AbortController,Ae=tl(n.history,j,Ce.signal,ce);if(me){let yt=await bs(ne,new URL(Ae.url).pathname,Ae.signal,T);if(yt.type==="aborted")return;if(yt.type==="error"){mt(T,D,yt.error,{flushSync:be});return}else if(yt.matches){if(ne=yt.matches,Q=Zo(ne,j),re(Q))return}else{mt(T,D,hn(404,{pathname:j}),{flushSync:be});return}}le.set(T,Ce);let Pe=Ve,Fe=(await ps("action",L,Ae,[Q],ne,T))[Q.route.id];if(Ae.signal.aborted){le.get(T)===Ce&&le.delete(T);return}if(y.v7_fetcherPersist&&Re.has(T)){if(qs(Fe)||Rn(Fe)){Ft(T,kr(void 0));return}}else{if(qs(Fe))if(le.delete(T),w>Pe){Ft(T,kr(void 0));return}else return te.add(T),Ft(T,Go(ce)),Ri(Ae,Fe,!1,{fetcherSubmission:ce,preventScrollReset:oe});if(Rn(Fe)){mt(T,D,Fe.error);return}}if($r(Fe))throw hn(400,{type:"defer-action"});let Ke=L.navigation.location||L.location,_n=tl(n.history,Ke,Ce.signal),Es=d||c,Nn=L.navigation.state!=="idle"?Bs(Es,L.navigation.location,p):L.matches;Me(Nn,"Didn't find any matches after fetcher action");let yn=++Ve;V.set(T,yn);let Kl=Go(ce,Fe.data);L.fetchers.set(T,Kl);let[ui,Mn]=uE(n.history,L,Nn,ce,Ke,!1,y.v7_skipActionErrorRevalidation,ut,H,ie,Re,J,te,Es,p,[Q.route.id,Fe]);Mn.filter(yt=>yt.key!==T).forEach(yt=>{let Di=yt.key,Zt=L.fetchers.get(Di),Ku=Go(void 0,Zt?Zt.data:void 0);L.fetchers.set(Di,Ku),gn(Di),yt.controller&&le.set(Di,yt.controller)}),Dt({fetchers:new Map(L.fetchers)});let sn=()=>Mn.forEach(yt=>gn(yt.key));Ce.signal.addEventListener("abort",sn);let{loaderResults:hr,fetcherResults:He}=await cr(L,Nn,ui,Mn,_n);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",sn),V.delete(T),le.delete(T),Mn.forEach(yt=>le.delete(yt.key));let $e=sf(hr);if($e)return Ri(_n,$e.result,!1,{preventScrollReset:oe});if($e=sf(He),$e)return te.add($e.key),Ri(_n,$e.result,!1,{preventScrollReset:oe});let{loaderData:ci,errors:Oi}=pE(L,Nn,hr,void 0,Mn,He,_e);if(L.fetchers.has(T)){let yt=kr(Fe.data);L.fetchers.set(T,yt)}gs(yn),L.navigation.state==="loading"&&yn>w?(Me(Z,"Expected pending action"),se&&se.abort(),ai(L.navigation.location,{matches:Nn,loaderData:ci,errors:Oi,fetchers:new Map(L.fetchers)})):(Dt({errors:Oi,loaderData:mE(L.loaderData,ci,Nn,Oi),fetchers:new Map(L.fetchers)}),ut=!1)}async function Vu(T,D,j,Q,ne,me,be,oe,ce){let re=L.fetchers.get(T);Ft(T,Go(ce,re?re.data:void 0),{flushSync:be});let fe=new AbortController,Ce=tl(n.history,j,fe.signal);if(me){let Fe=await bs(ne,new URL(Ce.url).pathname,Ce.signal,T);if(Fe.type==="aborted")return;if(Fe.type==="error"){mt(T,D,Fe.error,{flushSync:be});return}else if(Fe.matches)ne=Fe.matches,Q=Zo(ne,j);else{mt(T,D,hn(404,{pathname:j}),{flushSync:be});return}}le.set(T,fe);let Ae=Ve,Ze=(await ps("loader",L,Ce,[Q],ne,T))[Q.route.id];if($r(Ze)&&(Ze=await fg(Ze,Ce.signal,!0)||Ze),le.get(T)===fe&&le.delete(T),!Ce.signal.aborted){if(Re.has(T)){Ft(T,kr(void 0));return}if(qs(Ze))if(w>Ae){Ft(T,kr(void 0));return}else{te.add(T),await Ri(Ce,Ze,!1,{preventScrollReset:oe});return}if(Rn(Ze)){mt(T,D,Ze.error);return}Me(!$r(Ze),"Unhandled fetcher deferred data"),Ft(T,kr(Ze.data))}}async function Ri(T,D,j,Q){let{submission:ne,fetcherSubmission:me,preventScrollReset:be,replace:oe}=Q===void 0?{}:Q;D.response.headers.has("X-Remix-Revalidate")&&(ut=!0);let ce=D.response.headers.get("Location");Me(ce,"Expected a Location header on the redirect Response"),ce=hE(ce,new URL(T.url),p);let re=ou(L.location,ce,{_isRedirect:!0});if(i){let Fe=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(cg.test(ce)){const Ke=n.history.createURL(ce);Fe=Ke.origin!==e.location.origin||tr(Ke.pathname,p)==null}if(Fe){oe?e.location.replace(ce):e.location.assign(ce);return}}se=null;let fe=oe===!0||D.response.headers.has("X-Remix-Replace")?Ot.Replace:Ot.Push,{formMethod:Ce,formAction:Ae,formEncType:Pe}=L.navigation;!ne&&!me&&Ce&&Ae&&Pe&&(ne=vE(L.navigation));let Ze=ne||me;if(U1.has(D.response.status)&&Ze&&Wn(Ze.formMethod))await wi(fe,re,{submission:pt({},Ze,{formAction:ce}),preventScrollReset:be||ee,enableViewTransition:j?ze:void 0});else{let Fe=$p(re,ne);await wi(fe,re,{overrideNavigation:Fe,fetcherSubmission:me,preventScrollReset:be||ee,enableViewTransition:j?ze:void 0})}}async function ps(T,D,j,Q,ne,me){let be,oe={};try{be=await q1(m,T,D,j,Q,ne,me,u,l)}catch(ce){return Q.forEach(re=>{oe[re.route.id]={type:tt.error,error:ce}}),oe}for(let[ce,re]of Object.entries(be))if(W1(re)){let fe=re.result;oe[ce]={type:tt.redirect,response:Y1(fe,j,ce,ne,p,y.v7_relativeSplatPath)}}else oe[ce]=await G1(re);return oe}async function cr(T,D,j,Q,ne){let me=T.matches,be=ps("loader",T,ne,j,D,null),oe=Promise.all(Q.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let Ae=(await ps("loader",T,tl(n.history,fe.path,fe.controller.signal),[fe.match],fe.matches,fe.key))[fe.match.route.id];return{[fe.key]:Ae}}else return Promise.resolve({[fe.key]:{type:tt.error,error:hn(404,{pathname:fe.path})}})})),ce=await be,re=(await oe).reduce((fe,Ce)=>Object.assign(fe,Ce),{});return await Promise.all([$1(D,ce,ne.signal,me,T.loaderData),J1(D,re,Q)]),{loaderResults:ce,fetcherResults:re}}function Bt(){ut=!0,H.push(...Ai()),J.forEach((T,D)=>{le.has(D)&&ie.add(D),gn(D)})}function Ft(T,D,j){j===void 0&&(j={}),L.fetchers.set(T,D),Dt({fetchers:new Map(L.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function mt(T,D,j,Q){Q===void 0&&(Q={});let ne=Fs(L.matches,D);ba(T),Dt({errors:{[ne.route.id]:j},fetchers:new Map(L.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Gu(T){return de.set(T,(de.get(T)||0)+1),Re.has(T)&&Re.delete(T),L.fetchers.get(T)||k1}function ba(T){let D=L.fetchers.get(T);le.has(T)&&!(D&&D.state==="loading"&&V.has(T))&&gn(T),J.delete(T),V.delete(T),te.delete(T),y.v7_fetcherPersist&&Re.delete(T),ie.delete(T),L.fetchers.delete(T)}function Ih(T){let D=(de.get(T)||0)-1;D<=0?(de.delete(T),Re.add(T),y.v7_fetcherPersist||ba(T)):de.set(T,D),Dt({fetchers:new Map(L.fetchers)})}function gn(T){let D=le.get(T);D&&(D.abort(),le.delete(T))}function ms(T){for(let D of T){let j=Gu(D),Q=kr(j.data);L.fetchers.set(D,Q)}}function li(){let T=[],D=!1;for(let j of te){let Q=L.fetchers.get(j);Me(Q,"Expected fetcher: "+j),Q.state==="loading"&&(te.delete(j),T.push(j),D=!0)}return ms(T),D}function gs(T){let D=[];for(let[j,Q]of V)if(Q<T){let ne=L.fetchers.get(j);Me(ne,"Expected fetcher: "+j),ne.state==="loading"&&(gn(j),V.delete(j),D.push(j))}return ms(D),D.length>0}function _s(T,D){let j=L.blockers.get(T)||Vo;return Tt.get(T)!==D&&Tt.set(T,D),j}function Yu(T){L.blockers.delete(T),Tt.delete(T)}function ys(T,D){let j=L.blockers.get(T)||Vo;Me(j.state==="unblocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="proceeding"||j.state==="blocked"&&D.state==="unblocked"||j.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+D.state);let Q=new Map(L.blockers);Q.set(T,D),Dt({blockers:Q})}function Yl(T){let{currentLocation:D,nextLocation:j,historyAction:Q}=T;if(Tt.size===0)return;Tt.size>1&&Rl(!1,"A router only supports one blocker at a time");let ne=Array.from(Tt.entries()),[me,be]=ne[ne.length-1],oe=L.blockers.get(me);if(!(oe&&oe.state==="proceeding")&&be({currentLocation:D,nextLocation:j,historyAction:Q}))return me}function vs(T){let D=hn(404,{pathname:T}),j=d||c,{matches:Q,route:ne}=_E(j);return Ai(),{notFoundMatches:Q,route:ne,error:D}}function Ai(T){let D=[];return _e.forEach((j,Q)=>{(!T||T(Q))&&(j.cancel(),D.push(Q),_e.delete(Q))}),D}function Lh(T,D,j){if(O=T,x=D,U=j||null,!W&&L.navigation===Zp){W=!0;let Q=Ea(L.location,L.matches);Q!=null&&Dt({restoreScrollPosition:Q})}return()=>{O=null,x=null,U=null}}function Ql(T,D){return U&&U(T,D.map(Q=>d1(Q,L.loaderData)))||T.key}function Qu(T,D){if(O&&x){let j=Ql(T,D);O[j]=x()}}function Ea(T,D){if(O){let j=Ql(T,D),Q=O[j];if(typeof Q=="number")return Q}return null}function fr(T,D,j){if(_)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:pf(D,j,p,!0)}}else return{active:!0,matches:pf(D,j,p,!0)||[]};return{active:!1,matches:null}}async function bs(T,D,j,Q){if(!_)return{type:"success",matches:T};let ne=T;for(;;){let me=d==null,be=d||c,oe=u;try{await _({signal:j,path:D,matches:ne,fetcherKey:Q,patch:(fe,Ce)=>{j.aborted||fE(fe,Ce,be,oe,l)}})}catch(fe){return{type:"error",error:fe,partialMatches:ne}}finally{me&&!j.aborted&&(c=[...c])}if(j.aborted)return{type:"aborted"};let ce=Bs(be,D,p);if(ce)return{type:"success",matches:ce};let re=pf(be,D,p,!0);if(!re||ne.length===re.length&&ne.every((fe,Ce)=>fe.route.id===re[Ce].route.id))return{type:"success",matches:null};ne=re}}function Uh(T){u={},d=Tf(T,l,void 0,u)}function oi(T,D){let j=d==null;fE(T,D,d||c,u,l),j&&(c=[...c],Dt({}))}return ue={get basename(){return p},get future(){return y},get state(){return L},get routes(){return c},get window(){return e},initialize:si,subscribe:_a,enableScrollRestoration:Lh,navigate:ya,fetch:va,revalidate:Nh,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Gu,deleteFetcher:Ih,dispose:Vl,getBlocker:_s,deleteBlocker:Yu,patchRoutes:oi,_internalFetchControllers:le,_internalActiveDeferreds:_e,_internalSetRoutes:Uh},ue}function z1(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ym(n,e,i,s,l,u,c,d){let p,m;if(c){p=[];for(let y of e)if(p.push(y),y.route.id===c){m=y;break}}else p=e,m=e[e.length-1];let _=sh(l||".",rh(p,u),tr(n.pathname,i)||n.pathname,d==="path");if(l==null&&(_.search=n.search,_.hash=n.hash),(l==null||l===""||l===".")&&m){let y=hg(_.search);if(m.route.index&&!y)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let b=new URLSearchParams(_.search),S=b.getAll("index");b.delete("index"),S.filter(U=>U).forEach(U=>b.append("index",U));let O=b.toString();_.search=O?"?"+O:""}}return s&&i!=="/"&&(_.pathname=_.pathname==="/"?i:Xi([i,_.pathname])),ta(_)}function lE(n,e,i,s){if(!s||!z1(s))return{path:i};if(s.formMethod&&!Z1(s.formMethod))return{path:i,error:hn(405,{method:s.formMethod})};let l=()=>({path:i,error:hn(400,{type:"invalid-body"})}),u=s.formMethod||"get",c=n?u.toUpperCase():u.toLowerCase(),d=SS(i);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Wn(c))return l();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((S,O)=>{let[U,x]=O;return""+S+U+"="+x+`
`},""):String(s.body);return{path:i,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!Wn(c))return l();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:i,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return l()}}}Me(typeof FormData=="function","FormData is not available in this environment");let p,m;if(s.formData)p=bm(s.formData),m=s.formData;else if(s.body instanceof FormData)p=bm(s.body),m=s.body;else if(s.body instanceof URLSearchParams)p=s.body,m=dE(p);else if(s.body==null)p=new URLSearchParams,m=new FormData;else try{p=new URLSearchParams(s.body),m=dE(p)}catch{return l()}let _={formMethod:c,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Wn(_.formMethod))return{path:i,submission:_};let y=os(i);return e&&y.search&&hg(y.search)&&p.append("index",""),y.search="?"+p,{path:ta(y),submission:_}}function oE(n,e,i){i===void 0&&(i=!1);let s=n.findIndex(l=>l.route.id===e);return s>=0?n.slice(0,i?s+1:s):n}function uE(n,e,i,s,l,u,c,d,p,m,_,y,b,S,O,U){let x=U?Rn(U[1])?U[1].error:U[1].data:void 0,W=n.createURL(e.location),G=n.createURL(l),X=i;u&&e.errors?X=oE(i,Object.keys(e.errors)[0],!0):U&&Rn(U[1])&&(X=oE(i,U[0]));let K=U?U[1].statusCode:void 0,Y=c&&K&&K>=400,ue=X.filter((Z,ee)=>{let{route:se}=Z;if(se.lazy)return!0;if(se.loader==null)return!1;if(u)return vm(se,e.loaderData,e.errors);if(H1(e.loaderData,e.matches[ee],Z)||p.some(ot=>ot===Z.route.id))return!0;let ze=e.matches[ee],we=Z;return cE(Z,pt({currentUrl:W,currentParams:ze.params,nextUrl:G,nextParams:we.params},s,{actionResult:x,actionStatus:K,defaultShouldRevalidate:Y?!1:d||W.pathname+W.search===G.pathname+G.search||W.search!==G.search||bS(ze,we)}))}),L=[];return y.forEach((Z,ee)=>{if(u||!i.some(_t=>_t.route.id===Z.routeId)||_.has(ee))return;let se=Bs(S,Z.path,O);if(!se){L.push({key:ee,routeId:Z.routeId,path:Z.path,matches:null,match:null,controller:null});return}let ze=e.fetchers.get(ee),we=Zo(se,Z.path),ot=!1;b.has(ee)?ot=!1:m.has(ee)?(m.delete(ee),ot=!0):ze&&ze.state!=="idle"&&ze.data===void 0?ot=d:ot=cE(we,pt({currentUrl:W,currentParams:e.matches[e.matches.length-1].params,nextUrl:G,nextParams:i[i.length-1].params},s,{actionResult:x,actionStatus:K,defaultShouldRevalidate:Y?!1:d})),ot&&L.push({key:ee,routeId:Z.routeId,path:Z.path,matches:se,match:we,controller:new AbortController})}),[ue,L]}function vm(n,e,i){if(n.lazy)return!0;if(!n.loader)return!1;let s=e!=null&&e[n.id]!==void 0,l=i!=null&&i[n.id]!==void 0;return!s&&l?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!s&&!l}function H1(n,e,i){let s=!e||i.route.id!==e.route.id,l=n[i.route.id]===void 0;return s||l}function bS(n,e){let i=n.route.path;return n.pathname!==e.pathname||i!=null&&i.endsWith("*")&&n.params["*"]!==e.params["*"]}function cE(n,e){if(n.route.shouldRevalidate){let i=n.route.shouldRevalidate(e);if(typeof i=="boolean")return i}return e.defaultShouldRevalidate}function fE(n,e,i,s,l){var u;let c;if(n){let m=s[n];Me(m,"No route found to patch children into: routeId = "+n),m.children||(m.children=[]),c=m.children}else c=i;let d=e.filter(m=>!c.some(_=>ES(m,_))),p=Tf(d,l,[n||"_","patch",String(((u=c)==null?void 0:u.length)||"0")],s);c.push(...p)}function ES(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((i,s)=>{var l;return(l=e.children)==null?void 0:l.some(u=>ES(i,u))}):!1}async function B1(n,e,i){if(!n.lazy)return;let s=await n.lazy();if(!n.lazy)return;let l=i[n.id];Me(l,"No route found in manifest");let u={};for(let c in s){let p=l[c]!==void 0&&c!=="hasErrorBoundary";Rl(!p,'Route "'+l.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!f1.has(c)&&(u[c]=s[c])}Object.assign(l,u),Object.assign(l,pt({},e(l),{lazy:void 0}))}async function F1(n){let{matches:e}=n,i=e.filter(l=>l.shouldLoad);return(await Promise.all(i.map(l=>l.resolve()))).reduce((l,u,c)=>Object.assign(l,{[i[c].route.id]:u}),{})}async function q1(n,e,i,s,l,u,c,d,p,m){let _=u.map(S=>S.route.lazy?B1(S.route,p,d):void 0),y=u.map((S,O)=>{let U=_[O],x=l.some(G=>G.route.id===S.route.id);return pt({},S,{shouldLoad:x,resolve:async G=>(G&&s.method==="GET"&&(S.route.lazy||S.route.loader)&&(x=!0),x?V1(e,s,S,U,G,m):Promise.resolve({type:tt.data,result:void 0}))})}),b=await n({matches:y,request:s,params:u[0].params,fetcherKey:c,context:m});try{await Promise.all(_)}catch{}return b}async function V1(n,e,i,s,l,u){let c,d,p=m=>{let _,y=new Promise((O,U)=>_=U);d=()=>_(),e.signal.addEventListener("abort",d);let b=O=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+i.route.id+"]"))):m({request:e,params:i.params,context:u},...O!==void 0?[O]:[]),S=(async()=>{try{return{type:"data",result:await(l?l(U=>b(U)):b())}}catch(O){return{type:"error",result:O}}})();return Promise.race([S,y])};try{let m=i.route[n];if(s)if(m){let _,[y]=await Promise.all([p(m).catch(b=>{_=b}),s]);if(_!==void 0)throw _;c=y}else if(await s,m=i.route[n],m)c=await p(m);else if(n==="action"){let _=new URL(e.url),y=_.pathname+_.search;throw hn(405,{method:e.method,pathname:y,routeId:i.route.id})}else return{type:tt.data,result:void 0};else if(m)c=await p(m);else{let _=new URL(e.url),y=_.pathname+_.search;throw hn(404,{pathname:y})}Me(c.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:tt.error,result:m}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function G1(n){let{result:e,type:i}=n;if(TS(e)){let y;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(b){return{type:tt.error,error:b}}return i===tt.error?{type:tt.error,error:new wf(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:tt.data,data:y,statusCode:e.status,headers:e.headers}}if(i===tt.error){if(yE(e)){var s,l;if(e.data instanceof Error){var u,c;return{type:tt.error,error:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:tt.error,error:new wf(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:uu(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:tt.error,error:e,statusCode:uu(e)?e.status:void 0}}if(X1(e)){var d,p;return{type:tt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((p=e.init)==null?void 0:p.headers)&&new Headers(e.init.headers)}}if(yE(e)){var m,_;return{type:tt.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(_=e.init)!=null&&_.headers?new Headers(e.init.headers):void 0}}return{type:tt.data,data:e}}function Y1(n,e,i,s,l,u){let c=n.headers.get("Location");if(Me(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!cg.test(c)){let d=s.slice(0,s.findIndex(p=>p.route.id===i)+1);c=ym(new URL(e.url),d,l,!0,c,u),n.headers.set("Location",c)}return n}function hE(n,e,i){if(cg.test(n)){let s=n,l=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=tr(l.pathname,i)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return n}function tl(n,e,i,s){let l=n.createURL(SS(e)).toString(),u={signal:i};if(s&&Wn(s.formMethod)){let{formMethod:c,formEncType:d}=s;u.method=c.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=bm(s.formData):u.body=s.formData}return new Request(l,u)}function bm(n){let e=new URLSearchParams;for(let[i,s]of n.entries())e.append(i,typeof s=="string"?s:s.name);return e}function dE(n){let e=new FormData;for(let[i,s]of n.entries())e.append(i,s);return e}function Q1(n,e,i,s,l){let u={},c=null,d,p=!1,m={},_=i&&Rn(i[1])?i[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let b=y.route.id,S=e[b];if(Me(!qs(S),"Cannot handle redirect results in processLoaderData"),Rn(S)){let O=S.error;_!==void 0&&(O=_,_=void 0),c=c||{};{let U=Fs(n,b);c[U.route.id]==null&&(c[U.route.id]=O)}u[b]=void 0,p||(p=!0,d=uu(S.error)?S.error.status:500),S.headers&&(m[b]=S.headers)}else $r(S)?(s.set(b,S.deferredData),u[b]=S.deferredData.data,S.statusCode!=null&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(m[b]=S.headers)):(u[b]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(m[b]=S.headers))}),_!==void 0&&i&&(c={[i[0]]:_},u[i[0]]=void 0),{loaderData:u,errors:c,statusCode:d||200,loaderHeaders:m}}function pE(n,e,i,s,l,u,c){let{loaderData:d,errors:p}=Q1(e,i,s,c);return l.forEach(m=>{let{key:_,match:y,controller:b}=m,S=u[_];if(Me(S,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Rn(S)){let O=Fs(n.matches,y==null?void 0:y.route.id);p&&p[O.route.id]||(p=pt({},p,{[O.route.id]:S.error})),n.fetchers.delete(_)}else if(qs(S))Me(!1,"Unhandled fetcher revalidation redirect");else if($r(S))Me(!1,"Unhandled fetcher deferred data");else{let O=kr(S.data);n.fetchers.set(_,O)}}),{loaderData:d,errors:p}}function mE(n,e,i,s){let l=pt({},e);for(let u of i){let c=u.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(l[c]=e[c]):n[c]!==void 0&&u.route.loader&&(l[c]=n[c]),s&&s.hasOwnProperty(c))break}return l}function gE(n){return n?Rn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Fs(n,e){return(e?n.slice(0,n.findIndex(s=>s.route.id===e)+1):[...n]).reverse().find(s=>s.route.hasErrorBoundary===!0)||n[0]}function _E(n){let e=n.length===1?n[0]:n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(n,e){let{pathname:i,routeId:s,method:l,type:u,message:c}=e===void 0?{}:e,d="Unknown Server Error",p="Unknown @remix-run/router error";return n===400?(d="Bad Request",l&&i&&s?p="You made a "+l+' request to "'+i+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":u==="defer-action"?p="defer() is not supported in actions":u==="invalid-body"&&(p="Unable to encode submission body")):n===403?(d="Forbidden",p='Route "'+s+'" does not match URL "'+i+'"'):n===404?(d="Not Found",p='No route matches URL "'+i+'"'):n===405&&(d="Method Not Allowed",l&&i&&s?p="You made a "+l.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":l&&(p='Invalid request method "'+l.toUpperCase()+'"')),new wf(n||500,d,new Error(p),!0)}function sf(n){let e=Object.entries(n);for(let i=e.length-1;i>=0;i--){let[s,l]=e[i];if(qs(l))return{key:s,result:l}}}function SS(n){let e=typeof n=="string"?os(n):n;return ta(pt({},e,{hash:""}))}function K1(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function W1(n){return TS(n.result)&&L1.has(n.result.status)}function $r(n){return n.type===tt.deferred}function Rn(n){return n.type===tt.error}function qs(n){return(n&&n.type)===tt.redirect}function yE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function X1(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function TS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Z1(n){return I1.has(n.toLowerCase())}function Wn(n){return M1.has(n.toLowerCase())}async function $1(n,e,i,s,l){let u=Object.entries(e);for(let c=0;c<u.length;c++){let[d,p]=u[c],m=n.find(b=>(b==null?void 0:b.route.id)===d);if(!m)continue;let _=s.find(b=>b.route.id===m.route.id),y=_!=null&&!bS(_,m)&&(l&&l[m.route.id])!==void 0;$r(p)&&y&&await fg(p,i,!1).then(b=>{b&&(e[d]=b)})}}async function J1(n,e,i){for(let s=0;s<i.length;s++){let{key:l,routeId:u,controller:c}=i[s],d=e[l];n.find(m=>(m==null?void 0:m.route.id)===u)&&$r(d)&&(Me(c,"Expected an AbortController for revalidating fetcher deferred result"),await fg(d,c.signal,!0).then(m=>{m&&(e[l]=m)}))}}async function fg(n,e,i){if(i===void 0&&(i=!1),!await n.deferredData.resolveData(e)){if(i)try{return{type:tt.data,data:n.deferredData.unwrappedData}}catch(l){return{type:tt.error,error:l}}return{type:tt.data,data:n.deferredData.data}}}function hg(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Zo(n,e){let i=typeof e=="string"?os(e).search:e.search;if(n[n.length-1].route.index&&hg(i||""))return n[n.length-1];let s=_S(n);return s[s.length-1]}function vE(n){let{formMethod:e,formAction:i,formEncType:s,text:l,formData:u,json:c}=n;if(!(!e||!i||!s)){if(l!=null)return{formMethod:e,formAction:i,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:i,formEncType:s,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:i,formEncType:s,formData:void 0,json:c,text:void 0}}}function $p(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eO(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Go(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tO(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function kr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function nO(n,e){try{let i=n.sessionStorage.getItem(vS);if(i){let s=JSON.parse(i);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function iO(n,e){if(e.size>0){let i={};for(let[s,l]of e)i[s]=[...l];try{n.sessionStorage.setItem(vS,JSON.stringify(i))}catch(s){Rl(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Rf.apply(this,arguments)}const Nu=z.createContext(null),dg=z.createContext(null),lr=z.createContext(null),pg=z.createContext(null),Ci=z.createContext({outlet:null,matches:[],isDataRoute:!1}),CS=z.createContext(null);function rO(n,e){let{relative:i}=e===void 0?{}:e;Ul()||Me(!1);let{basename:s,navigator:l}=z.useContext(lr),{hash:u,pathname:c,search:d}=ah(n,{relative:i}),p=c;return s!=="/"&&(p=c==="/"?s:Xi([s,c])),l.createHref({pathname:p,search:d,hash:u})}function Ul(){return z.useContext(pg)!=null}function da(){return Ul()||Me(!1),z.useContext(pg).location}function wS(n){z.useContext(lr).static||z.useLayoutEffect(n)}function pa(){let{isDataRoute:n}=z.useContext(Ci);return n?_O():sO()}function sO(){Ul()||Me(!1);let n=z.useContext(Nu),{basename:e,future:i,navigator:s}=z.useContext(lr),{matches:l}=z.useContext(Ci),{pathname:u}=da(),c=JSON.stringify(rh(l,i.v7_relativeSplatPath)),d=z.useRef(!1);return wS(()=>{d.current=!0}),z.useCallback(function(m,_){if(_===void 0&&(_={}),!d.current)return;if(typeof m=="number"){s.go(m);return}let y=sh(m,JSON.parse(c),u,_.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xi([e,y.pathname])),(_.replace?s.replace:s.push)(y,_.state,_)},[e,s,c,u,n])}const aO=z.createContext(null);function lO(n){let e=z.useContext(Ci).outlet;return e&&z.createElement(aO.Provider,{value:n},e)}function RS(){let{matches:n}=z.useContext(Ci),e=n[n.length-1];return e?e.params:{}}function ah(n,e){let{relative:i}=e===void 0?{}:e,{future:s}=z.useContext(lr),{matches:l}=z.useContext(Ci),{pathname:u}=da(),c=JSON.stringify(rh(l,s.v7_relativeSplatPath));return z.useMemo(()=>sh(n,JSON.parse(c),u,i==="path"),[n,c,u,i])}function oO(n,e,i,s){Ul()||Me(!1);let{navigator:l,static:u}=z.useContext(lr),{matches:c}=z.useContext(Ci),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let _=da(),y;y=_;let b=y.pathname||"/",S=b;if(m!=="/"){let x=m.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(x.length).join("/")}let O=!u&&i&&i.matches&&i.matches.length>0?i.matches:Bs(n,{pathname:S});return dO(O&&O.map(x=>Object.assign({},x,{params:Object.assign({},p,x.params),pathname:Xi([m,l.encodeLocation?l.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?m:Xi([m,l.encodeLocation?l.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),c,i,s)}function uO(){let n=NS(),e=uu(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),i?z.createElement("pre",{style:l},i):null,null)}const cO=z.createElement(uO,null);class fO extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?z.createElement(Ci.Provider,{value:this.props.routeContext},z.createElement(CS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hO(n){let{routeContext:e,match:i,children:s}=n,l=z.useContext(Nu);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),z.createElement(Ci.Provider,{value:e},s)}function dO(n,e,i,s){var l;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),n==null){var u;if(!i)return null;if(i.errors)n=i.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,d=(l=i)==null?void 0:l.errors;if(d!=null){let _=c.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);_>=0||Me(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,m=-1;if(i&&s&&s.v7_partialHydration)for(let _=0;_<c.length;_++){let y=c[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=_),y.route.id){let{loaderData:b,errors:S}=i,O=y.route.loader&&b[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||O){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((_,y,b)=>{let S,O=!1,U=null,x=null;i&&(S=d&&y.route.id?d[y.route.id]:void 0,U=y.route.errorElement||cO,p&&(m<0&&b===0?(yO("route-fallback"),O=!0,x=null):m===b&&(O=!0,x=y.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,b+1)),G=()=>{let X;return S?X=U:O?X=x:y.route.Component?X=z.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=_,z.createElement(hO,{match:y,routeContext:{outlet:_,matches:W,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?z.createElement(fO,{location:i.location,revalidation:i.revalidation,component:U,error:S,children:G(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):G()},null)}var AS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(AS||{}),OS=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(OS||{});function pO(n){let e=z.useContext(Nu);return e||Me(!1),e}function mO(n){let e=z.useContext(dg);return e||Me(!1),e}function gO(n){let e=z.useContext(Ci);return e||Me(!1),e}function DS(n){let e=gO(),i=e.matches[e.matches.length-1];return i.route.id||Me(!1),i.route.id}function NS(){var n;let e=z.useContext(CS),i=mO(OS.UseRouteError),s=DS();return e!==void 0?e:(n=i.errors)==null?void 0:n[s]}function _O(){let{router:n}=pO(AS.UseNavigateStable),e=DS(),i=z.useRef(!1);return wS(()=>{i.current=!0}),z.useCallback(function(l,u){u===void 0&&(u={}),i.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,Rf({fromRouteId:e},u)))},[n,e])}const bE={};function yO(n,e,i){bE[n]||(bE[n]=!0)}function vO(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function lh(n){let{to:e,replace:i,state:s,relative:l}=n;Ul()||Me(!1);let{future:u,static:c}=z.useContext(lr),{matches:d}=z.useContext(Ci),{pathname:p}=da(),m=pa(),_=sh(e,rh(d,u.v7_relativeSplatPath),p,l==="path"),y=JSON.stringify(_);return z.useEffect(()=>m(JSON.parse(y),{replace:i,state:s,relative:l}),[m,y,l,i,s]),null}function MS(n){return lO(n.context)}function bO(n){let{basename:e="/",children:i=null,location:s,navigationType:l=Ot.Pop,navigator:u,static:c=!1,future:d}=n;Ul()&&Me(!1);let p=e.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:p,navigator:u,static:c,future:Rf({v7_relativeSplatPath:!1},d)}),[p,d,u,c]);typeof s=="string"&&(s=os(s));let{pathname:_="/",search:y="",hash:b="",state:S=null,key:O="default"}=s,U=z.useMemo(()=>{let x=tr(_,p);return x==null?null:{location:{pathname:x,search:y,hash:b,state:S,key:O},navigationType:l}},[p,_,y,b,S,O,l]);return U==null?null:z.createElement(lr.Provider,{value:m},z.createElement(pg.Provider,{children:i,value:U}))}new Promise(()=>{});function EO(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:z.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Al.apply(this,arguments)}function xS(n,e){if(n==null)return{};var i={},s=Object.keys(n),l,u;for(u=0;u<s.length;u++)l=s[u],!(e.indexOf(l)>=0)&&(i[l]=n[l]);return i}function SO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TO(n,e){return n.button===0&&(!e||e==="_self")&&!SO(n)}function Em(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,i)=>{let s=n[i];return e.concat(Array.isArray(s)?s.map(l=>[i,l]):[[i,s]])},[]))}function CO(n,e){let i=Em(n);return e&&e.forEach((s,l)=>{i.has(l)||e.getAll(l).forEach(u=>{i.append(l,u)})}),i}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AO="6";try{window.__reactRouterVersion=AO}catch{}function OO(n,e){return j1({basename:void 0,future:Al({},void 0,{v7_prependBasename:!0}),history:o1({window:void 0}),hydrationData:DO(),routes:n,mapRouteProperties:EO,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function DO(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Al({},e,{errors:NO(e.errors)})),e}function NO(n){if(!n)return null;let e=Object.entries(n),i={};for(let[s,l]of e)if(l&&l.__type==="RouteErrorResponse")i[s]=new wf(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let c=new u(l.message);c.stack="",i[s]=c}catch{}}if(i[s]==null){let u=new Error(l.message);u.stack="",i[s]=u}}else i[s]=l;return i}const IS=z.createContext({isTransitioning:!1}),MO=z.createContext(new Map),xO="startTransition",EE=IA[xO],IO="flushSync",SE=l1[IO];function LO(n){EE?EE(n):n()}function Yo(n){SE?SE(n):n()}let UO=class{constructor(){this.status="pending",this.promise=new Promise((e,i)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",i(s))}})}};function kO(n){let{fallbackElement:e,router:i,future:s}=n,[l,u]=z.useState(i.state),[c,d]=z.useState(),[p,m]=z.useState({isTransitioning:!1}),[_,y]=z.useState(),[b,S]=z.useState(),[O,U]=z.useState(),x=z.useRef(new Map),{v7_startTransition:W}=s||{},G=z.useCallback(Z=>{W?LO(Z):Z()},[W]),X=z.useCallback((Z,ee)=>{let{deletedFetchers:se,flushSync:ze,viewTransitionOpts:we}=ee;Z.fetchers.forEach((_t,ut)=>{_t.data!==void 0&&x.current.set(ut,_t.data)}),se.forEach(_t=>x.current.delete(_t));let ot=i.window==null||i.window.document==null||typeof i.window.document.startViewTransition!="function";if(!we||ot){ze?Yo(()=>u(Z)):G(()=>u(Z));return}if(ze){Yo(()=>{b&&(_&&_.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:we.currentLocation,nextLocation:we.nextLocation})});let _t=i.window.document.startViewTransition(()=>{Yo(()=>u(Z))});_t.finished.finally(()=>{Yo(()=>{y(void 0),S(void 0),d(void 0),m({isTransitioning:!1})})}),Yo(()=>S(_t));return}b?(_&&_.resolve(),b.skipTransition(),U({state:Z,currentLocation:we.currentLocation,nextLocation:we.nextLocation})):(d(Z),m({isTransitioning:!0,flushSync:!1,currentLocation:we.currentLocation,nextLocation:we.nextLocation}))},[i.window,b,_,x,G]);z.useLayoutEffect(()=>i.subscribe(X),[i,X]),z.useEffect(()=>{p.isTransitioning&&!p.flushSync&&y(new UO)},[p]),z.useEffect(()=>{if(_&&c&&i.window){let Z=c,ee=_.promise,se=i.window.document.startViewTransition(async()=>{G(()=>u(Z)),await ee});se.finished.finally(()=>{y(void 0),S(void 0),d(void 0),m({isTransitioning:!1})}),S(se)}},[G,c,_,i.window]),z.useEffect(()=>{_&&c&&l.location.key===c.location.key&&_.resolve()},[_,b,l.location,c]),z.useEffect(()=>{!p.isTransitioning&&O&&(d(O.state),m({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),U(void 0))},[p.isTransitioning,O]),z.useEffect(()=>{},[]);let K=z.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,ee,se)=>i.navigate(Z,{state:ee,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(Z,ee,se)=>i.navigate(Z,{replace:!0,state:ee,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[i]),Y=i.basename||"/",ue=z.useMemo(()=>({router:i,navigator:K,static:!1,basename:Y}),[i,K,Y]),L=z.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return z.useEffect(()=>vO(s,i.future),[s,i.future]),z.createElement(z.Fragment,null,z.createElement(Nu.Provider,{value:ue},z.createElement(dg.Provider,{value:l},z.createElement(MO.Provider,{value:x.current},z.createElement(IS.Provider,{value:p},z.createElement(bO,{basename:Y,location:l.location,navigationType:l.historyAction,navigator:K,future:L},l.initialized||i.future.v7_partialHydration?z.createElement(PO,{routes:i.routes,future:i.future,state:l}):e))))),null)}const PO=z.memo(jO);function jO(n){let{routes:e,future:i,state:s}=n;return oO(e,void 0,s,i)}const zO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=z.forwardRef(function(e,i){let{onClick:s,relative:l,reloadDocument:u,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:y}=e,b=xS(e,wO),{basename:S}=z.useContext(lr),O,U=!1;if(typeof m=="string"&&HO.test(m)&&(O=m,zO))try{let X=new URL(window.location.href),K=m.startsWith("//")?new URL(X.protocol+m):new URL(m),Y=tr(K.pathname,S);K.origin===X.origin&&Y!=null?m=Y+K.search+K.hash:U=!0}catch{}let x=rO(m,{relative:l}),W=FO(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:l,viewTransition:y});function G(X){s&&s(X),X.defaultPrevented||W(X)}return z.createElement("a",Al({},b,{href:O||x,onClick:U||u?s:G,ref:i,target:p}))}),rl=z.forwardRef(function(e,i){let{"aria-current":s="page",caseSensitive:l=!1,className:u="",end:c=!1,style:d,to:p,viewTransition:m,children:_}=e,y=xS(e,RO),b=ah(p,{relative:y.relative}),S=da(),O=z.useContext(dg),{navigator:U,basename:x}=z.useContext(lr),W=O!=null&&VO(b)&&m===!0,G=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,X=S.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;l||(X=X.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&x&&(K=tr(K,x)||K);const Y=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ue=X===G||!c&&X.startsWith(G)&&X.charAt(Y)==="/",L=K!=null&&(K===G||!c&&K.startsWith(G)&&K.charAt(G.length)==="/"),Z={isActive:ue,isPending:L,isTransitioning:W},ee=ue?s:void 0,se;typeof u=="function"?se=u(Z):se=[u,ue?"active":null,L?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let ze=typeof d=="function"?d(Z):d;return z.createElement(Mu,Al({},y,{"aria-current":ee,className:se,ref:i,style:ze,to:p,viewTransition:m}),typeof _=="function"?_(Z):_)});var Sm;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Sm||(Sm={}));var TE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function BO(n){let e=z.useContext(Nu);return e||Me(!1),e}function FO(n,e){let{target:i,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:d}=e===void 0?{}:e,p=pa(),m=da(),_=ah(n,{relative:c});return z.useCallback(y=>{if(TO(y,i)){y.preventDefault();let b=s!==void 0?s:ta(m)===ta(_);p(n,{replace:b,state:l,preventScrollReset:u,relative:c,viewTransition:d})}},[m,p,_,s,l,i,n,u,c,d])}function qO(n){let e=z.useRef(Em(n)),i=z.useRef(!1),s=da(),l=z.useMemo(()=>CO(s.search,i.current?null:e.current),[s.search]),u=pa(),c=z.useCallback((d,p)=>{const m=Em(typeof d=="function"?d(l):d);i.current=!0,u("?"+m,p)},[u,l]);return[l,c]}function VO(n,e){e===void 0&&(e={});let i=z.useContext(IS);i==null&&Me(!1);let{basename:s}=BO(Sm.useViewTransitionState),l=ah(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=tr(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=tr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Cf(l.pathname,c)!=null||Cf(l.pathname,u)!=null}var kl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},na=typeof window>"u"||"Deno"in globalThis;function Fn(){}function GO(n,e){return typeof n=="function"?n(e):n}function Tm(n){return typeof n=="number"&&n>=0&&n!==1/0}function LS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ll(n,e){return typeof n=="function"?n(e):n}function Xn(n,e){return typeof n=="function"?n(e):n}function CE(n,e){const{type:i="all",exact:s,fetchStatus:l,predicate:u,queryKey:c,stale:d}=n;if(c){if(s){if(e.queryHash!==mg(c,e.options))return!1}else if(!cu(e.queryKey,c))return!1}if(i!=="all"){const p=e.isActive();if(i==="active"&&!p||i==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||l&&l!==e.state.fetchStatus||u&&!u(e))}function wE(n,e){const{exact:i,status:s,predicate:l,mutationKey:u}=n;if(u){if(!e.options.mutationKey)return!1;if(i){if(ia(e.options.mutationKey)!==ia(u))return!1}else if(!cu(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||l&&!l(e))}function mg(n,e){return((e==null?void 0:e.queryKeyHashFn)||ia)(n)}function ia(n){return JSON.stringify(n,(e,i)=>Cm(i)?Object.keys(i).sort().reduce((s,l)=>(s[l]=i[l],s),{}):i)}function cu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(i=>cu(n[i],e[i])):!1}function US(n,e){if(n===e)return n;const i=RE(n)&&RE(e);if(i||Cm(n)&&Cm(e)){const s=i?n:Object.keys(n),l=s.length,u=i?e:Object.keys(e),c=u.length,d=i?[]:{};let p=0;for(let m=0;m<c;m++){const _=i?m:u[m];(!i&&s.includes(_)||i)&&n[_]===void 0&&e[_]===void 0?(d[_]=void 0,p++):(d[_]=US(n[_],e[_]),d[_]===n[_]&&n[_]!==void 0&&p++)}return l===c&&p===l?n:d}return e}function Af(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const i in n)if(n[i]!==e[i])return!1;return!0}function RE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Cm(n){if(!AE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const i=e.prototype;return!(!AE(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function AE(n){return Object.prototype.toString.call(n)==="[object Object]"}function YO(n){return new Promise(e=>{setTimeout(e,n)})}function wm(n,e,i){return typeof i.structuralSharing=="function"?i.structuralSharing(n,e):i.structuralSharing!==!1?US(n,e):e}function QO(n,e,i=0){const s=[...n,e];return i&&s.length>i?s.slice(1):s}function KO(n,e,i=0){const s=[e,...n];return i&&s.length>i?s.slice(0,-1):s}var gg=Symbol();function kS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===gg?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ys,Fr,dl,J0,WO=(J0=class extends kl{constructor(){super();ge(this,Ys);ge(this,Fr);ge(this,dl);ae(this,dl,e=>{if(!na&&window.addEventListener){const i=()=>e();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){C(this,Fr)||this.setEventListener(C(this,dl))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Fr))==null||e.call(this),ae(this,Fr,void 0))}setEventListener(e){var i;ae(this,dl,e),(i=C(this,Fr))==null||i.call(this),ae(this,Fr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){C(this,Ys)!==e&&(ae(this,Ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(i=>{i(e)})}isFocused(){var e;return typeof C(this,Ys)=="boolean"?C(this,Ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ys=new WeakMap,Fr=new WeakMap,dl=new WeakMap,J0),_g=new WO,pl,qr,ml,eS,XO=(eS=class extends kl{constructor(){super();ge(this,pl,!0);ge(this,qr);ge(this,ml);ae(this,ml,e=>{if(!na&&window.addEventListener){const i=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}}})}onSubscribe(){C(this,qr)||this.setEventListener(C(this,ml))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,qr))==null||e.call(this),ae(this,qr,void 0))}setEventListener(e){var i;ae(this,ml,e),(i=C(this,qr))==null||i.call(this),ae(this,qr,e(this.setOnline.bind(this)))}setOnline(e){C(this,pl)!==e&&(ae(this,pl,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return C(this,pl)}},pl=new WeakMap,qr=new WeakMap,ml=new WeakMap,eS),Of=new XO;function Rm(){let n,e;const i=new Promise((l,u)=>{n=l,e=u});i.status="pending",i.catch(()=>{});function s(l){Object.assign(i,l),delete i.resolve,delete i.reject}return i.resolve=l=>{s({status:"fulfilled",value:l}),n(l)},i.reject=l=>{s({status:"rejected",reason:l}),e(l)},i}function ZO(n){return Math.min(1e3*2**n,3e4)}function PS(n){return(n??"online")==="online"?Of.isOnline():!0}var jS=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Jp(n){return n instanceof jS}function zS(n){let e=!1,i=0,s=!1,l;const u=Rm(),c=U=>{var x;s||(b(new jS(U)),(x=n.abort)==null||x.call(n))},d=()=>{e=!0},p=()=>{e=!1},m=()=>_g.isFocused()&&(n.networkMode==="always"||Of.isOnline())&&n.canRun(),_=()=>PS(n.networkMode)&&n.canRun(),y=U=>{var x;s||(s=!0,(x=n.onSuccess)==null||x.call(n,U),l==null||l(),u.resolve(U))},b=U=>{var x;s||(s=!0,(x=n.onError)==null||x.call(n,U),l==null||l(),u.reject(U))},S=()=>new Promise(U=>{var x;l=W=>{(s||m())&&U(W)},(x=n.onPause)==null||x.call(n)}).then(()=>{var U;l=void 0,s||(U=n.onContinue)==null||U.call(n)}),O=()=>{if(s)return;let U;const x=i===0?n.initialPromise:void 0;try{U=x??n.fn()}catch(W){U=Promise.reject(W)}Promise.resolve(U).then(y).catch(W=>{var ue;if(s)return;const G=n.retry??(na?0:3),X=n.retryDelay??ZO,K=typeof X=="function"?X(i,W):X,Y=G===!0||typeof G=="number"&&i<G||typeof G=="function"&&G(i,W);if(e||!Y){b(W);return}i++,(ue=n.onFail)==null||ue.call(n,i,W),YO(K).then(()=>m()?void 0:S()).then(()=>{e?b(W):O()})})};return{promise:u,cancel:c,continue:()=>(l==null||l(),u),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?O():S().then(O),u)}}var $O=n=>setTimeout(n,0);function JO(){let n=[],e=0,i=d=>{d()},s=d=>{d()},l=$O;const u=d=>{e?n.push(d):l(()=>{i(d)})},c=()=>{const d=n;n=[],d.length&&l(()=>{s(()=>{d.forEach(p=>{i(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{i=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{l=d}}}var xt=JO(),Qs,tS,HS=(tS=class{constructor(){ge(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tm(this.gcTime)&&ae(this,Qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(na?1/0:5*60*1e3))}clearGcTimeout(){C(this,Qs)&&(clearTimeout(C(this,Qs)),ae(this,Qs,void 0))}},Qs=new WeakMap,tS),gl,_l,Bn,Ks,Wt,Ru,Ws,Qn,Vi,nS,eD=(nS=class extends HS{constructor(e){super();ge(this,Qn);ge(this,gl);ge(this,_l);ge(this,Bn);ge(this,Ks);ge(this,Wt);ge(this,Ru);ge(this,Ws);ae(this,Ws,!1),ae(this,Ru,e.defaultOptions),this.setOptions(e.options),this.observers=[],ae(this,Ks,e.client),ae(this,Bn,C(this,Ks).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ae(this,gl,tD(this.options)),this.state=e.state??C(this,gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Wt))==null?void 0:e.promise}setOptions(e){this.options={...C(this,Ru),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Bn).remove(this)}setData(e,i){const s=wm(this.state.data,e,this.options);return De(this,Qn,Vi).call(this,{data:s,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),s}setState(e,i){De(this,Qn,Vi).call(this,{type:"setState",state:e,setStateOptions:i})}cancel(e){var s,l;const i=(s=C(this,Wt))==null?void 0:s.promise;return(l=C(this,Wt))==null||l.cancel(e),i?i.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,gl))}isActive(){return this.observers.some(e=>Xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!LS(this.state.dataUpdatedAt,e)}onFocus(){var i;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(i=C(this,Wt))==null||i.continue()}onOnline(){var i;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(i=C(this,Wt))==null||i.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,Bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(i=>i!==e),this.observers.length||(C(this,Wt)&&(C(this,Ws)?C(this,Wt).cancel({revert:!0}):C(this,Wt).cancelRetry()),this.scheduleGc()),C(this,Bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Qn,Vi).call(this,{type:"invalidate"})}fetch(e,i){var p,m,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(C(this,Wt))return C(this,Wt).continueRetry(),C(this,Wt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(b=>b.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,l=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(ae(this,Ws,!0),s.signal)})},u=()=>{const y=kS(this.options,i),b={client:C(this,Ks),queryKey:this.queryKey,meta:this.meta};return l(b),ae(this,Ws,!1),this.options.persister?this.options.persister(y,b,this):y(b)},c={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:C(this,Ks),state:this.state,fetchFn:u};l(c),(p=this.options.behavior)==null||p.onFetch(c,this),ae(this,_l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&De(this,Qn,Vi).call(this,{type:"fetch",meta:(_=c.fetchOptions)==null?void 0:_.meta});const d=y=>{var b,S,O,U;Jp(y)&&y.silent||De(this,Qn,Vi).call(this,{type:"error",error:y}),Jp(y)||((S=(b=C(this,Bn).config).onError)==null||S.call(b,y,this),(U=(O=C(this,Bn).config).onSettled)==null||U.call(O,this.state.data,y,this)),this.scheduleGc()};return ae(this,Wt,zS({initialPromise:i==null?void 0:i.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var b,S,O,U;if(y===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(x){d(x);return}(S=(b=C(this,Bn).config).onSuccess)==null||S.call(b,y,this),(U=(O=C(this,Bn).config).onSettled)==null||U.call(O,y,this.state.error,this),this.scheduleGc()},onError:d,onFail:(y,b)=>{De(this,Qn,Vi).call(this,{type:"failed",failureCount:y,error:b})},onPause:()=>{De(this,Qn,Vi).call(this,{type:"pause"})},onContinue:()=>{De(this,Qn,Vi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),C(this,Wt).start()}},gl=new WeakMap,_l=new WeakMap,Bn=new WeakMap,Ks=new WeakMap,Wt=new WeakMap,Ru=new WeakMap,Ws=new WeakMap,Qn=new WeakSet,Vi=function(e){const i=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...BS(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return Jp(l)&&l.revert&&C(this,_l)?{...C(this,_l),fetchStatus:"idle"}:{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=i(this.state),xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),C(this,Bn).notify({query:this,type:"updated",action:e})})},nS);function BS(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function tD(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,i=e!==void 0,s=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var yi,iS,nD=(iS=class extends kl{constructor(e={}){super();ge(this,yi);this.config=e,ae(this,yi,new Map)}build(e,i,s){const l=i.queryKey,u=i.queryHash??mg(l,i);let c=this.get(u);return c||(c=new eD({client:e,queryKey:l,queryHash:u,options:e.defaultQueryOptions(i),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(c)),c}add(e){C(this,yi).has(e.queryHash)||(C(this,yi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=C(this,yi).get(e.queryHash);i&&(e.destroy(),i===e&&C(this,yi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,yi).get(e)}getAll(){return[...C(this,yi).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(s=>CE(i,s))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(s=>CE(e,s)):i}notify(e){xt.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yi=new WeakMap,iS),vi,Jt,Xs,bi,Pr,rS,iD=(rS=class extends HS{constructor(e){super();ge(this,bi);ge(this,vi);ge(this,Jt);ge(this,Xs);this.mutationId=e.mutationId,ae(this,Jt,e.mutationCache),ae(this,vi,[]),this.state=e.state||FS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,vi).includes(e)||(C(this,vi).push(e),this.clearGcTimeout(),C(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,vi,C(this,vi).filter(i=>i!==e)),this.scheduleGc(),C(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,vi).length||(this.state.status==="pending"?this.scheduleGc():C(this,Jt).remove(this))}continue(){var e;return((e=C(this,Xs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,c,d,p,m,_,y,b,S,O,U,x,W,G,X,K,Y,ue,L,Z;const i=()=>{De(this,bi,Pr).call(this,{type:"continue"})};ae(this,Xs,zS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ee,se)=>{De(this,bi,Pr).call(this,{type:"failed",failureCount:ee,error:se})},onPause:()=>{De(this,bi,Pr).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Jt).canRun(this)}));const s=this.state.status==="pending",l=!C(this,Xs).canStart();try{if(s)i();else{De(this,bi,Pr).call(this,{type:"pending",variables:e,isPaused:l}),await((c=(u=C(this,Jt).config).onMutate)==null?void 0:c.call(u,e,this));const se=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,e));se!==this.state.context&&De(this,bi,Pr).call(this,{type:"pending",context:se,variables:e,isPaused:l})}const ee=await C(this,Xs).start();return await((_=(m=C(this,Jt).config).onSuccess)==null?void 0:_.call(m,ee,e,this.state.context,this)),await((b=(y=this.options).onSuccess)==null?void 0:b.call(y,ee,e,this.state.context)),await((O=(S=C(this,Jt).config).onSettled)==null?void 0:O.call(S,ee,null,this.state.variables,this.state.context,this)),await((x=(U=this.options).onSettled)==null?void 0:x.call(U,ee,null,e,this.state.context)),De(this,bi,Pr).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await((G=(W=C(this,Jt).config).onError)==null?void 0:G.call(W,ee,e,this.state.context,this)),await((K=(X=this.options).onError)==null?void 0:K.call(X,ee,e,this.state.context)),await((ue=(Y=C(this,Jt).config).onSettled)==null?void 0:ue.call(Y,void 0,ee,this.state.variables,this.state.context,this)),await((Z=(L=this.options).onSettled)==null?void 0:Z.call(L,void 0,ee,e,this.state.context)),ee}finally{De(this,bi,Pr).call(this,{type:"error",error:ee})}}finally{C(this,Jt).runNext(this)}}},vi=new WeakMap,Jt=new WeakMap,Xs=new WeakMap,bi=new WeakSet,Pr=function(e){const i=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=i(this.state),xt.batch(()=>{C(this,vi).forEach(s=>{s.onMutationUpdate(e)}),C(this,Jt).notify({mutation:this,type:"updated",action:e})})},rS);function FS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,Kn,Au,sS,rD=(sS=class extends kl{constructor(e={}){super();ge(this,Gi);ge(this,Kn);ge(this,Au);this.config=e,ae(this,Gi,new Set),ae(this,Kn,new Map),ae(this,Au,0)}build(e,i,s){const l=new iD({mutationCache:this,mutationId:++rf(this,Au)._,options:e.defaultMutationOptions(i),state:s});return this.add(l),l}add(e){C(this,Gi).add(e);const i=af(e);if(typeof i=="string"){const s=C(this,Kn).get(i);s?s.push(e):C(this,Kn).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,Gi).delete(e)){const i=af(e);if(typeof i=="string"){const s=C(this,Kn).get(i);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&C(this,Kn).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=af(e);if(typeof i=="string"){const s=C(this,Kn).get(i),l=s==null?void 0:s.find(u=>u.state.status==="pending");return!l||l===e}else return!0}runNext(e){var s;const i=af(e);if(typeof i=="string"){const l=(s=C(this,Kn).get(i))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{C(this,Gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,Gi).clear(),C(this,Kn).clear()})}getAll(){return Array.from(C(this,Gi))}find(e){const i={exact:!0,...e};return this.getAll().find(s=>wE(i,s))}findAll(e={}){return this.getAll().filter(i=>wE(e,i))}notify(e){xt.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return xt.batch(()=>Promise.all(e.map(i=>i.continue().catch(Fn))))}},Gi=new WeakMap,Kn=new WeakMap,Au=new WeakMap,sS);function af(n){var e;return(e=n.options.scope)==null?void 0:e.id}function OE(n){return{onFetch:(e,i)=>{var _,y,b,S,O;const s=e.options,l=(b=(y=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:y.fetchMore)==null?void 0:b.direction,u=((S=e.state.data)==null?void 0:S.pages)||[],c=((O=e.state.data)==null?void 0:O.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let U=!1;const x=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(e.signal.aborted?U=!0:e.signal.addEventListener("abort",()=>{U=!0}),e.signal)})},W=kS(e.options,e.fetchOptions),G=async(X,K,Y)=>{if(U)return Promise.reject();if(K==null&&X.pages.length)return Promise.resolve(X);const ue={client:e.client,queryKey:e.queryKey,pageParam:K,direction:Y?"backward":"forward",meta:e.options.meta};x(ue);const L=await W(ue),{maxPages:Z}=e.options,ee=Y?KO:QO;return{pages:ee(X.pages,L,Z),pageParams:ee(X.pageParams,K,Z)}};if(l&&u.length){const X=l==="backward",K=X?sD:DE,Y={pages:u,pageParams:c},ue=K(s,Y);d=await G(Y,ue,X)}else{const X=n??u.length;do{const K=p===0?c[0]??s.initialPageParam:DE(s,d);if(p>0&&K==null)break;d=await G(d,K),p++}while(p<X)}return d};e.options.persister?e.fetchFn=()=>{var U,x;return(x=(U=e.options).persister)==null?void 0:x.call(U,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},i)}:e.fetchFn=m}}}function DE(n,{pages:e,pageParams:i}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,i[s],i):void 0}function sD(n,{pages:e,pageParams:i}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,i[0],i):void 0}var Et,Vr,Gr,yl,vl,Yr,bl,El,aS,aD=(aS=class{constructor(n={}){ge(this,Et);ge(this,Vr);ge(this,Gr);ge(this,yl);ge(this,vl);ge(this,Yr);ge(this,bl);ge(this,El);ae(this,Et,n.queryCache||new nD),ae(this,Vr,n.mutationCache||new rD),ae(this,Gr,n.defaultOptions||{}),ae(this,yl,new Map),ae(this,vl,new Map),ae(this,Yr,0)}mount(){rf(this,Yr)._++,C(this,Yr)===1&&(ae(this,bl,_g.subscribe(async n=>{n&&(await this.resumePausedMutations(),C(this,Et).onFocus())})),ae(this,El,Of.subscribe(async n=>{n&&(await this.resumePausedMutations(),C(this,Et).onOnline())})))}unmount(){var n,e;rf(this,Yr)._--,C(this,Yr)===0&&((n=C(this,bl))==null||n.call(this),ae(this,bl,void 0),(e=C(this,El))==null||e.call(this),ae(this,El,void 0))}isFetching(n){return C(this,Et).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return C(this,Vr).findAll({...n,status:"pending"}).length}getQueryData(n){var i;const e=this.defaultQueryOptions({queryKey:n});return(i=C(this,Et).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),i=C(this,Et).build(this,e),s=i.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&i.isStaleByTime(ll(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return C(this,Et).findAll(n).map(({queryKey:e,state:i})=>{const s=i.data;return[e,s]})}setQueryData(n,e,i){const s=this.defaultQueryOptions({queryKey:n}),l=C(this,Et).get(s.queryHash),u=l==null?void 0:l.state.data,c=GO(e,u);if(c!==void 0)return C(this,Et).build(this,s).setData(c,{...i,manual:!0})}setQueriesData(n,e,i){return xt.batch(()=>C(this,Et).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,i)]))}getQueryState(n){var i;const e=this.defaultQueryOptions({queryKey:n});return(i=C(this,Et).get(e.queryHash))==null?void 0:i.state}removeQueries(n){const e=C(this,Et);xt.batch(()=>{e.findAll(n).forEach(i=>{e.remove(i)})})}resetQueries(n,e){const i=C(this,Et);return xt.batch(()=>(i.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const i={revert:!0,...e},s=xt.batch(()=>C(this,Et).findAll(n).map(l=>l.cancel(i)));return Promise.all(s).then(Fn).catch(Fn)}invalidateQueries(n,e={}){return xt.batch(()=>(C(this,Et).findAll(n).forEach(i=>{i.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},s=xt.batch(()=>C(this,Et).findAll(n).filter(l=>!l.isDisabled()).map(l=>{let u=l.fetch(void 0,i);return i.throwOnError||(u=u.catch(Fn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Fn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const i=C(this,Et).build(this,e);return i.isStaleByTime(ll(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Fn).catch(Fn)}fetchInfiniteQuery(n){return n.behavior=OE(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Fn).catch(Fn)}ensureInfiniteQueryData(n){return n.behavior=OE(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Of.isOnline()?C(this,Vr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Et)}getMutationCache(){return C(this,Vr)}getDefaultOptions(){return C(this,Gr)}setDefaultOptions(n){ae(this,Gr,n)}setQueryDefaults(n,e){C(this,yl).set(ia(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...C(this,yl).values()],i={};return e.forEach(s=>{cu(n,s.queryKey)&&Object.assign(i,s.defaultOptions)}),i}setMutationDefaults(n,e){C(this,vl).set(ia(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...C(this,vl).values()],i={};return e.forEach(s=>{cu(n,s.mutationKey)&&Object.assign(i,s.defaultOptions)}),i}defaultQueryOptions(n){if(n._defaulted)return n;const e={...C(this,Gr).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=mg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gg&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...C(this,Gr).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){C(this,Et).clear(),C(this,Vr).clear()}},Et=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,yl=new WeakMap,vl=new WeakMap,Yr=new WeakMap,bl=new WeakMap,El=new WeakMap,aS),cn,Be,Ou,en,Zs,Sl,Qr,Kr,Du,Tl,Cl,$s,Js,Wr,wl,We,$o,Am,Om,Dm,Nm,Mm,xm,Im,qS,lS,lD=(lS=class extends kl{constructor(e,i){super();ge(this,We);ge(this,cn);ge(this,Be);ge(this,Ou);ge(this,en);ge(this,Zs);ge(this,Sl);ge(this,Qr);ge(this,Kr);ge(this,Du);ge(this,Tl);ge(this,Cl);ge(this,$s);ge(this,Js);ge(this,Wr);ge(this,wl,new Set);this.options=i,ae(this,cn,e),ae(this,Kr,null),ae(this,Qr,Rm()),this.options.experimental_prefetchInRender||C(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Be).addObserver(this),NE(C(this,Be),this.options)?De(this,We,$o).call(this):this.updateResult(),De(this,We,Nm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lm(C(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lm(C(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,We,Mm).call(this),De(this,We,xm).call(this),C(this,Be).removeObserver(this)}setOptions(e){const i=this.options,s=C(this,Be);if(this.options=C(this,cn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xn(this.options.enabled,C(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,We,Im).call(this),C(this,Be).setOptions(this.options),i._defaulted&&!Af(this.options,i)&&C(this,cn).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Be),observer:this});const l=this.hasListeners();l&&ME(C(this,Be),s,this.options,i)&&De(this,We,$o).call(this),this.updateResult(),l&&(C(this,Be)!==s||Xn(this.options.enabled,C(this,Be))!==Xn(i.enabled,C(this,Be))||ll(this.options.staleTime,C(this,Be))!==ll(i.staleTime,C(this,Be)))&&De(this,We,Am).call(this);const u=De(this,We,Om).call(this);l&&(C(this,Be)!==s||Xn(this.options.enabled,C(this,Be))!==Xn(i.enabled,C(this,Be))||u!==C(this,Wr))&&De(this,We,Dm).call(this,u)}getOptimisticResult(e){const i=C(this,cn).getQueryCache().build(C(this,cn),e),s=this.createResult(i,e);return uD(this,s)&&(ae(this,en,s),ae(this,Sl,this.options),ae(this,Zs,C(this,Be).state)),s}getCurrentResult(){return C(this,en)}trackResult(e,i){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),i==null||i(l),Reflect.get(s,l))})}trackProp(e){C(this,wl).add(e)}getCurrentQuery(){return C(this,Be)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const i=C(this,cn).defaultQueryOptions(e),s=C(this,cn).getQueryCache().build(C(this,cn),i);return s.fetch().then(()=>this.createResult(s,i))}fetch(e){return De(this,We,$o).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,en)))}createResult(e,i){var ee;const s=C(this,Be),l=this.options,u=C(this,en),c=C(this,Zs),d=C(this,Sl),m=e!==s?e.state:C(this,Ou),{state:_}=e;let y={..._},b=!1,S;if(i._optimisticResults){const se=this.hasListeners(),ze=!se&&NE(e,i),we=se&&ME(e,s,i,l);(ze||we)&&(y={...y,...BS(_.data,e.options)}),i._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:O,errorUpdatedAt:U,status:x}=y;S=y.data;let W=!1;if(i.placeholderData!==void 0&&S===void 0&&x==="pending"){let se;u!=null&&u.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData)?(se=u.data,W=!0):se=typeof i.placeholderData=="function"?i.placeholderData((ee=C(this,Cl))==null?void 0:ee.state.data,C(this,Cl)):i.placeholderData,se!==void 0&&(x="success",S=wm(u==null?void 0:u.data,se,i),b=!0)}if(i.select&&S!==void 0&&!W)if(u&&S===(c==null?void 0:c.data)&&i.select===C(this,Du))S=C(this,Tl);else try{ae(this,Du,i.select),S=i.select(S),S=wm(u==null?void 0:u.data,S,i),ae(this,Tl,S),ae(this,Kr,null)}catch(se){ae(this,Kr,se)}C(this,Kr)&&(O=C(this,Kr),S=C(this,Tl),U=Date.now(),x="error");const G=y.fetchStatus==="fetching",X=x==="pending",K=x==="error",Y=X&&G,ue=S!==void 0,Z={status:x,fetchStatus:y.fetchStatus,isPending:X,isSuccess:x==="success",isError:K,isInitialLoading:Y,isLoading:Y,data:S,dataUpdatedAt:y.dataUpdatedAt,error:O,errorUpdatedAt:U,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>m.dataUpdateCount||y.errorUpdateCount>m.errorUpdateCount,isFetching:G,isRefetching:G&&!X,isLoadingError:K&&!ue,isPaused:y.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:K&&ue,isStale:yg(e,i),refetch:this.refetch,promise:C(this,Qr)};if(this.options.experimental_prefetchInRender){const se=ot=>{Z.status==="error"?ot.reject(Z.error):Z.data!==void 0&&ot.resolve(Z.data)},ze=()=>{const ot=ae(this,Qr,Z.promise=Rm());se(ot)},we=C(this,Qr);switch(we.status){case"pending":e.queryHash===s.queryHash&&se(we);break;case"fulfilled":(Z.status==="error"||Z.data!==we.value)&&ze();break;case"rejected":(Z.status!=="error"||Z.error!==we.reason)&&ze();break}}return Z}updateResult(){const e=C(this,en),i=this.createResult(C(this,Be),this.options);if(ae(this,Zs,C(this,Be).state),ae(this,Sl,this.options),C(this,Zs).data!==void 0&&ae(this,Cl,C(this,Be)),Af(i,e))return;ae(this,en,i);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!C(this,wl).size)return!0;const c=new Set(u??C(this,wl));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,en)).some(d=>{const p=d;return C(this,en)[p]!==e[p]&&c.has(p)})};De(this,We,qS).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,We,Nm).call(this)}},cn=new WeakMap,Be=new WeakMap,Ou=new WeakMap,en=new WeakMap,Zs=new WeakMap,Sl=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Du=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,$s=new WeakMap,Js=new WeakMap,Wr=new WeakMap,wl=new WeakMap,We=new WeakSet,$o=function(e){De(this,We,Im).call(this);let i=C(this,Be).fetch(this.options,e);return e!=null&&e.throwOnError||(i=i.catch(Fn)),i},Am=function(){De(this,We,Mm).call(this);const e=ll(this.options.staleTime,C(this,Be));if(na||C(this,en).isStale||!Tm(e))return;const s=LS(C(this,en).dataUpdatedAt,e)+1;ae(this,$s,setTimeout(()=>{C(this,en).isStale||this.updateResult()},s))},Om=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Be)):this.options.refetchInterval)??!1},Dm=function(e){De(this,We,xm).call(this),ae(this,Wr,e),!(na||Xn(this.options.enabled,C(this,Be))===!1||!Tm(C(this,Wr))||C(this,Wr)===0)&&ae(this,Js,setInterval(()=>{(this.options.refetchIntervalInBackground||_g.isFocused())&&De(this,We,$o).call(this)},C(this,Wr)))},Nm=function(){De(this,We,Am).call(this),De(this,We,Dm).call(this,De(this,We,Om).call(this))},Mm=function(){C(this,$s)&&(clearTimeout(C(this,$s)),ae(this,$s,void 0))},xm=function(){C(this,Js)&&(clearInterval(C(this,Js)),ae(this,Js,void 0))},Im=function(){const e=C(this,cn).getQueryCache().build(C(this,cn),this.options);if(e===C(this,Be))return;const i=C(this,Be);ae(this,Be,e),ae(this,Ou,e.state),this.hasListeners()&&(i==null||i.removeObserver(this),e.addObserver(this))},qS=function(e){xt.batch(()=>{e.listeners&&this.listeners.forEach(i=>{i(C(this,en))}),C(this,cn).getQueryCache().notify({query:C(this,Be),type:"observerResultsUpdated"})})},lS);function oD(n,e){return Xn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function NE(n,e){return oD(n,e)||n.state.data!==void 0&&Lm(n,e,e.refetchOnMount)}function Lm(n,e,i){if(Xn(e.enabled,n)!==!1){const s=typeof i=="function"?i(n):i;return s==="always"||s!==!1&&yg(n,e)}return!1}function ME(n,e,i,s){return(n!==e||Xn(s.enabled,n)===!1)&&(!i.suspense||n.state.status!=="error")&&yg(n,i)}function yg(n,e){return Xn(e.enabled,n)!==!1&&n.isStaleByTime(ll(e.staleTime,n))}function uD(n,e){return!Af(n.getCurrentResult(),e)}var Xr,Zr,fn,Yi,er,mf,Um,oS,cD=(oS=class extends kl{constructor(i,s){super();ge(this,er);ge(this,Xr);ge(this,Zr);ge(this,fn);ge(this,Yi);ae(this,Xr,i),this.setOptions(s),this.bindMethods(),De(this,er,mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var l;const s=this.options;this.options=C(this,Xr).defaultMutationOptions(i),Af(this.options,s)||C(this,Xr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,fn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ia(s.mutationKey)!==ia(this.options.mutationKey)?this.reset():((l=C(this,fn))==null?void 0:l.state.status)==="pending"&&C(this,fn).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=C(this,fn))==null||i.removeObserver(this)}onMutationUpdate(i){De(this,er,mf).call(this),De(this,er,Um).call(this,i)}getCurrentResult(){return C(this,Zr)}reset(){var i;(i=C(this,fn))==null||i.removeObserver(this),ae(this,fn,void 0),De(this,er,mf).call(this),De(this,er,Um).call(this)}mutate(i,s){var l;return ae(this,Yi,s),(l=C(this,fn))==null||l.removeObserver(this),ae(this,fn,C(this,Xr).getMutationCache().build(C(this,Xr),this.options)),C(this,fn).addObserver(this),C(this,fn).execute(i)}},Xr=new WeakMap,Zr=new WeakMap,fn=new WeakMap,Yi=new WeakMap,er=new WeakSet,mf=function(){var s;const i=((s=C(this,fn))==null?void 0:s.state)??FS();ae(this,Zr,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},Um=function(i){xt.batch(()=>{var s,l,u,c,d,p,m,_;if(C(this,Yi)&&this.hasListeners()){const y=C(this,Zr).variables,b=C(this,Zr).context;(i==null?void 0:i.type)==="success"?((l=(s=C(this,Yi)).onSuccess)==null||l.call(s,i.data,y,b),(c=(u=C(this,Yi)).onSettled)==null||c.call(u,i.data,null,y,b)):(i==null?void 0:i.type)==="error"&&((p=(d=C(this,Yi)).onError)==null||p.call(d,i.error,y,b),(_=(m=C(this,Yi)).onSettled)==null||_.call(m,void 0,i.error,y,b))}this.listeners.forEach(y=>{y(C(this,Zr))})})},oS),VS=z.createContext(void 0),GS=n=>{const e=z.useContext(VS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fD=({client:n,children:e})=>(z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),A.jsx(VS.Provider,{value:n,children:e})),YS=z.createContext(!1),hD=()=>z.useContext(YS);YS.Provider;function dD(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var pD=z.createContext(dD()),mD=()=>z.useContext(pD);function QS(n,e){return typeof n=="function"?n(...e):!!n}function km(){}var gD=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},_D=n=>{z.useEffect(()=>{n.clearReset()},[n])},yD=({result:n,errorResetBoundary:e,throwOnError:i,query:s,suspense:l})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(l&&n.data===void 0||QS(i,[n.error,s])),vD=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...i)=>Math.max(e(...i),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},bD=(n,e)=>n.isLoading&&n.isFetching&&!e,ED=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,xE=(n,e,i)=>e.fetchOptimistic(n).catch(()=>{i.clearReset()});function SD(n,e,i){var y,b,S,O,U;const s=GS(),l=hD(),u=mD(),c=s.defaultQueryOptions(n);(b=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||b.call(y,c),c._optimisticResults=l?"isRestoring":"optimistic",vD(c),gD(c,u),_D(u);const d=!s.getQueryCache().get(c.queryHash),[p]=z.useState(()=>new e(s,c)),m=p.getOptimisticResult(c),_=!l&&n.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(x=>{const W=_?p.subscribe(xt.batchCalls(x)):km;return p.updateResult(),W},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),z.useEffect(()=>{p.setOptions(c)},[c,p]),ED(c,m))throw xE(c,p,u);if(yD({result:m,errorResetBoundary:u,throwOnError:c.throwOnError,query:s.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((O=(S=s.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||O.call(S,c,m),c.experimental_prefetchInRender&&!na&&bD(m,l)){const x=d?xE(c,p,u):(U=s.getQueryCache().get(c.queryHash))==null?void 0:U.promise;x==null||x.catch(km).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}function oh(n,e){return SD(n,lD)}function ea(n,e){const i=GS(),[s]=z.useState(()=>new cD(i,n));z.useEffect(()=>{s.setOptions(n)},[s,n]);const l=z.useSyncExternalStore(z.useCallback(c=>s.subscribe(xt.batchCalls(c)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=z.useCallback((c,d)=>{s.mutate(c,d).catch(km)},[s]);if(l.error&&QS(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const TD=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(n,e){if(!n)throw Pl(e)},Pl=function(n){return new Error("Firebase Database ("+KS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},CD=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],c=n[i++],d=n[i++],p=((l&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],c=l+1<n.length,d=c?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=u>>2,y=(u&3)<<4|d>>4;let b=(d&15)<<2|m>>6,S=m&63;p||(S=64,c||(b=64)),s.push(i[_],i[y],i[b],i[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],d=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const y=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||d==null||m==null||y==null)throw new wD;const b=u<<2|d>>4;if(s.push(b),m!==64){const S=d<<4&240|m>>2;if(s.push(S),y!==64){const O=m<<6&192|y;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XS=function(n){const e=WS(n);return vg.encodeByteArray(e,!0)},Df=function(n){return XS(n).replace(/\./g,"")},Nf=function(n){try{return vg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){return ZS(void 0,n)}function ZS(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!AD(i)||(n[i]=ZS(n[i],e[i]));return n}function AD(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=()=>OD().__FIREBASE_DEFAULTS__,ND=()=>{if(typeof process>"u"||typeof IE>"u")return;const n=IE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Nf(n[1]);return e&&JSON.parse(e)},bg=()=>{try{return TD()||DD()||ND()||MD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$S=n=>{var e,i;return(i=(e=bg())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},xD=n=>{const e=$S(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},JS=()=>{var n;return(n=bg())===null||n===void 0?void 0:n.config},eT=n=>{var e;return(e=bg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Df(JSON.stringify(i)),Df(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kD(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PD(){return KS.NODE_ADMIN===!0}function jD(){try{return typeof indexedDB=="object"}catch{return!1}}function zD(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class us extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=HD,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?BD(u,s):"Error",d=`${this.serviceName}: ${c} (${l}).`;return new us(l,d,s)}}function BD(n,e){return n.replace(FD,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const FD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n){return JSON.parse(n)}function It(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=fu(Nf(u[0])||""),i=fu(Nf(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},qD=function(n){const e=nT(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},VD=function(n){const e=nT(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ol(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Pm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mf(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function ra(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],c=e[l];if(LE(u)&&LE(c)){if(!ra(u,c))return!1}else if(u!==c)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jo(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function eu(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)s[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const b=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=d^u&(c^d),_=1518500249):(m=u^c^d,_=1859775393):y<60?(m=u&c|d&(u|c),_=2400959708):(m=u^c^d,_=3395469782);const b=(l<<5|l>>>27)+m+p+_+s[y]&4294967295;p=d,d=c,c=(u<<30|u>>>2)&4294967295,u=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let c=this.inbuf_;for(;l<i;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}else for(;l<i;)if(u[c]=e[l],++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function YD(n,e){const i=new QD(n,e);return i.subscribe.bind(i)}class QD{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");KD(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KD(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function em(){}function Sg(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,$(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(u<<10)+c}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},ch=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class sa{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new uh;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($D(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const c=this.instances.get(l);return c&&e(c,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZD(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZD(n){return n===js?void 0:n}function $D(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XD(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const eN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},tN=st.INFO,nN={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},iN=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=nN[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=tN,this._logHandler=iN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const rN=(n,e)=>e.some(i=>n instanceof i);let UE,kE;function sN(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,jm=new WeakMap,rT=new WeakMap,tm=new WeakMap,Cg=new WeakMap;function lN(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Jr(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&iT.set(i,n)}).catch(()=>{}),Cg.set(e,n),e}function oN(n){if(jm.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});jm.set(n,e)}let zm={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return jm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rT.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Jr(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uN(n){zm=n(zm)}function cN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(nm(this),e,...i);return rT.set(s,e.sort?e.sort():[e]),Jr(s)}:aN().includes(n)?function(...e){return n.apply(nm(this),e),Jr(iT.get(this))}:function(...e){return Jr(n.apply(nm(this),e))}}function fN(n){return typeof n=="function"?cN(n):(n instanceof IDBTransaction&&oN(n),rN(n,sN())?new Proxy(n,zm):n)}function Jr(n){if(n instanceof IDBRequest)return lN(n);if(tm.has(n))return tm.get(n);const e=fN(n);return e!==n&&(tm.set(n,e),Cg.set(e,n)),e}const nm=n=>Cg.get(n);function hN(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const c=indexedDB.open(n,e),d=Jr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Jr(c.result),p.oldVersion,p.newVersion,Jr(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const dN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],im=new Map;function PE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=pN.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||dN.includes(i)))return;const u=async function(c,...d){const p=this.transaction(c,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),l&&p.done]))[0]};return im.set(e,u),u}uN(n=>({...n,get:(e,i,s)=>PE(e,i)||n.get(e,i,s),has:(e,i)=>!!PE(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gN(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",jE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Tg("@firebase/app"),_N="@firebase/app-compat",yN="@firebase/analytics-compat",vN="@firebase/analytics",bN="@firebase/app-check-compat",EN="@firebase/app-check",SN="@firebase/auth",TN="@firebase/auth-compat",CN="@firebase/database",wN="@firebase/data-connect",RN="@firebase/database-compat",AN="@firebase/functions",ON="@firebase/functions-compat",DN="@firebase/installations",NN="@firebase/installations-compat",MN="@firebase/messaging",xN="@firebase/messaging-compat",IN="@firebase/performance",LN="@firebase/performance-compat",UN="@firebase/remote-config",kN="@firebase/remote-config-compat",PN="@firebase/storage",jN="@firebase/storage-compat",zN="@firebase/firestore",HN="@firebase/vertexai",BN="@firebase/firestore-compat",FN="firebase",qN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",VN={[Hm]:"fire-core",[_N]:"fire-core-compat",[vN]:"fire-analytics",[yN]:"fire-analytics-compat",[EN]:"fire-app-check",[bN]:"fire-app-check-compat",[SN]:"fire-auth",[TN]:"fire-auth-compat",[CN]:"fire-rtdb",[wN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[AN]:"fire-fn",[ON]:"fire-fn-compat",[DN]:"fire-iid",[NN]:"fire-iid-compat",[MN]:"fire-fcm",[xN]:"fire-fcm-compat",[IN]:"fire-perf",[LN]:"fire-perf-compat",[UN]:"fire-rc",[kN]:"fire-rc-compat",[PN]:"fire-gcs",[jN]:"fire-gcs-compat",[zN]:"fire-fst",[BN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,GN=new Map,Fm=new Map;function zE(n,e){try{n.container.addComponent(e)}catch(i){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Dl(n){const e=n.name;if(Fm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,n);for(const i of xf.values())zE(i,n);for(const i of GN.values())zE(i,n);return!0}function wg(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new xu("app","Firebase",YN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=qN;function sT(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw es.create("bad-app-name",{appName:String(l)});if(i||(i=JS()),!i)throw es.create("no-options");const u=xf.get(l);if(u){if(ra(i,u.options)&&ra(s,u.config))return u;throw es.create("duplicate-app",{appName:l})}const c=new JD(l);for(const p of Fm.values())c.addComponent(p);const d=new QN(i,s,c);return xf.set(l,d),d}function aT(n=Bm){const e=xf.get(n);if(!e&&n===Bm&&JS())return sT();if(!e)throw es.create("no-app",{appName:n});return e}function ts(n,e,i){var s;let l=(s=VN[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const d=[`Unable to register library "${l}" with version "${e}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}Dl(new sa(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firebase-heartbeat-database",WN=1,hu="firebase-heartbeat-store";let rm=null;function lT(){return rm||(rm=hN(KN,WN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hu)}catch(i){console.warn(i)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),rm}async function XN(n){try{const i=(await lT()).transaction(hu),s=await i.objectStore(hu).get(oT(n));return await i.done,s}catch(e){if(e instanceof us)nr.warn(e.message);else{const i=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(i.message)}}}async function HE(n,e){try{const s=(await lT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,oT(n)),await s.done}catch(i){if(i instanceof us)nr.warn(i.message);else{const s=es.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});nr.warn(s.message)}}}function oT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1024,$N=30;class JN{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tM(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=BE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>$N){const c=nM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=BE(),{heartbeatsToSend:s,unsentEntries:l}=eM(this._heartbeatsCache.heartbeats),u=Df(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return nr.warn(i),""}}}function BE(){return new Date().toISOString().substring(0,10)}function eM(n,e=ZN){const i=[];let s=n.slice();for(const l of n){const u=i.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),FE(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),FE(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class tM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jD()?zD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await XN(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return HE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return HE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function FE(n){return Df(JSON.stringify({version:2,heartbeats:n})).length}function nM(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){Dl(new sa("platform-logger",e=>new mN(e),"PRIVATE")),Dl(new sa("heartbeat",e=>new JN(e),"PRIVATE")),ts(Hm,jE,n),ts(Hm,jE,"esm2017"),ts("fire-js","")}iM("");var qE={};const VE="@firebase/database",GE="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uT="";function rM(n){uT=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),It(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:fu(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return or(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sM(e)}}catch{}return new aM},Vs=cT("localStorage"),lM=cT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new Tg("@firebase/database"),oM=function(){let n=1;return function(){return n++}}(),fT=function(n){const e=WD(n),i=new GD;i.update(e);const s=i.digest();return vg.encodeByteArray(s)},Iu=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Iu.apply(null,s):typeof s=="object"?e+=It(s):e+=s,e+=" "}return e};let nu=null,YE=!0;const uM=function(n,e){$(!0,"Can't turn on custom loggers persistently."),ol.logLevel=st.VERBOSE,nu=ol.log.bind(ol)},Xt=function(...n){if(YE===!0&&(YE=!1,nu===null&&lM.get("logging_enabled")===!0&&uM()),nu){const e=Iu.apply(null,n);nu(e)}},Lu=function(n){return function(...e){Xt(n,...e)}},qm=function(...n){const e="FIREBASE INTERNAL ERROR: "+Iu(...n);ol.error(e)},ir=function(...n){const e=`FIREBASE FATAL ERROR: ${Iu(...n)}`;throw ol.error(e),new Error(e)},pn=function(...n){const e="FIREBASE WARNING: "+Iu(...n);ol.warn(e)},cM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hT=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},fM=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Nl="[MIN_NAME]",aa="[MAX_NAME]",Hl=function(n,e){if(n===e)return 0;if(n===Nl||e===aa)return-1;if(e===Nl||n===aa)return 1;{const i=QE(n),s=QE(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},hM=function(n,e){return n===e?0:n<e?-1:1},Qo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+It(e))},Rg=function(n){if(typeof n!="object"||n===null)return It(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=It(e[s]),i+=":",i+=Rg(n[e[s]]);return i+="}",i},dT=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function mn(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const pT=function(n){$(!hT(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,c,d,p;n===0?(u=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=d+s,c=Math.round(n*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,c=Math.round(n/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let b=parseInt(_.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},dM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mM(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const gM=new RegExp("^-?(0*)\\d{1,10}$"),_M=-2147483648,yM=2147483647,QE=function(n){if(gM.test(n)){const e=Number(n);if(e>=_M&&e<=yM)return e}return null},Bl=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw pn("Exception was thrown by user callback.",i),e},Math.floor(0))}},vM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},iu=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){pn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pn(e)}}class gf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="5",mT="v",gT="s",_T="r",yT="f",vT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bT="ls",ET="p",Vm="ac",ST="websocket",TT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,i,s,l,u=!1,c="",d=!1,p=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function SM(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function wT(n,e,i){$(typeof e=="string","typeof type must == string"),$(typeof i=="object","typeof params must == object");let s;if(e===ST)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TT)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SM(n)&&(i.ns=n.namespace);const l=[];return mn(i,(u,c)=>{l.push(u+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.counters_={}}incrementCounter(e,i=1){or(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return RD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={},am={};function Og(n){const e=n.toString();return sm[e]||(sm[e]=new TM),sm[e]}function CM(n,e){const i=n.toString();return am[i]||(am[i]=e()),am[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Bl(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="start",RM="close",AM="pLPCommand",OM="pRTLPCB",RT="id",AT="pw",OT="ser",DM="cb",NM="seg",MM="ts",xM="d",IM="dframe",DT=1870,NT=30,LM=DT-NT,UM=25e3,kM=3e4;class sl{constructor(e,i,s,l,u,c,d){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lu(e),this.stats_=Og(i),this.urlFn=p=>(this.appCheckToken&&(p[Vm]=this.appCheckToken),wT(i,TT,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new wM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kM)),fM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dg((...u)=>{const[c,d,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===KE)this.id=d,this.password=p;else if(c===RM)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[KE]="t",s[OT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[DM]=this.scriptTagHolder.uniqueCallbackIdentifier),s[mT]=Ag,this.transportSessionId&&(s[gT]=this.transportSessionId),this.lastSessionId&&(s[bT]=this.lastSessionId),this.applicationId&&(s[ET]=this.applicationId),this.appCheckToken&&(s[Vm]=this.appCheckToken),typeof location<"u"&&location.hostname&&vT.test(location.hostname)&&(s[_T]=yT);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sl.forceAllow_=!0}static forceDisallow(){sl.forceDisallow_=!0}static isAvailable(){return sl.forceAllow_?!0:!sl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dM()&&!pM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=It(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=XS(i),l=dT(s,LM);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[IM]="t",s[RT]=e,s[AT]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=It(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Dg{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oM(),window[AM+this.uniqueCallbackIdentifier]=e,window[OM+this.uniqueCallbackIdentifier]=i,this.myIFrame=Dg.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Xt("frame writing exception"),d.stack&&Xt(d.stack),Xt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[RT]=this.myID,e[AT]=this.myPW,e[OT]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NT+s.length<=DT;){const c=this.pendingSegs.shift();s=s+"&"+NM+l+"="+c.seg+"&"+MM+l+"="+c.ts+"&"+xM+l+"="+c.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(UM)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{Xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=16384,jM=45e3;let If=null;typeof MozWebSocket<"u"?If=MozWebSocket:typeof WebSocket<"u"&&(If=WebSocket);class Zn{constructor(e,i,s,l,u,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lu(this.connId),this.stats_=Og(i),this.connURL=Zn.connectionURL_(i,c,d,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const c={};return c[mT]=Ag,typeof location<"u"&&location.hostname&&vT.test(location.hostname)&&(c[_T]=yT),i&&(c[gT]=i),s&&(c[bT]=s),l&&(c[Vm]=l),u&&(c[ET]=u),wT(e,ST,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let s;PD(),this.mySock=new If(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&If!==null&&!Zn.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=fu(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=It(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=dT(i,PM);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jM))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zn.responsesRequiredToBeHealthy=2;Zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{static get ALL_TRANSPORTS(){return[sl,Zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Zn&&Zn.isAvailable();let s=i&&!Zn.previouslyFailed();if(e.webSocketOnly&&(i||pn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zn];else{const l=this.transports_=[];for(const u of du.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);du.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}du.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=6e4,HM=5e3,BM=10*1024,FM=100*1024,lm="t",WE="d",qM="s",XE="r",VM="e",ZE="o",$E="a",JE="n",e0="p",GM="h";class YM{constructor(e,i,s,l,u,c,d,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lu("c:"+this.id+":"),this.transportManager_=new du(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=iu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(lm in e){const i=e[lm];i===$E?this.upgradeIfSecondaryHealthy_():i===XE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===ZE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Qo("t",e),s=Qo("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:e0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$E,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Qo("t",e),s=Qo("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Qo(lm,e);if(WE in e){const s=e[WE];if(i===GM){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===JE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===qM?this.onConnectionShutdown_(s):i===XE?this.onReset_(s):i===VM?qm("Server Error: "+s):i===ZE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qm("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ag!==s&&pn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),iu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:e0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){$(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends xT{static getInstance(){return new Lf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Eg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=32,n0=768;class lt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ye(){return new lt("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ss(n){return n.pieces_.length-n.pieceNum_}function ft(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lt(n.pieces_,e)}function IT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function QM(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function LT(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function UT(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new lt(e,0)}function Lt(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof lt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new lt(i,0)}function ke(n){return n.pieceNum_>=n.pieces_.length}function tn(n,e){const i=je(n),s=je(e);if(i===null)return e;if(i===s)return tn(ft(n),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function kT(n,e){if(ss(n)!==ss(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Jn(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(ss(n)>ss(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class KM{constructor(e,i){this.errorPrefix_=i,this.parts_=LT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ch(this.parts_[s]);PT(this)}}function WM(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ch(e),PT(n)}function XM(n){const e=n.parts_.pop();n.byteLength_-=ch(e),n.parts_.length>0&&(n.byteLength_-=1)}function PT(n){if(n.byteLength_>n0)throw new Error(n.errorPrefix_+"has a key path longer than "+n0+" bytes ("+n.byteLength_+").");if(n.parts_.length>t0)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t0+") or object contains a cycle "+zs(n))}function zs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends xT{static getInstance(){return new Ng}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=1e3,ZM=60*5*1e3,i0=30*1e3,$M=1.3,JM=3e4,ex="server_kill",r0=3;class Zi extends MT{constructor(e,i,s,l,u,c,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Zi.nextPersistentConnectionId_++,this.log_=Lu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ko,this.maxReconnectDelay_=ZM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ng.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(It(u)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new uh,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(c).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,d=>{const p=d.d,m=d.s;Zi.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&or(e,"w")){const s=Ol(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();pn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=i0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=qD(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,c=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";l&&(u.q=s,u.t=l),this.sendRequest(c,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const c={p:i,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+It(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):qm("Unrecognized action received from server: "+It(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JM&&(this.reconnectDelay_=Ko),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$M)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Zi.nextConnectionId_++,u=this.lastSessionId;let c=!1,d=null;const p=function(){d?d.close():(c=!0,s())},m=function(y){$(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,d=new YM(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,S=>{pn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(ex)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&pn(y),p())}}}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pm(this.interruptReasons_)&&(this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>Rg(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new lt(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){Xt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=r0&&(this.reconnectDelay_=i0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Xt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=r0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+uT.replace(/\./g,"-")]=1,Eg()?e["framework.cordova"]=1:tT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lf.getInstance().currentlyOnline();return Pm(this.interruptReasons_)&&e}}Zi.nextPersistentConnectionId_=0;Zi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Ie(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new Ie(Nl,e),l=new Ie(Nl,i);return this.compare(s,l)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf;class jT extends fh{static get __EMPTY_NODE(){return lf}static set __EMPTY_NODE(e){lf=e}compare(e,i){return Hl(e.name,i.name)}isDefinedOn(e){throw Pl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(aa,lf)}makePost(e,i){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,lf)}toString(){return".key"}}const ul=new jT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?s(e.key,i):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??zt.RED,this.left=l??dn.EMPTY_NODE,this.right=u??dn.EMPTY_NODE}copy(e,i,s,l,u){return new zt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return dn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zt.RED=!0;zt.BLACK=!1;class tx{copy(e,i,s,l,u){return this}insert(e,i,s){return new zt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dn{constructor(e,i=dn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new dn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new of(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new of(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new of(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new of(this.root_,null,this.comparator_,!0,e)}}dn.EMPTY_NODE=new tx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n,e){return Hl(n.name,e.name)}function Mg(n,e){return Hl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm;function ix(n){Gm=n}const zT=function(n){return typeof n=="number"?"number:"+pT(n):"string:"+n},HT=function(n){if(n.isLeafNode()){const e=n.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&or(e,".sv"),"Priority must be a string or number.")}else $(n===Gm||n.isEmpty(),"priority of unexpected type.");$(n===Gm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0;class jt{static set __childrenNodeConstructor(e){s0=e}static get __childrenNodeConstructor(){return s0}constructor(e,i=jt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new jt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ke(e)?this:je(e)===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:jt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=je(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:($(s!==".priority"||ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,jt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zT(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=pT(this.value_):e+=this.value_,this.lazyHash_=fT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===jt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof jt.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=jt.VALUE_TYPE_ORDER.indexOf(i),u=jt.VALUE_TYPE_ORDER.indexOf(s);return $(l>=0,"Unknown leaf type: "+i),$(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}jt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BT,FT;function rx(n){BT=n}function sx(n){FT=n}class ax extends fh{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?Hl(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(aa,new jt("[PRIORITY-POST]",FT))}makePost(e,i){const s=BT(e);return new Ie(i,new jt("[PRIORITY-POST]",s))}toString(){return".priority"}}const St=new ax;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=Math.log(2);class ox{constructor(e){const i=u=>parseInt(Math.log(u)/lx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uf=function(n,e,i,s){n.sort(e);const l=function(p,m){const _=m-p;let y,b;if(_===0)return null;if(_===1)return y=n[p],b=i?i(y):y,new zt(b,y.node,zt.BLACK,null,null);{const S=parseInt(_/2,10)+p,O=l(p,S),U=l(S+1,m);return y=n[S],b=i?i(y):y,new zt(b,y.node,zt.BLACK,O,U)}},u=function(p){let m=null,_=null,y=n.length;const b=function(O,U){const x=y-O,W=y;y-=O;const G=l(x+1,W),X=n[x],K=i?i(X):X;S(new zt(K,X.node,U,null,G))},S=function(O){m?(m.left=O,m=O):(_=O,m=O)};for(let O=0;O<p.count;++O){const U=p.nextBitIsOne(),x=Math.pow(2,p.count-(O+1));U?b(x,zt.BLACK):(b(x,zt.BLACK),b(x,zt.RED))}return _},c=new ox(n.length),d=u(c);return new dn(s||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om;const nl={};class Qi{static get Default(){return $(nl&&St,"ChildrenNode.ts has not been loaded"),om=om||new Qi({".priority":nl},{".priority":St}),om}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ol(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof dn?i:null}hasIndex(e){return or(this.indexSet_,e.toString())}addIndex(e,i){$(e!==ul,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(Ie.Wrap);let c=u.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let d;l?d=Uf(s,e.getCompare()):d=nl;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=d,new Qi(_,m)}addToIndexes(e,i){const s=Mf(this.indexes_,(l,u)=>{const c=Ol(this.indexSet_,u);if($(c,"Missing index implementation for "+u),l===nl)if(c.isDefinedOn(e.node)){const d=[],p=i.getIterator(Ie.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),Uf(d,c.getCompare())}else return nl;else{const d=i.get(e.name);let p=l;return d&&(p=p.remove(new Ie(e.name,d))),p.insert(e,e.node)}});return new Qi(s,this.indexSet_)}removeFromIndexes(e,i){const s=Mf(this.indexes_,l=>{if(l===nl)return l;{const u=i.get(e.name);return u?l.remove(new Ie(e.name,u)):l}});return new Qi(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class Se{static get EMPTY_NODE(){return Wo||(Wo=new Se(new dn(Mg),null,Qi.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&HT(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Wo:i}}getChild(e){const i=je(e);return i===null?this:this.getImmediateChild(i).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if($(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new Ie(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?Wo:this.priorityNode_;return new Se(l,c,u)}}updateChild(e,i){const s=je(e);if(s===null)return i;{$(je(e)!==".priority"||ss(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(ft(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(St,(c,d)=>{i[c]=d.val(e),s++,u&&Se.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):u=!1}),!e&&u&&l<2*s){const c=[];for(const d in i)c[d]=i[d];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zT(this.getPriority().val())+":"),this.forEachChild(St,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":fT(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new Ie(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ie(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ie(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ie.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uu?-1:0}withIndex(e){if(e===ul||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ul||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(St),l=i.getIterator(St);let u=s.getNext(),c=l.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=l.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ul?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ux extends Se{constructor(){super(new dn(Mg),Se.EMPTY_NODE,Qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const Uu=new ux;Object.defineProperties(Ie,{MIN:{value:new Ie(Nl,Se.EMPTY_NODE)},MAX:{value:new Ie(aa,Uu)}});jT.__EMPTY_NODE=Se.EMPTY_NODE;jt.__childrenNodeConstructor=Se;ix(Uu);sx(Uu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=!0;function Ht(n,e=null){if(n===null)return Se.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new jt(i,Ht(e))}if(!(n instanceof Array)&&cx){const i=[];let s=!1;if(mn(n,(c,d)=>{if(c.substring(0,1)!=="."){const p=Ht(d);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new Ie(c,p)))}}),i.length===0)return Se.EMPTY_NODE;const u=Uf(i,nx,c=>c.name,Mg);if(s){const c=Uf(i,St.getCompare());return new Se(u,Ht(e),new Qi({".priority":c},{".priority":St}))}else return new Se(u,Ht(e),Qi.Default)}else{let i=Se.EMPTY_NODE;return mn(n,(s,l)=>{if(or(n,s)&&s.substring(0,1)!=="."){const u=Ht(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Ht(e))}}rx(Ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends fh{constructor(e){super(),this.indexPath_=e,$(!ke(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?Hl(e.name,i.name):u}makePost(e,i){const s=Ht(e),l=Se.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ie(i,l)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,Uu);return new Ie(aa,e)}toString(){return LT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends fh{compare(e,i){const s=e.node.compareTo(i.node);return s===0?Hl(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,i){const s=Ht(e);return new Ie(i,s)}toString(){return".value"}}const dx=new hx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n){return{type:"value",snapshotNode:n}}function Ml(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function pu(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function mu(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function px(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.index_=e}updateChild(e,i,s,l,u,c){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(l).equals(s.getChild(l))&&d.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(i)?c.trackChildChange(pu(i,d)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Ml(i,s)):c.trackChildChange(mu(i,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(St,(l,u)=>{i.hasChild(l)||s.trackChildChange(pu(l,u))}),i.isLeafNode()||i.forEachChild(St,(l,u)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(u)||s.trackChildChange(mu(l,u,c))}else s.trackChildChange(Ml(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?Se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.indexedFilter_=new xg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gu.getStartPost_(e),this.endPost_=gu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,c){return this.matches(new Ie(i,s))||(s=Se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,c)}updateFullNode(e,i,s){i.isLeafNode()&&(i=Se.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(Se.EMPTY_NODE);const u=this;return i.forEachChild(St,(c,d)=>{u.matches(new Ie(c,d))||(l=l.updateImmediateChild(c,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new gu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,c){return this.rangedFilter_.matches(new Ie(i,s))||(s=Se.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,c):this.fullLimitUpdateChild_(e,i,s,u,c)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=Se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(Se.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let c=0;for(;u.hasNext();){const d=u.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:l=l.updateImmediateChild(d.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(b,S)=>y(S,b)}else c=this.index_.getCompare();const d=e;$(d.numChildren()===this.limit_,"");const p=new Ie(i,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(i)){const y=d.getImmediateChild(i);let b=l.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===i||d.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:c(b,p);if(_&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(mu(i,s,y)),d.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(pu(i,y));const U=d.updateImmediateChild(i,Se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(Ml(b.name,b.node)),U.updateImmediateChild(b.name,b.node)):U}}else return s.isEmpty()?e:_&&c(m,p)>=0?(u!=null&&(u.trackChildChange(pu(m.name,m.node)),u.trackChildChange(Ml(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(m.name,Se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:aa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new Ig;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gx(n){return n.loadsAllData()?new xg(n.getIndex()):n.hasLimit()?new mx(n):new gu(n)}function a0(n){const e={};if(n.isDefault())return e;let i;if(n.index_===St?i="$priority":n.index_===dx?i="$value":n.index_===ul?i="$key":($(n.index_ instanceof fx,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=It(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=It(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+It(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=It(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+It(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function l0(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==St&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends MT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Lu("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=kf.getListenId_(e,s),d={};this.listens_[c]=d;const p=a0(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),Ol(this.listens_,c)===d){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",l(b,null)}})}unlisten(e,i){const s=kf.getListenId_(e,i);delete this.listens_[s]}get(e){const i=a0(e._queryParams),s=e._path.toString(),l=new uh;return this.restRequest_(s+".json",i,(u,c)=>{let d=c;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jl(i);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=fu(d.responseText)}catch{pn("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,p)}else d.status!==401&&d.status!==404&&pn("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){return{value:null,children:new Map}}function VT(n,e,i){if(ke(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=je(e);n.children.has(s)||n.children.set(s,Pf());const l=n.children.get(s);e=ft(e),VT(l,e,i)}}function Ym(n,e,i){n.value!==null?i(e,n.value):yx(n,(s,l)=>{const u=new lt(e.toString()+"/"+s);Ym(l,u,i)})}function yx(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&mn(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=10*1e3,bx=30*1e3,Ex=5*60*1e3;class Sx{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new vx(e);const s=o0+(bx-o0)*Math.random();iu(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;mn(e,(l,u)=>{u>0&&or(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),iu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ex))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ei||(ei={}));function GT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ug(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=ei.ACK_USER_WRITE,this.source=GT()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new lt(e));return new jf(Ye(),i,this.revert)}}else return $(je(this.path)===e,"operationForChild called for unrelated child."),new jf(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,i){this.source=e,this.path=i,this.type=ei.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new _u(this.source,Ye()):new _u(this.source,ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=ei.OVERWRITE}operationForChild(e){return ke(this.path)?new la(this.source,Ye(),this.snap.getImmediateChild(e)):new la(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=ei.MERGE}operationForChild(e){if(ke(this.path)){const i=this.children.subtree(new lt(e));return i.isEmpty()?null:i.value?new la(this.source,Ye(),i.value):new yu(this.source,Ye(),i)}else return $(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yu(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;const i=je(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Cx(n,e,i,s){const l=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(px(c.childName,c.snapshotNode))}),Xo(n,l,"child_removed",e,s,i),Xo(n,l,"child_added",e,s,i),Xo(n,l,"child_moved",u,s,i),Xo(n,l,"child_changed",e,s,i),Xo(n,l,"value",e,s,i),l}function Xo(n,e,i,s,l,u){const c=s.filter(d=>d.type===i);c.sort((d,p)=>Rx(n,d,p)),c.forEach(d=>{const p=wx(n,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,n.query_))})})}function wx(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Rx(n,e,i){if(e.childName==null||i.childName==null)throw Pl("Should only compare child_ events.");const s=new Ie(e.childName,e.snapshotNode),l=new Ie(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,e){return{eventCache:n,serverCache:e}}function ru(n,e,i,s){return hh(new as(e,i,s),n.serverCache)}function YT(n,e,i,s){return hh(n.eventCache,new as(e,i,s))}function zf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function oa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;const Ax=()=>(um||(um=new dn(hM)),um);class ht{static fromObject(e){let i=new ht(null);return mn(e,(s,l)=>{i=i.set(new lt(s),l)}),i}constructor(e,i=Ax()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ye(),value:this.value};if(ke(e))return null;{const s=je(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ft(e),i);return u!=null?{path:Lt(new lt(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{const i=je(e),s=this.children.get(i);return s!==null?s.subtree(ft(e)):new ht(null)}}set(e,i){if(ke(e))return new ht(i,this.children);{const s=je(e),u=(this.children.get(s)||new ht(null)).set(ft(e),i),c=this.children.insert(s,u);return new ht(this.value,c)}}remove(e){if(ke(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const i=je(e),s=this.children.get(i);if(s){const l=s.remove(ft(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new ht(null):new ht(this.value,u)}else return this}}get(e){if(ke(e))return this.value;{const i=je(e),s=this.children.get(i);return s?s.get(ft(e)):null}}setTree(e,i){if(ke(e))return i;{const s=je(e),u=(this.children.get(s)||new ht(null)).setTree(ft(e),i);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new ht(this.value,c)}}fold(e){return this.fold_(Ye(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Lt(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Ye(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(ke(e))return null;{const u=je(e),c=this.children.get(u);return c?c.findOnPath_(ft(e),Lt(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ye(),i)}foreachOnPath_(e,i,s){if(ke(e))return this;{this.value&&s(i,this.value);const l=je(e),u=this.children.get(l);return u?u.foreachOnPath_(ft(e),Lt(i,l),s):new ht(null)}}foreach(e){this.foreach_(Ye(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(Lt(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.writeTree_=e}static empty(){return new ni(new ht(null))}}function su(n,e,i){if(ke(e))return new ni(new ht(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const c=tn(l,e);return u=u.updateChild(c,i),new ni(n.writeTree_.set(l,u))}else{const l=new ht(i),u=n.writeTree_.setTree(e,l);return new ni(u)}}}function u0(n,e,i){let s=n;return mn(i,(l,u)=>{s=su(s,Lt(e,l),u)}),s}function c0(n,e){if(ke(e))return ni.empty();{const i=n.writeTree_.setTree(e,new ht(null));return new ni(i)}}function Qm(n,e){return ma(n,e)!=null}function ma(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(tn(i.path,e)):null}function f0(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(St,(s,l)=>{e.push(new Ie(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Ie(s,l.value))}),e}function ns(n,e){if(ke(e))return n;{const i=ma(n,e);return i!=null?new ni(new ht(i)):new ni(n.writeTree_.subtree(e))}}function Km(n){return n.writeTree_.isEmpty()}function xl(n,e){return QT(Ye(),n.writeTree_,e)}function QT(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?($(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=QT(Lt(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(Lt(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n,e){return ZT(e,n)}function Ox(n,e,i,s,l){$(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=su(n.visibleWrites,e,i)),n.lastWriteId=s}function Dx(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function Nx(n,e){const i=n.allWrites.findIndex(d=>d.writeId===e);$(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=i&&Mx(d,s.path)?l=!1:Jn(s.path,d.path)&&(u=!0)),c--}if(l){if(u)return xx(n),!0;if(s.snap)n.visibleWrites=c0(n.visibleWrites,s.path);else{const d=s.children;mn(d,p=>{n.visibleWrites=c0(n.visibleWrites,Lt(s.path,p))})}return!0}else return!1}function Mx(n,e){if(n.snap)return Jn(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Jn(Lt(n.path,i),e))return!0;return!1}function xx(n){n.visibleWrites=KT(n.allWrites,Ix,Ye()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Ix(n){return n.visible}function KT(n,e,i){let s=ni.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const c=u.path;let d;if(u.snap)Jn(i,c)?(d=tn(i,c),s=su(s,d,u.snap)):Jn(c,i)&&(d=tn(c,i),s=su(s,Ye(),u.snap.getChild(d)));else if(u.children){if(Jn(i,c))d=tn(i,c),s=u0(s,d,u.children);else if(Jn(c,i))if(d=tn(c,i),ke(d))s=u0(s,Ye(),u.children);else{const p=Ol(u.children,je(d));if(p){const m=p.getChild(ft(d));s=su(s,Ye(),m)}}}else throw Pl("WriteRecord should have .snap or .children")}}return s}function WT(n,e,i,s,l){if(!s&&!l){const u=ma(n.visibleWrites,e);if(u!=null)return u;{const c=ns(n.visibleWrites,e);if(Km(c))return i;if(i==null&&!Qm(c,Ye()))return null;{const d=i||Se.EMPTY_NODE;return xl(c,d)}}}else{const u=ns(n.visibleWrites,e);if(!l&&Km(u))return i;if(!l&&i==null&&!Qm(u,Ye()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Jn(m.path,e)||Jn(e,m.path))},d=KT(n.allWrites,c,e),p=i||Se.EMPTY_NODE;return xl(d,p)}}}function Lx(n,e,i){let s=Se.EMPTY_NODE;const l=ma(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(St,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(i){const u=ns(n.visibleWrites,e);return i.forEachChild(St,(c,d)=>{const p=xl(ns(u,new lt(c)),d);s=s.updateImmediateChild(c,p)}),f0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=ns(n.visibleWrites,e);return f0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function Ux(n,e,i,s,l){$(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Lt(e,i);if(Qm(n.visibleWrites,u))return null;{const c=ns(n.visibleWrites,u);return Km(c)?l.getChild(i):xl(c,l.getChild(i))}}function kx(n,e,i,s){const l=Lt(e,i),u=ma(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const c=ns(n.visibleWrites,l);return xl(c,s.getNode().getImmediateChild(i))}else return null}function Px(n,e){return ma(n.visibleWrites,e)}function jx(n,e,i,s,l,u,c){let d;const p=ns(n.visibleWrites,e),m=ma(p,Ye());if(m!=null)d=m;else if(i!=null)d=xl(p,i);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const _=[],y=c.getCompare(),b=u?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let S=b.getNext();for(;S&&_.length<l;)y(S,s)!==0&&_.push(S),S=b.getNext();return _}else return[]}function zx(){return{visibleWrites:ni.empty(),allWrites:[],lastWriteId:-1}}function Hf(n,e,i,s){return WT(n.writeTree,n.treePath,e,i,s)}function kg(n,e){return Lx(n.writeTree,n.treePath,e)}function h0(n,e,i,s){return Ux(n.writeTree,n.treePath,e,i,s)}function Bf(n,e){return Px(n.writeTree,Lt(n.treePath,e))}function Hx(n,e,i,s,l,u){return jx(n.writeTree,n.treePath,e,i,s,l,u)}function Pg(n,e,i){return kx(n.writeTree,n.treePath,e,i)}function XT(n,e){return ZT(Lt(n.treePath,e),n.writeTree)}function ZT(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;$(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),$(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,mu(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,pu(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,Ml(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,mu(s,e.snapshotNode,l.oldSnap));else throw Pl("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const $T=new Fx;class jg{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pg(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oa(this.viewCache_),u=Hx(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n){return{filter:n}}function Vx(n,e){$(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Gx(n,e,i,s,l){const u=new Bx;let c,d;if(i.type===ei.OVERWRITE){const m=i;m.source.fromUser?c=Wm(n,e,m.path,m.snap,s,l,u):($(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ke(m.path),c=Ff(n,e,m.path,m.snap,s,l,d,u))}else if(i.type===ei.MERGE){const m=i;m.source.fromUser?c=Qx(n,e,m.path,m.children,s,l,u):($(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),c=Xm(n,e,m.path,m.children,s,l,d,u))}else if(i.type===ei.ACK_USER_WRITE){const m=i;m.revert?c=Xx(n,e,m.path,s,l,u):c=Kx(n,e,m.path,m.affectedTree,s,l,u)}else if(i.type===ei.LISTEN_COMPLETE)c=Wx(n,e,i.path,s,u);else throw Pl("Unknown operation type: "+i.type);const p=u.getChanges();return Yx(e,c,p),{viewCache:c,changes:p}}function Yx(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=zf(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(qT(zf(e)))}}function JT(n,e,i,s,l,u){const c=e.eventCache;if(Bf(s,i)!=null)return e;{let d,p;if(ke(i))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=oa(e),_=m instanceof Se?m:Se.EMPTY_NODE,y=kg(s,_);d=n.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=Hf(s,oa(e));d=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=je(i);if(m===".priority"){$(ss(i)===1,"Can't have a priority with additional path components");const _=c.getNode();p=e.serverCache.getNode();const y=h0(s,i,_,p);y!=null?d=n.filter.updatePriority(_,y):d=c.getNode()}else{const _=ft(i);let y;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const b=h0(s,i,c.getNode(),p);b!=null?y=c.getNode().getImmediateChild(m).updateChild(_,b):y=c.getNode().getImmediateChild(m)}else y=Pg(s,m,e.serverCache);y!=null?d=n.filter.updateChild(c.getNode(),m,y,_,l,u):d=c.getNode()}}return ru(e,d,c.isFullyInitialized()||ke(i),n.filter.filtersNodes())}}function Ff(n,e,i,s,l,u,c,d){const p=e.serverCache;let m;const _=c?n.filter:n.filter.getIndexedFilter();if(ke(i))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(i,s);m=_.updateFullNode(p.getNode(),S,null)}else{const S=je(i);if(!p.isCompleteForPath(i)&&ss(i)>1)return e;const O=ft(i),x=p.getNode().getImmediateChild(S).updateChild(O,s);S===".priority"?m=_.updatePriority(p.getNode(),x):m=_.updateChild(p.getNode(),S,x,O,$T,null)}const y=YT(e,m,p.isFullyInitialized()||ke(i),_.filtersNodes()),b=new jg(l,y,u);return JT(n,y,i,l,b,d)}function Wm(n,e,i,s,l,u,c){const d=e.eventCache;let p,m;const _=new jg(l,e,u);if(ke(i))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),p=ru(e,m,!0,n.filter.filtersNodes());else{const y=je(i);if(y===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=ru(e,m,d.isFullyInitialized(),d.isFiltered());else{const b=ft(i),S=d.getNode().getImmediateChild(y);let O;if(ke(b))O=s;else{const U=_.getCompleteChild(y);U!=null?IT(b)===".priority"&&U.getChild(UT(b)).isEmpty()?O=U:O=U.updateChild(b,s):O=Se.EMPTY_NODE}if(S.equals(O))p=e;else{const U=n.filter.updateChild(d.getNode(),y,O,b,_,c);p=ru(e,U,d.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function d0(n,e){return n.eventCache.isCompleteForChild(e)}function Qx(n,e,i,s,l,u,c){let d=e;return s.foreach((p,m)=>{const _=Lt(i,p);d0(e,je(_))&&(d=Wm(n,d,_,m,l,u,c))}),s.foreach((p,m)=>{const _=Lt(i,p);d0(e,je(_))||(d=Wm(n,d,_,m,l,u,c))}),d}function p0(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Xm(n,e,i,s,l,u,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ke(i)?m=s:m=new ht(null).setTree(i,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,b)=>{if(_.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),O=p0(n,S,b);p=Ff(n,p,new lt(y),O,l,u,c,d)}}),m.children.inorderTraversal((y,b)=>{const S=!e.serverCache.isCompleteForChild(y)&&b.value===null;if(!_.hasChild(y)&&!S){const O=e.serverCache.getNode().getImmediateChild(y),U=p0(n,O,b);p=Ff(n,p,new lt(y),U,l,u,c,d)}}),p}function Kx(n,e,i,s,l,u,c){if(Bf(l,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(ke(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Ff(n,e,i,p.getNode().getChild(i),l,u,d,c);if(ke(i)){let m=new ht(null);return p.getNode().forEachChild(ul,(_,y)=>{m=m.set(new lt(_),y)}),Xm(n,e,i,m,l,u,d,c)}else return e}else{let m=new ht(null);return s.foreach((_,y)=>{const b=Lt(i,_);p.isCompleteForPath(b)&&(m=m.set(_,p.getNode().getChild(b)))}),Xm(n,e,i,m,l,u,d,c)}}function Wx(n,e,i,s,l){const u=e.serverCache,c=YT(e,u.getNode(),u.isFullyInitialized()||ke(i),u.isFiltered());return JT(n,c,i,s,$T,l)}function Xx(n,e,i,s,l,u){let c;if(Bf(s,i)!=null)return e;{const d=new jg(s,e,l),p=e.eventCache.getNode();let m;if(ke(i)||je(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Hf(s,oa(e));else{const y=e.serverCache.getNode();$(y instanceof Se,"serverChildren would be complete if leaf node"),_=kg(s,y)}_=_,m=n.filter.updateFullNode(p,_,u)}else{const _=je(i);let y=Pg(s,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=n.filter.updateChild(p,_,y,ft(i),d,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,Se.EMPTY_NODE,ft(i),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Hf(s,oa(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||Bf(s,Ye())!=null,ru(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new xg(s.getIndex()),u=gx(s);this.processor_=qx(u);const c=i.serverCache,d=i.eventCache,p=l.updateFullNode(Se.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(Se.EMPTY_NODE,d.getNode(),null),_=new as(p,c.isFullyInitialized(),l.filtersNodes()),y=new as(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=hh(y,_),this.eventGenerator_=new Tx(this.query_)}get query(){return this.query_}}function $x(n){return n.viewCache_.serverCache.getNode()}function Jx(n){return zf(n.viewCache_)}function eI(n,e){const i=oa(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!ke(e)&&!i.getImmediateChild(je(e)).isEmpty())?i.getChild(e):null}function m0(n){return n.eventRegistrations_.length===0}function tI(n,e){n.eventRegistrations_.push(e)}function g0(n,e,i){const s=[];if(i){$(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,l);c&&s.push(c)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const c=n.eventRegistrations_[u];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function _0(n,e,i,s){e.type===ei.MERGE&&e.source.queryId!==null&&($(oa(n.viewCache_),"We should always have a full cache before handling merges"),$(zf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=Gx(n.processor_,l,e,i,s);return Vx(n.processor_,u.viewCache),$(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,eC(n,u.changes,u.viewCache.eventCache.getNode(),null)}function nI(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(St,(u,c)=>{s.push(Ml(u,c))}),i.isFullyInitialized()&&s.push(qT(i.getNode())),eC(n,s,i.getNode(),e)}function eC(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return Cx(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;class tC{constructor(){this.views=new Map}}function iI(n){$(!qf,"__referenceConstructor has already been defined"),qf=n}function rI(){return $(qf,"Reference.ts has not been loaded"),qf}function sI(n){return n.views.size===0}function zg(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return $(u!=null,"SyncTree gave us an op for an invalid query."),_0(u,e,i,s)}else{let u=[];for(const c of n.views.values())u=u.concat(_0(c,e,i,s));return u}}function nC(n,e,i,s,l){const u=e._queryIdentifier,c=n.views.get(u);if(!c){let d=Hf(i,l?s:null),p=!1;d?p=!0:s instanceof Se?(d=kg(i,s),p=!1):(d=Se.EMPTY_NODE,p=!1);const m=hh(new as(d,p,!1),new as(s,l,!1));return new Zx(e,m)}return c}function aI(n,e,i,s,l,u){const c=nC(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),tI(c,i),nI(c,i)}function lI(n,e,i,s){const l=e._queryIdentifier,u=[];let c=[];const d=ls(n);if(l==="default")for(const[p,m]of n.views.entries())c=c.concat(g0(m,i,s)),m0(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(c=c.concat(g0(p,i,s)),m0(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!ls(n)&&u.push(new(rI())(e._repo,e._path)),{removed:u,events:c}}function iC(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function is(n,e){let i=null;for(const s of n.views.values())i=i||eI(s,e);return i}function rC(n,e){if(e._queryParams.loadsAllData())return ph(n);{const s=e._queryIdentifier;return n.views.get(s)}}function sC(n,e){return rC(n,e)!=null}function ls(n){return ph(n)!=null}function ph(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;function oI(n){$(!Vf,"__referenceConstructor has already been defined"),Vf=n}function uI(){return $(Vf,"Reference.ts has not been loaded"),Vf}let cI=1;class y0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=zx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aC(n,e,i,s,l){return Ox(n.pendingWriteTree_,e,i,s,l),l?Pu(n,new la(GT(),e,i)):[]}function Gs(n,e,i=!1){const s=Dx(n.pendingWriteTree_,e);if(Nx(n.pendingWriteTree_,e)){let u=new ht(null);return s.snap!=null?u=u.set(Ye(),!0):mn(s.children,c=>{u=u.set(new lt(c),!0)}),Pu(n,new jf(s.path,u,i))}else return[]}function ku(n,e,i){return Pu(n,new la(Lg(),e,i))}function fI(n,e,i){const s=ht.fromObject(i);return Pu(n,new yu(Lg(),e,s))}function hI(n,e){return Pu(n,new _u(Lg(),e))}function dI(n,e,i){const s=Bg(n,i);if(s){const l=Fg(s),u=l.path,c=l.queryId,d=tn(u,e),p=new _u(Ug(c),d);return qg(n,u,p)}else return[]}function lC(n,e,i,s,l=!1){const u=e._path,c=n.syncPointTree_.get(u);let d=[];if(c&&(e._queryIdentifier==="default"||sC(c,e))){const p=lI(c,e,i,s);sI(c)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!l){const _=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(u,(b,S)=>ls(S));if(_&&!y){const b=n.syncPointTree_.subtree(u);if(!b.isEmpty()){const S=_I(b);for(let O=0;O<S.length;++O){const U=S[O],x=U.query,W=fC(n,U);n.listenProvider_.startListening(au(x),vu(n,x),W.hashFn,W.onComplete)}}}!y&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(au(e),null):m.forEach(b=>{const S=n.queryToTagMap.get(mh(b));n.listenProvider_.stopListening(au(b),S)}))}yI(n,m)}return d}function oC(n,e,i,s){const l=Bg(n,s);if(l!=null){const u=Fg(l),c=u.path,d=u.queryId,p=tn(c,e),m=new la(Ug(d),p,i);return qg(n,c,m)}else return[]}function pI(n,e,i,s){const l=Bg(n,s);if(l){const u=Fg(l),c=u.path,d=u.queryId,p=tn(c,e),m=ht.fromObject(i),_=new yu(Ug(d),p,m);return qg(n,c,_)}else return[]}function mI(n,e,i,s=!1){const l=e._path;let u=null,c=!1;n.syncPointTree_.foreachOnPath(l,(b,S)=>{const O=tn(b,l);u=u||is(S,O),c=c||ls(S)});let d=n.syncPointTree_.get(l);d?(c=c||ls(d),u=u||is(d,Ye())):(d=new tC,n.syncPointTree_=n.syncPointTree_.set(l,d));let p;u!=null?p=!0:(p=!1,u=Se.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,O)=>{const U=is(O,Ye());U&&(u=u.updateImmediateChild(S,U))}));const m=sC(d,e);if(!m&&!e._queryParams.loadsAllData()){const b=mh(e);$(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=vI();n.queryToTagMap.set(b,S),n.tagToQueryMap.set(S,b)}const _=dh(n.pendingWriteTree_,l);let y=aI(d,e,i,_,u,p);if(!m&&!c&&!s){const b=rC(d,e);y=y.concat(bI(n,e,b))}return y}function Hg(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(c,d)=>{const p=tn(c,e),m=is(d,p);if(m)return m});return WT(l,e,u,i,!0)}function gI(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(m,_)=>{const y=tn(m,i);s=s||is(_,y)});let l=n.syncPointTree_.get(i);l?s=s||is(l,Ye()):(l=new tC,n.syncPointTree_=n.syncPointTree_.set(i,l));const u=s!=null,c=u?new as(s,!0,!1):null,d=dh(n.pendingWriteTree_,e._path),p=nC(l,e,d,u?c.getNode():Se.EMPTY_NODE,u);return Jx(p)}function Pu(n,e){return uC(e,n.syncPointTree_,null,dh(n.pendingWriteTree_,Ye()))}function uC(n,e,i,s){if(ke(n.path))return cC(n,e,i,s);{const l=e.get(Ye());i==null&&l!=null&&(i=is(l,Ye()));let u=[];const c=je(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const m=i?i.getImmediateChild(c):null,_=XT(s,c);u=u.concat(uC(d,p,m,_))}return l&&(u=u.concat(zg(l,n,s,i))),u}}function cC(n,e,i,s){const l=e.get(Ye());i==null&&l!=null&&(i=is(l,Ye()));let u=[];return e.children.inorderTraversal((c,d)=>{const p=i?i.getImmediateChild(c):null,m=XT(s,c),_=n.operationForChild(c);_&&(u=u.concat(cC(_,d,p,m)))}),l&&(u=u.concat(zg(l,n,s,i))),u}function fC(n,e){const i=e.query,s=vu(n,i);return{hashFn:()=>($x(e)||Se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?dI(n,i._path,s):hI(n,i._path);{const u=mM(l,i);return lC(n,i,null,u)}}}}function vu(n,e){const i=mh(e);return n.queryToTagMap.get(i)}function mh(n){return n._path.toString()+"$"+n._queryIdentifier}function Bg(n,e){return n.tagToQueryMap.get(e)}function Fg(n){const e=n.indexOf("$");return $(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new lt(n.substr(0,e))}}function qg(n,e,i){const s=n.syncPointTree_.get(e);$(s,"Missing sync point for query tag that we're tracking");const l=dh(n.pendingWriteTree_,e);return zg(s,i,l,null)}function _I(n){return n.fold((e,i,s)=>{if(i&&ls(i))return[ph(i)];{let l=[];return i&&(l=iC(i)),mn(s,(u,c)=>{l=l.concat(c)}),l}})}function au(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(uI())(n._repo,n._path):n}function yI(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=mh(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function vI(){return cI++}function bI(n,e,i){const s=e._path,l=vu(n,e),u=fC(n,i),c=n.listenProvider_.startListening(au(e),l,u.hashFn,u.onComplete),d=n.syncPointTree_.subtree(s);if(l)$(!ls(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,_,y)=>{if(!ke(m)&&_&&ls(_))return[ph(_).query];{let b=[];return _&&(b=b.concat(iC(_).map(S=>S.query))),mn(y,(S,O)=>{b=b.concat(O)}),b}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(au(_),vu(n,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Vg(i)}node(){return this.node_}}class Gg{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Lt(this.path_,e);return new Gg(this.syncTree_,i)}node(){return Hg(this.syncTree_,this.path_)}}const EI=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},v0=function(n,e,i){if(!n||typeof n!="object")return n;if($(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return SI(n[".sv"],e,i);if(typeof n[".sv"]=="object")return TI(n[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},SI=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:$(!1,"Unexpected server value: "+n)}},TI=function(n,e,i){n.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&$(!1,"Unexpected increment value: "+s);const l=e.node();if($(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},CI=function(n,e,i,s){return Yg(e,new Gg(i,n),s)},hC=function(n,e,i){return Yg(n,new Vg(e),i)};function Yg(n,e,i){const s=n.getPriority().val(),l=v0(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const c=n,d=v0(c.getValue(),e,i);return d!==c.getValue()||l!==c.getPriority().val()?new jt(d,Ht(l)):n}else{const c=n;return u=c,l!==c.getPriority().val()&&(u=u.updatePriority(new jt(l))),c.forEachChild(St,(d,p)=>{const m=Yg(p,e.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Kg(n,e){let i=e instanceof lt?e:new lt(e),s=n,l=je(i);for(;l!==null;){const u=Ol(s.node.children,l)||{children:{},childCount:0};s=new Qg(l,s,u),i=ft(i),l=je(i)}return s}function Fl(n){return n.node.value}function dC(n,e){n.node.value=e,Zm(n)}function pC(n){return n.node.childCount>0}function wI(n){return Fl(n)===void 0&&!pC(n)}function gh(n,e){mn(n.node.children,(i,s)=>{e(new Qg(i,n,s))})}function mC(n,e,i,s){i&&e(n),gh(n,l=>{mC(l,e,!0)})}function RI(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ju(n){return new lt(n.parent===null?n.name:ju(n.parent)+"/"+n.name)}function Zm(n){n.parent!==null&&AI(n.parent,n.name,n)}function AI(n,e,i){const s=wI(i),l=or(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Zm(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Zm(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=/[\[\].#$\/\u0000-\u001F\u007F]/,DI=/[\[\].#$\u0000-\u001F\u007F]/,cm=10*1024*1024,gC=function(n){return typeof n=="string"&&n.length!==0&&!OI.test(n)},_C=function(n){return typeof n=="string"&&n.length!==0&&!DI.test(n)},NI=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_C(n)},yC=function(n,e,i,s){s&&e===void 0||Wg(Sg(n,"value"),e,i)},Wg=function(n,e,i){const s=i instanceof lt?new KM(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+zs(s));if(typeof e=="function")throw new Error(n+"contains a function "+zs(s)+" with contents = "+e.toString());if(hT(e))throw new Error(n+"contains "+e.toString()+" "+zs(s));if(typeof e=="string"&&e.length>cm/3&&ch(e)>cm)throw new Error(n+"contains a string greater than "+cm+" utf8 bytes "+zs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(mn(e,(c,d)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!gC(c)))throw new Error(n+" contains an invalid key ("+c+") "+zs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WM(s,c),Wg(n,d,s),XM(s)}),l&&u)throw new Error(n+' contains ".value" child '+zs(s)+" in addition to actual children.")}},vC=function(n,e,i,s){if(!_C(i))throw new Error(Sg(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MI=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),vC(n,e,i)},Xg=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},xI=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!NI(i))throw new Error(Sg(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bC(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!kT(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function Ti(n,e,i){bC(n,i),LI(n,s=>Jn(s,e)||Jn(e,s))}function LI(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(UI(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function UI(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();nu&&Xt("event: "+i.toString()),Bl(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="repo_interrupt",PI=25;class jI{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new II,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pf(),this.transactionQueueTree_=new Qg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zI(n,e,i){if(n.stats_=Og(n.repoInfo_),n.forceRestClient_||vM())n.server_=new kf(n.repoInfo_,(s,l,u,c)=>{b0(n,s,l,u,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>E0(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Zi(n.repoInfo_,e,(s,l,u,c)=>{b0(n,s,l,u,c)},s=>{E0(n,s)},s=>{HI(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=CM(n.repoInfo_,()=>new Sx(n.stats_,n.server_)),n.infoData_=new _x,n.infoSyncTree_=new y0({startListening:(s,l,u,c)=>{let d=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(d=ku(n.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),$g(n,"connected",!1),n.serverSyncTree_=new y0({startListening:(s,l,u,c)=>(n.server_.listen(s,u,l,(d,p)=>{const m=c(d,p);Ti(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function EC(n){const i=n.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Zg(n){return EI({timestamp:EC(n)})}function b0(n,e,i,s,l){n.dataUpdateCount++;const u=new lt(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let c=[];if(l)if(s){const p=Mf(i,m=>Ht(m));c=pI(n.serverSyncTree_,u,p,l)}else{const p=Ht(i);c=oC(n.serverSyncTree_,u,p,l)}else if(s){const p=Mf(i,m=>Ht(m));c=fI(n.serverSyncTree_,u,p)}else{const p=Ht(i);c=ku(n.serverSyncTree_,u,p)}let d=u;c.length>0&&(d=yh(n,u)),Ti(n.eventQueue_,d,c)}function E0(n,e){$g(n,"connected",e),e===!1&&qI(n)}function HI(n,e){mn(e,(i,s)=>{$g(n,i,s)})}function $g(n,e,i){const s=new lt("/.info/"+e),l=Ht(i);n.infoData_.updateSnapshot(s,l);const u=ku(n.infoSyncTree_,s,l);Ti(n.eventQueue_,s,u)}function SC(n){return n.nextWriteId_++}function BI(n,e,i){const s=gI(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ht(l).withIndex(e._queryParams.getIndex());mI(n.serverSyncTree_,e,i,!0);let c;if(e._queryParams.loadsAllData())c=ku(n.serverSyncTree_,e._path,u);else{const d=vu(n.serverSyncTree_,e);c=oC(n.serverSyncTree_,e._path,u,d)}return Ti(n.eventQueue_,e._path,c),lC(n.serverSyncTree_,e,i,null,!0),u},l=>(_h(n,"get for query "+It(e)+" failed: "+l),Promise.reject(new Error(l))))}function FI(n,e,i,s,l){_h(n,"set",{path:e.toString(),value:i,priority:s});const u=Zg(n),c=Ht(i,s),d=Hg(n.serverSyncTree_,e),p=hC(c,d,u),m=SC(n),_=aC(n.serverSyncTree_,e,p,m,!0);bC(n.eventQueue_,_),n.server_.put(e.toString(),c.val(!0),(b,S)=>{const O=b==="ok";O||pn("set at "+e+" failed: "+b);const U=Gs(n.serverSyncTree_,m,!O);Ti(n.eventQueue_,e,U),GI(n,l,b,S)});const y=AC(n,e);yh(n,y),Ti(n.eventQueue_,y,[])}function qI(n){_h(n,"onDisconnectEvents");const e=Zg(n),i=Pf();Ym(n.onDisconnect_,Ye(),(l,u)=>{const c=CI(l,u,n.serverSyncTree_,e);VT(i,l,c)});let s=[];Ym(i,Ye(),(l,u)=>{s=s.concat(ku(n.serverSyncTree_,l,u));const c=AC(n,l);yh(n,c)}),n.onDisconnect_=Pf(),Ti(n.eventQueue_,Ye(),s)}function VI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(kI)}function _h(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),Xt(i,...e)}function GI(n,e,i,s){e&&Bl(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const c=new Error(u);c.code=l,e(c)}})}function TC(n,e,i){return Hg(n.serverSyncTree_,e,i)||Se.EMPTY_NODE}function Jg(n,e=n.transactionQueueTree_){if(e||vh(n,e),Fl(e)){const i=wC(n,e);$(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&YI(n,ju(e),i)}else pC(e)&&gh(e,i=>{Jg(n,i)})}function YI(n,e,i){const s=i.map(m=>m.currentWriteId),l=TC(n,e,s);let u=l;const c=l.hash();for(let m=0;m<i.length;m++){const _=i[m];$(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=tn(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;n.server_.put(p.toString(),d,m=>{_h(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let b=0;b<i.length;b++)i[b].status=2,_=_.concat(Gs(n.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&y.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();vh(n,Kg(n.transactionQueueTree_,e)),Jg(n,n.transactionQueueTree_),Ti(n.eventQueue_,e,_);for(let b=0;b<y.length;b++)Bl(y[b])}else{if(m==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{pn("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=m}yh(n,e)}},c)}function yh(n,e){const i=CC(n,e),s=ju(i),l=wC(n,i);return QI(n,l,s),s}function QI(n,e,i){if(e.length===0)return;const s=[];let l=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=tn(i,p.path);let _=!1,y;if($(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(Gs(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=PI)_=!0,y="maxretry",l=l.concat(Gs(n.serverSyncTree_,p.currentWriteId,!0));else{const b=TC(n,p.path,c);p.currentInputSnapshot=b;const S=e[d].update(b.val());if(S!==void 0){Wg("transaction failed: Data returned ",S,p.path);let O=Ht(S);typeof S=="object"&&S!=null&&or(S,".priority")||(O=O.updatePriority(b.getPriority()));const x=p.currentWriteId,W=Zg(n),G=hC(O,b,W);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=G,p.currentWriteId=SC(n),c.splice(c.indexOf(x),1),l=l.concat(aC(n.serverSyncTree_,p.path,G,p.currentWriteId,p.applyLocally)),l=l.concat(Gs(n.serverSyncTree_,x,!0))}else _=!0,y="nodata",l=l.concat(Gs(n.serverSyncTree_,p.currentWriteId,!0))}Ti(n.eventQueue_,i,l),l=[],_&&(e[d].status=2,function(b){setTimeout(b,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(y),!1,null))))}vh(n,n.transactionQueueTree_);for(let d=0;d<s.length;d++)Bl(s[d]);Jg(n,n.transactionQueueTree_)}function CC(n,e){let i,s=n.transactionQueueTree_;for(i=je(e);i!==null&&Fl(s)===void 0;)s=Kg(s,i),e=ft(e),i=je(e);return s}function wC(n,e){const i=[];return RC(n,e,i),i.sort((s,l)=>s.order-l.order),i}function RC(n,e,i){const s=Fl(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);gh(e,l=>{RC(n,l,i)})}function vh(n,e){const i=Fl(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,dC(e,i.length>0?i:void 0)}gh(e,s=>{vh(n,s)})}function AC(n,e){const i=ju(CC(n,e)),s=Kg(n.transactionQueueTree_,e);return RI(s,l=>{fm(n,l)}),fm(n,s),mC(s,l=>{fm(n,l)}),i}function fm(n,e){const i=Fl(e);if(i){const s=[];let l=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?($(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):($(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),l=l.concat(Gs(n.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&s.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?dC(e,void 0):i.length=u+1,Ti(n.eventQueue_,ju(e),l);for(let c=0;c<s.length;c++)Bl(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function WI(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):pn(`Invalid query segment '${i}' in query '${n}'`)}return e}const S0=function(n,e){const i=XI(n),s=i.namespace;i.domain==="firebase.com"&&ir(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&ir("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||cM();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new CT(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new lt(i.pathString)}},XI=function(n){let e="",i="",s="",l="",u="",c=!0,d="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(_,y)),_<y&&(l=KI(n.substring(_,y)));const b=WI(n.substring(Math.min(n.length,y)));m=e.indexOf(":"),m>=0?(c=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")i="localhost";else if(S.split(".").length<=2)i=S;else{const O=e.indexOf(".");s=e.substring(0,O).toLowerCase(),i=e.substring(O+1),u=s}"ns"in b&&(u=b.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:c,scheme:d,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZI=function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=T0.charAt(i%64),i=Math.floor(i/64);$(i===0,"Cannot push at time == 0");let c=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=T0.charAt(e[l]);return $(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())}}class JI{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return ke(this._path)?null:IT(this._path)}get ref(){return new ur(this._repo,this._path)}get _queryIdentifier(){const e=l0(this._queryParams),i=Rg(e);return i==="{}"?"default":i}get _queryObject(){return l0(this._queryParams)}isEqual(e){if(e=rn(e),!(e instanceof e_))return!1;const i=this._repo===e._repo,s=kT(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+QM(this._path)}}class ur extends e_{constructor(e,i){super(e,i,new Ig,!1)}get parent(){const e=UT(this._path);return e===null?null:new ur(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bu{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new lt(e),s=Eu(this.ref,e);return new bu(this._node.getChild(i),s,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new bu(l,Eu(this.ref,s),St)))}hasChild(e){const i=new lt(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cs(n,e){return n=rn(n),n._checkNotDeleted("ref"),e!==void 0?Eu(n._root,e):n._root}function Eu(n,e){return n=rn(n),je(n._path)===null?MI("child","path",e):vC("child","path",e),new ur(n._repo,Lt(n._path,e))}function OC(n,e){n=rn(n),Xg("push",n._path),yC("push",e,n._path,!0);const i=EC(n._repo),s=ZI(i),l=Eu(n,s),u=Eu(n,s);let c;return c=Promise.resolve(u),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function tL(n){return Xg("remove",n._path),bh(n,null)}function bh(n,e){n=rn(n),Xg("set",n._path),yC("set",e,n._path,!1);const i=new uh;return FI(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function Eh(n){n=rn(n);const e=new eL(()=>{}),i=new t_(e);return BI(n._repo,n,i).then(s=>new bu(s,new ur(n._repo,n._path),n._queryParams.getIndex()))}class t_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new $I("value",this,new bu(e.snapshotNode,new ur(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new JI(this,e,i):null}matches(e){return e instanceof t_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}iI(ur);oI(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="FIREBASE_DATABASE_EMULATOR_HOST",$m={};let iL=!1;function rL(n,e,i,s){n.repoInfo_=new CT(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function sL(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||ir("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=S0(u,l),d=c.repoInfo,p;typeof process<"u"&&qE&&(p=qE[nL]),p?(u=`http://${p}?ns=${d.namespace}`,c=S0(u,l),d=c.repoInfo):c.repoInfo.secure;const m=new EM(n.name,n.options,e);xI("Invalid Firebase Database URL",c),ke(c.path)||ir("Database URL must point to the root of a Firebase Database (not including a child path).");const _=lL(d,n,m,new bM(n,i));return new oL(_,n)}function aL(n,e){const i=$m[e];(!i||i[n.key]!==n)&&ir(`Database ${e}(${n.repoInfo_}) has already been deleted.`),VI(n),delete i[n.key]}function lL(n,e,i,s){let l=$m[e.name];l||(l={},$m[e.name]=l);let u=l[n.toURLString()];return u&&ir("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new jI(n,iL,i,s),l[n.toURLString()]=u,u}class oL{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ur(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ir("Cannot call "+e+" on a deleted database.")}}function fs(n=aT(),e){const i=wg(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=xD("database");s&&uL(i,...s)}return i}function uL(n,e,i,s={}){n=rn(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&ra(s,u.repoInfo_.emulatorOptions))return;ir("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&ir('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new gf(gf.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:ID(s.mockUserToken,n.app.options.projectId);c=new gf(d)}rL(u,l,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n){rM(zl),Dl(new sa("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return sL(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),ts(VE,GE,n),ts(VE,GE,"esm2017")}Zi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Zi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};cL();const Gf=new aD;async function fL(){const n=fs(),e=cs(n,"posts/"),i=await Eh(e);if(i.exists()){const s=i.val();return Object.entries(s).flatMap(([u,c])=>Object.entries(c).map(([d,p])=>({groupKey:`${u}-${d}`,id:d,...p})))}}async function hL({userId:n}){const e=fs(),i=cs(e,"posts/"+n),s=await Eh(i);if(s.exists()){const l=s.val();return Object.entries(l).map(([c,d])=>({groupKey:c,...d}))}return[]}async function dL({userId:n,postId:e}){const i=fs(),s=cs(i,"posts/"+n+"/"+e),l=await Eh(s);return l.exists()?l.val():null}async function pL({userId:n}){const e=fs(),i=cs(e,"users/"+n),s=await Eh(i);if(s.exists()){const l=s.val();return Object.values(l)[0]}}async function mL({userId:n,filteredData:e}){const i=fs(),s=cs(i,"users/"+n),l=OC(s);bh(l,e)}async function gL({userId:n,data:e}){const i=fs(),s=cs(i,"posts/"+n),l=OC(s);bh(l,e)}async function _L({userId:n,postId:e,data:i}){const s=fs(),l=cs(s,"posts/"+n+"/"+e);bh(l,i)}async function yL({userId:n,postId:e}){const i=fs(),s=cs(i,"posts/"+n+"/"+e);await tL(s)}function Yt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var vL=typeof Symbol=="function"&&Symbol.observable||"@@observable",C0=vL,hm=()=>Math.random().toString(36).substring(7).split("").join("."),bL={INIT:`@@redux/INIT${hm()}`,REPLACE:`@@redux/REPLACE${hm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hm()}`},Yf=bL;function n_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function DC(n,e,i){if(typeof n!="function")throw new Error(Yt(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Yt(1));return i(DC)(n,e)}let s=n,l=e,u=new Map,c=u,d=0,p=!1;function m(){c===u&&(c=new Map,u.forEach((x,W)=>{c.set(W,x)}))}function _(){if(p)throw new Error(Yt(3));return l}function y(x){if(typeof x!="function")throw new Error(Yt(4));if(p)throw new Error(Yt(5));let W=!0;m();const G=d++;return c.set(G,x),function(){if(W){if(p)throw new Error(Yt(6));W=!1,m(),c.delete(G),u=null}}}function b(x){if(!n_(x))throw new Error(Yt(7));if(typeof x.type>"u")throw new Error(Yt(8));if(typeof x.type!="string")throw new Error(Yt(17));if(p)throw new Error(Yt(9));try{p=!0,l=s(l,x)}finally{p=!1}return(u=c).forEach(G=>{G()}),x}function S(x){if(typeof x!="function")throw new Error(Yt(10));s=x,b({type:Yf.REPLACE})}function O(){const x=y;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(Yt(11));function G(){const K=W;K.next&&K.next(_())}return G(),{unsubscribe:x(G)}},[C0](){return this}}}return b({type:Yf.INIT}),{dispatch:b,subscribe:y,getState:_,replaceReducer:S,[C0]:O}}function EL(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:Yf.INIT})>"u")throw new Error(Yt(12));if(typeof i(void 0,{type:Yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function SL(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const c=e[u];typeof n[c]=="function"&&(i[c]=n[c])}const s=Object.keys(i);let l;try{EL(i)}catch(u){l=u}return function(c={},d){if(l)throw l;let p=!1;const m={};for(let _=0;_<s.length;_++){const y=s[_],b=i[y],S=c[y],O=b(S,d);if(typeof O>"u")throw d&&d.type,new Error(Yt(14));m[y]=O,p=p||O!==S}return p=p||s.length!==Object.keys(c).length,p?m:c}}function Qf(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function TL(...n){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(Yt(15))};const c={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},d=n.map(p=>p(c));return u=Qf(...d)(l.dispatch),{...l,dispatch:u}}}function CL(n){return n_(n)&&"type"in n&&typeof n.type=="string"}var NC=Symbol.for("immer-nothing"),w0=Symbol.for("immer-draftable"),An=Symbol.for("immer-state");function $n(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Il=Object.getPrototypeOf;function ua(n){return!!n&&!!n[An]}function rr(n){var e;return n?MC(n)||Array.isArray(n)||!!n[w0]||!!((e=n.constructor)!=null&&e[w0])||Th(n)||Ch(n):!1}var wL=Object.prototype.constructor.toString();function MC(n){if(!n||typeof n!="object")return!1;const e=Il(n);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===wL}function Kf(n,e){Sh(n)===0?Reflect.ownKeys(n).forEach(i=>{e(i,n[i],n)}):n.forEach((i,s)=>e(s,i,n))}function Sh(n){const e=n[An];return e?e.type_:Array.isArray(n)?1:Th(n)?2:Ch(n)?3:0}function Jm(n,e){return Sh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function xC(n,e,i){const s=Sh(n);s===2?n.set(e,i):s===3?n.add(i):n[e]=i}function RL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Th(n){return n instanceof Map}function Ch(n){return n instanceof Set}function Hs(n){return n.copy_||n.base_}function eg(n,e){if(Th(n))return new Map(n);if(Ch(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const i=MC(n);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(n);delete s[An];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const c=l[u],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Il(n),s)}else{const s=Il(n);if(s!==null&&i)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function i_(n,e=!1){return wh(n)||ua(n)||!rr(n)||(Sh(n)>1&&(n.set=n.add=n.clear=n.delete=AL),Object.freeze(n),e&&Object.entries(n).forEach(([i,s])=>i_(s,!0))),n}function AL(){$n(2)}function wh(n){return Object.isFrozen(n)}var OL={};function ca(n){const e=OL[n];return e||$n(0,n),e}var Su;function IC(){return Su}function DL(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R0(n,e){e&&(ca("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function tg(n){ng(n),n.drafts_.forEach(NL),n.drafts_=null}function ng(n){n===Su&&(Su=n.parent_)}function A0(n){return Su=DL(Su,n)}function NL(n){const e=n[An];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function O0(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return n!==void 0&&n!==i?(i[An].modified_&&(tg(e),$n(4)),rr(n)&&(n=Wf(e,n),e.parent_||Xf(e,n)),e.patches_&&ca("Patches").generateReplacementPatches_(i[An].base_,n,e.patches_,e.inversePatches_)):n=Wf(e,i,[]),tg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==NC?n:void 0}function Wf(n,e,i){if(wh(e))return e;const s=e[An];if(!s)return Kf(e,(l,u)=>D0(n,s,e,l,u,i)),e;if(s.scope_!==n)return e;if(!s.modified_)return Xf(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,c=!1;s.type_===3&&(u=new Set(l),l.clear(),c=!0),Kf(u,(d,p)=>D0(n,s,l,d,p,i,c)),Xf(n,l,!1),i&&n.patches_&&ca("Patches").generatePatches_(s,i,n.patches_,n.inversePatches_)}return s.copy_}function D0(n,e,i,s,l,u,c){if(ua(l)){const d=u&&e&&e.type_!==3&&!Jm(e.assigned_,s)?u.concat(s):void 0,p=Wf(n,l,d);if(xC(i,s,p),ua(p))n.canAutoFreeze_=!1;else return}else c&&i.add(l);if(rr(l)&&!wh(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Wf(n,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&Xf(n,l)}}function Xf(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&i_(e,i)}function ML(n,e){const i=Array.isArray(n),s={type_:i?1:0,scope_:e?e.scope_:IC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=r_;i&&(l=[s],u=Tu);const{revoke:c,proxy:d}=Proxy.revocable(l,u);return s.draft_=d,s.revoke_=c,d}var r_={get(n,e){if(e===An)return n;const i=Hs(n);if(!Jm(i,e))return xL(n,i,e);const s=i[e];return n.finalized_||!rr(s)?s:s===dm(n.base_,e)?(pm(n),n.copy_[e]=rg(s,n)):s},has(n,e){return e in Hs(n)},ownKeys(n){return Reflect.ownKeys(Hs(n))},set(n,e,i){const s=LC(Hs(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const l=dm(Hs(n),e),u=l==null?void 0:l[An];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_[e]=!1,!0;if(RL(i,l)&&(i!==void 0||Jm(n.base_,e)))return!0;pm(n),ig(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_[e]=!0),!0},deleteProperty(n,e){return dm(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,pm(n),ig(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=Hs(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){$n(11)},getPrototypeOf(n){return Il(n.base_)},setPrototypeOf(){$n(12)}},Tu={};Kf(r_,(n,e)=>{Tu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Tu.deleteProperty=function(n,e){return Tu.set.call(this,n,e,void 0)};Tu.set=function(n,e,i){return r_.set.call(this,n[0],e,i,n[0])};function dm(n,e){const i=n[An];return(i?Hs(i):n)[e]}function xL(n,e,i){var l;const s=LC(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(n.draft_):void 0}function LC(n,e){if(!(e in n))return;let i=Il(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Il(i)}}function ig(n){n.modified_||(n.modified_=!0,n.parent_&&ig(n.parent_))}function pm(n){n.copy_||(n.copy_=eg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var IL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const c=this;return function(p=u,...m){return c.produce(p,_=>i.call(this,_,...m))}}typeof i!="function"&&$n(6),s!==void 0&&typeof s!="function"&&$n(7);let l;if(rr(e)){const u=A0(this),c=rg(e,void 0);let d=!0;try{l=i(c),d=!1}finally{d?tg(u):ng(u)}return R0(u,s),O0(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===NC&&(l=void 0),this.autoFreeze_&&i_(l,!0),s){const u=[],c=[];ca("Patches").generateReplacementPatches_(e,l,u,c),s(u,c)}return l}else $n(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let s,l;return[this.produce(e,i,(c,d)=>{s=c,l=d}),s,l]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){rr(n)||$n(8),ua(n)&&(n=LL(n));const e=A0(this),i=rg(n,void 0);return i[An].isManual_=!0,ng(e),i}finishDraft(n,e){const i=n&&n[An];(!i||!i.isManual_)&&$n(9);const{scope_:s}=i;return R0(s,e),O0(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(e=e.slice(i+1));const s=ca("Patches").applyPatches_;return ua(n)?s(n,e):this.produce(n,l=>s(l,e))}};function rg(n,e){const i=Th(n)?ca("MapSet").proxyMap_(n,e):Ch(n)?ca("MapSet").proxySet_(n,e):ML(n,e);return(e?e.scope_:IC()).drafts_.push(i),i}function LL(n){return ua(n)||$n(10,n),UC(n)}function UC(n){if(!rr(n)||wh(n))return n;const e=n[An];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=eg(n,e.scope_.immer_.useStrictShallowCopy_)}else i=eg(n,!0);return Kf(i,(s,l)=>{xC(i,s,UC(l))}),e&&(e.finalized_=!1),i}var On=new IL,kC=On.produce;On.produceWithPatches.bind(On);On.setAutoFreeze.bind(On);On.setUseStrictShallowCopy.bind(On);On.applyPatches.bind(On);On.createDraft.bind(On);On.finishDraft.bind(On);function PC(n){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,n):l(u)}var UL=PC(),kL=PC,PL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qf:Qf.apply(null,arguments)};function N0(n,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error($i(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>CL(s)&&s.type===n,i}var jC=class tu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,tu.prototype)}static get[Symbol.species](){return tu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new tu(...e[0].concat(this)):new tu(...e.concat(this))}};function M0(n){return rr(n)?kC(n,()=>{}):n}function uf(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function jL(n){return typeof n=="boolean"}var zL=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let c=new jC;return i&&(jL(i)?c.push(UL):c.push(kL(i.extraArgument))),c},HL="RTK_autoBatch",x0=n=>e=>{setTimeout(e,n)},BL=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x0(10):n.type==="callback"?n.queueNotification:x0(n.timeout),m=()=>{c=!1,u&&(u=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const y=()=>l&&_(),b=s.subscribe(y);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var y;try{return l=!((y=_==null?void 0:_.meta)!=null&&y[HL]),u=!l,u&&(c||(c=!0,p(m))),s.dispatch(_)}finally{l=!0}}})},FL=n=>function(i){const{autoBatch:s=!0}=i??{};let l=new jC(n);return s&&l.push(BL(typeof s=="object"?s:void 0)),l};function qL(n){const e=zL(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:c=void 0}=n||{};let d;if(typeof i=="function")d=i;else if(n_(i))d=SL(i);else throw new Error($i(1));let p;typeof s=="function"?p=s(e):p=e();let m=Qf;l&&(m=PL({trace:!1,...typeof l=="object"&&l}));const _=TL(...p),y=FL(_);let b=typeof c=="function"?c(y):y();const S=m(...b);return DC(d,u,S)}function zC(n){const e={},i=[];let s;const l={addCase(u,c){const d=typeof u=="string"?u:u.type;if(!d)throw new Error($i(28));if(d in e)throw new Error($i(29));return e[d]=c,l},addMatcher(u,c){return i.push({matcher:u,reducer:c}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,i,s]}function VL(n){return typeof n=="function"}function GL(n,e){let[i,s,l]=zC(e),u;if(VL(n))u=()=>M0(n());else{const d=M0(n);u=()=>d}function c(d=u(),p){let m=[i[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[l]),m.reduce((_,y)=>{if(y)if(ua(_)){const S=y(_,p);return S===void 0?_:S}else{if(rr(_))return kC(_,b=>y(b,p));{const b=y(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=u,c}var YL=Symbol.for("rtk-slice-createasyncthunk");function QL(n,e){return`${n}/${e}`}function KL({creators:n}={}){var i;const e=(i=n==null?void 0:n.asyncThunk)==null?void 0:i[YL];return function(l){const{name:u,reducerPath:c=u}=l;if(!u)throw new Error($i(11));const d=(typeof l.reducers=="function"?l.reducers(ZL()):l.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(K,Y){const ue=typeof K=="string"?K:K.type;if(!ue)throw new Error($i(12));if(ue in m.sliceCaseReducersByType)throw new Error($i(13));return m.sliceCaseReducersByType[ue]=Y,_},addMatcher(K,Y){return m.sliceMatchers.push({matcher:K,reducer:Y}),_},exposeAction(K,Y){return m.actionCreators[K]=Y,_},exposeCaseReducer(K,Y){return m.sliceCaseReducersByName[K]=Y,_}};p.forEach(K=>{const Y=d[K],ue={reducerName:K,type:QL(u,K),createNotation:typeof l.reducers=="function"};JL(Y)?tU(ue,Y,_,e):$L(ue,Y,_)});function y(){const[K={},Y=[],ue=void 0]=typeof l.extraReducers=="function"?zC(l.extraReducers):[l.extraReducers],L={...K,...m.sliceCaseReducersByType};return GL(l.initialState,Z=>{for(let ee in L)Z.addCase(ee,L[ee]);for(let ee of m.sliceMatchers)Z.addMatcher(ee.matcher,ee.reducer);for(let ee of Y)Z.addMatcher(ee.matcher,ee.reducer);ue&&Z.addDefaultCase(ue)})}const b=K=>K,S=new Map,O=new WeakMap;let U;function x(K,Y){return U||(U=y()),U(K,Y)}function W(){return U||(U=y()),U.getInitialState()}function G(K,Y=!1){function ue(Z){let ee=Z[K];return typeof ee>"u"&&Y&&(ee=uf(O,ue,W)),ee}function L(Z=b){const ee=uf(S,Y,()=>new WeakMap);return uf(ee,Z,()=>{const se={};for(const[ze,we]of Object.entries(l.selectors??{}))se[ze]=WL(we,Z,()=>uf(O,Z,W),Y);return se})}return{reducerPath:K,getSelectors:L,get selectors(){return L(ue)},selectSlice:ue}}const X={name:u,reducer:x,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:W,...G(c),injectInto(K,{reducerPath:Y,...ue}={}){const L=Y??c;return K.inject({reducerPath:L,reducer:x},ue),{...X,...G(L,!0)}}};return X}}function WL(n,e,i,s){function l(u,...c){let d=e(u);return typeof d>"u"&&s&&(d=i()),n(d,...c)}return l.unwrapped=n,l}var XL=KL();function ZL(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function $L({type:n,reducerName:e,createNotation:i},s,l){let u,c;if("reducer"in s){if(i&&!eU(s))throw new Error($i(17));u=s.reducer,c=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,c?N0(n,c):N0(n))}function JL(n){return n._reducerDefinitionType==="asyncThunk"}function eU(n){return n._reducerDefinitionType==="reducerWithPrepare"}function tU({type:n,reducerName:e},i,s,l){if(!l)throw new Error($i(18));const{payloadCreator:u,fulfilled:c,pending:d,rejected:p,settled:m,options:_}=i,y=l(n,u,_);s.exposeAction(e,y),c&&s.addCase(y.fulfilled,c),d&&s.addCase(y.pending,d),p&&s.addCase(y.rejected,p),m&&s.addMatcher(y.settled,m),s.exposeCaseReducer(e,{fulfilled:c||cf,pending:d||cf,rejected:p||cf,settled:m||cf})}function cf(){}function $i(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var nU="firebase",iU="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(nU,iU,"app");function s_(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rU=HC,BC=new xu("auth","Firebase",HC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Tg("@firebase/auth");function sU(n,...e){Zf.logLevel<=st.WARN&&Zf.warn(`Auth (${zl}): ${n}`,...e)}function _f(n,...e){Zf.logLevel<=st.ERROR&&Zf.error(`Auth (${zl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...e){throw a_(n,...e)}function Ei(n,...e){return a_(n,...e)}function FC(n,e,i){const s=Object.assign(Object.assign({},rU()),{[e]:i});return new xu("auth","Firebase",s).create(e,{appName:n.name})}function Ji(n){return FC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a_(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return BC.create(n,...e)}function Ee(n,e,...i){if(!n)throw a_(e,...i)}function Ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function sr(n,e){n||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aU(){return I0()==="http:"||I0()==="https:"}function I0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aU()||UD()||"connection"in navigator)?navigator.onLine:!0}function oU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i){this.shortDelay=e,this.longDelay=i,sr(i>e,"Short delay should be less than long delay!"),this.isMobile=Eg()||tT()}get(){return lU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,e){sr(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fU=new zu(3e4,6e4);function hs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ds(n,e,i,s,l={}){return VC(n,l,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=jl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},u);return LD()||(m.referrerPolicy="no-referrer"),qC.fetch()(await GC(n,n.config.apiHost,i,d),m)})}async function VC(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},uU),e);try{const l=new dU(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ff(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ff(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ff(n,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw FC(n,_,m);ri(n,_)}}catch(l){if(l instanceof us)throw l;ri(n,"network-request-failed",{message:String(l)})}}async function Hu(n,e,i,s,l={}){const u=await ds(n,e,i,s,l);return"mfaPendingCredential"in u&&ri(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function GC(n,e,i,s){const l=`${e}${i}?${s}`,u=n,c=u.config.emulator?l_(n.config,l):`${n.config.apiScheme}://${l}`;return cU.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function hU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),fU.get())})}}function ff(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ei(n,e,s);return l.customData._tokenResponse=i,l}function L0(n){return n!==void 0&&n.enterprise!==void 0}class pU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return hU(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mU(n,e){return ds(n,"GET","/v2/recaptchaConfig",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(n,e){return ds(n,"POST","/v1/accounts:delete",e)}async function $f(n,e){return ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _U(n,e=!1){const i=rn(n),s=await i.getIdToken(e),l=o_(s);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:lu(mm(l.auth_time)),issuedAtTime:lu(mm(l.iat)),expirationTime:lu(mm(l.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(n){return Number(n)*1e3}function o_(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nf(i);return l?JSON.parse(l):(_f("Failed to decode base64 JWT payload"),null)}catch(l){return _f("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function U0(n){const e=o_(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof us&&yU(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function yU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(n){var e;const i=n.auth,s=await n.getIdToken(),l=await Cu(n,$f(i,{idToken:s}));Ee(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?YC(u.providerUserInfo):[],d=EU(n.providerData,c),p=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new ag(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,y)}async function bU(n){const e=rn(n);await Jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EU(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function YC(n){return n.map(e=>{var{providerId:i}=e,s=s_(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(n,e){const i=await VC(n,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,c=await GC(n,l,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",qC.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TU(n,e){return ds(n,"POST","/v2/accounts:revokeToken",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=U0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await SU(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,c=new cl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),c.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=s_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ag(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return _U(this,e)}reload(){return bU(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Jf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Cu(this,gU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,c,d,p,m,_;const y=(s=i.displayName)!==null&&s!==void 0?s:void 0,b=(l=i.email)!==null&&l!==void 0?l:void 0,S=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,O=(c=i.photoURL)!==null&&c!==void 0?c:void 0,U=(d=i.tenantId)!==null&&d!==void 0?d:void 0,x=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,W=(m=i.createdAt)!==null&&m!==void 0?m:void 0,G=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:K,isAnonymous:Y,providerData:ue,stsTokenManager:L}=i;Ee(X&&L,e,"internal-error");const Z=cl.fromJSON(this.name,L);Ee(typeof X=="string",e,"internal-error"),Ur(y,e.name),Ur(b,e.name),Ee(typeof K=="boolean",e,"internal-error"),Ee(typeof Y=="boolean",e,"internal-error"),Ur(S,e.name),Ur(O,e.name),Ur(U,e.name),Ur(x,e.name),Ur(W,e.name),Ur(G,e.name);const ee=new ti({uid:X,auth:e,email:b,emailVerified:K,displayName:y,isAnonymous:Y,photoURL:O,phoneNumber:S,tenantId:U,stsTokenManager:Z,createdAt:W,lastLoginAt:G});return ue&&Array.isArray(ue)&&(ee.providerData=ue.map(se=>Object.assign({},se))),x&&(ee._redirectEventId=x),ee}static async _fromIdTokenResponse(e,i,s=!1){const l=new cl;l.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Jf(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?YC(l.providerUserInfo):[],c=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),d=new cl;d.updateFromIdToken(s);const p=new ti({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ag(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function Wi(n){sr(n instanceof Function,"Expected a class definition");let e=k0.get(n);return e?(sr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}QC.type="NONE";const P0=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n,e,i){return`firebase:${n}:${e}:${i}`}class fl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=yf(this.userKey,l.apiKey,u),this.fullPersistenceKey=yf("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $f(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new fl(Wi(P0),e,s);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Wi(P0);const c=yf(s,e.config.apiKey,e.name);let d=null;for(const m of i)try{const _=await m._get(c);if(_){let y;if(typeof _=="string"){const b=await $f(e,{idToken:_}).catch(()=>{});if(!b)break;y=await ti._fromGetAccountInfoResponse(e,b,_)}else y=ti._fromJSON(e,_);m!==u&&(d=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fl(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new fl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JC(e))return"Blackberry";if(ew(e))return"Webos";if(WC(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KC(n=nn()){return/firefox\//i.test(n)}function WC(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(n=nn()){return/crios\//i.test(n)}function ZC(n=nn()){return/iemobile/i.test(n)}function $C(n=nn()){return/android/i.test(n)}function JC(n=nn()){return/blackberry/i.test(n)}function ew(n=nn()){return/webos/i.test(n)}function u_(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CU(n=nn()){var e;return u_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wU(){return kD()&&document.documentMode===10}function tw(n=nn()){return u_(n)||$C(n)||ew(n)||JC(n)||/windows phone/i.test(n)||ZC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n,e=[]){let i;switch(n){case"Browser":i=j0(nn());break;case"Worker":i=`${j0(nn())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${zl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(n,e={}){return ds(n,"GET","/v2/passwordPolicy",hs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=6;class DU{constructor(e){var i,s,l,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=c.minPasswordLength)!==null&&i!==void 0?i:OU,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new RU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $f(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(c){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jf(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Ji(this));const i=e?rn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AU(this),i=new DU(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await TU(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wi(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{c=!0,p()}}else{const p=e.addObserver(i);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&sU(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ga(n){return rn(n)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=YD(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MU(n){Rh=n}function iw(n){return Rh.loadJS(n)}function xU(){return Rh.recaptchaEnterpriseScript}function IU(){return Rh.gapiScript}function LU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UU{constructor(){this.enterprise=new kU}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class kU{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const PU="recaptcha-enterprise",rw="NO_RECAPTCHA";class jU{constructor(e){this.type=PU,this.auth=ga(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{mU(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new pU(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function l(u,c,d){const p=window.grecaptcha;L0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(rw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UU().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!i&&L0(window.grecaptcha))l(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xU();p.length!==0&&(p+=d),iw(p).then(()=>{l(d,u,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function H0(n,e,i,s=!1,l=!1){const u=new jU(n);let c;if(l)c=rw;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function lg(n,e,i,s,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await H0(n,e,i,i==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await H0(n,e,i,i==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n,e){const i=wg(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ra(u,e??{}))return l;ri(l,"already-initialized")}return i.initialize({options:e})}function HU(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BU(n,e,i){const s=ga(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=sw(e),{host:c,port:d}=FU(e),p=d===null?"":`:${d}`,m={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ra(m,s.config.emulator)&&ra(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,qU()}function sw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FU(n){const e=sw(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:B0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:B0(c)}}}function B0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qU(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,i){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function VU(n,e){return ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n,e){return Hu(n,"POST","/v1/accounts:signInWithPassword",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(n,e){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",hs(n,e))}async function QU(n,e){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends c_{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new wu(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new wu(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,i,"signInWithPassword",GU);case"emailLink":return YU(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,s,"signUpPassword",VU);case"emailLink":return QU(e,{idToken:i,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return Hu(n,"POST","/v1/accounts:signInWithIdp",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="http://localhost";class fa extends c_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=s_(i,["providerId","signInMethod"]);if(!s||!l)return null;const c=new fa(s,l);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const i=this.buildRequest();return hl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,hl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,hl(e,i)}buildRequest(){const e={requestUri:KU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=jl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XU(n){const e=Jo(eu(n)).link,i=e?Jo(eu(e)).deep_link_id:null,s=Jo(eu(n)).deep_link_id;return(s?Jo(eu(s)).link:null)||s||i||e||n}class f_{constructor(e){var i,s,l,u,c,d;const p=Jo(eu(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,y=WU((l=p.mode)!==null&&l!==void 0?l:null);Ee(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=XU(e);try{return new f_(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(e,i){return wu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=f_.parseLink(i);return Ee(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends aw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Bu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Bu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Bu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e){return Hu(n,"POST","/v1/accounts:signUp",hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await ti._fromIdTokenResponse(e,s,l),c=F0(s);return new ha({user:u,providerId:c,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=F0(s);return new ha({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function F0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends us{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new eh(e,i,s,l)}}function lw(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(n,u,e,s):u})}async function $U(n,e,i=!1){const s=await Cu(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return ha._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(n,e,i=!1){const{auth:s}=n;if(qn(s.app))return Promise.reject(Ji(s));const l="reauthenticate";try{const u=await Cu(n,lw(s,l,e,n),i);Ee(u.idToken,s,"internal-error");const c=o_(u.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(n.uid===d,s,"user-mismatch"),ha._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(n,e,i=!1){if(qn(n.app))return Promise.reject(Ji(n));const s="signIn",l=await lw(n,s,e),u=await ha._fromIdTokenResponse(n,s,l);return i||await n._updateCurrentUser(u.user),u}async function ek(n,e){return ow(ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n){const e=ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tk(n,e,i){if(qn(n.app))return Promise.reject(Ji(n));const s=ga(n),c=await lg(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZU).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&uw(n),p}),d=await ha._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function nk(n,e,i){return qn(n.app)?Promise.reject(Ji(n)):ek(rn(n),ql.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uw(n),s})}function ik(n,e,i,s){return rn(n).onIdTokenChanged(e,i,s)}function rk(n,e,i){return rn(n).beforeAuthStateChanged(e,i)}function sk(n,e,i,s){return rn(n).onAuthStateChanged(e,i,s)}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1e3,lk=10;class fw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const c=this.storage.getItem(s);!i&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);wU()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,lk):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fw.type="LOCAL";const ok=fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}hw.type="SESSION";const dw=hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Ah(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,c=this.handlersMap[l];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const d=Array.from(c).map(async m=>m(i.origin,u)),p=await uk(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const m=h_("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:l,onMessage(y){const b=y;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),l.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function fk(n){Si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function hk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pk(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",mk=1,nh="firebaseLocalStorage",gw="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(n,e){return n.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function gk(){const n=indexedDB.deleteDatabase(mw);return new Fu(n).toPromise()}function og(){const n=indexedDB.open(mw,mk);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(nh,{keyPath:gw})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(nh)?e(s):(s.close(),await gk(),e(await og()))})})}async function q0(n,e,i){const s=Oh(n,!0).put({[gw]:e,value:i});return new Fu(s).toPromise()}async function _k(n,e){const i=Oh(n,!1).get(e),s=await new Fu(i).toPromise();return s===void 0?null:s.value}function V0(n,e){const i=Oh(n,!0).delete(e);return new Fu(i).toPromise()}const yk=800,vk=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>vk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(pk()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await hk(),!this.activeServiceWorker)return;this.sender=new ck(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await q0(e,th,"1"),await V0(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>q0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>_k(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>V0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Oh(l,!1).getAll();return new Fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const bk=_w;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n,e){return e?Wi(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends c_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return hl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Sk(n){return ow(n.auth,new d_(n),n.bypassAuthState)}function Tk(n){const{auth:e,user:i}=n;return Ee(i,e,"internal-error"),JU(i,new d_(n),n.bypassAuthState)}async function Ck(n){const{auth:e,user:i}=n;return Ee(i,e,"internal-error"),$U(i,new d_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sk;case"linkViaPopup":case"linkViaRedirect":return Ck;case"reauthViaPopup":case"reauthViaRedirect":return Tk;default:ri(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new zu(2e3,1e4);class al extends yw{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=h_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wk.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="pendingRedirect",vf=new Map;class Ak extends yw{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const s=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(n,e){const i=Mk(e),s=Nk(n);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Dk(n,e){vf.set(n._key(),e)}function Nk(n){return Wi(n._redirectPersistence)}function Mk(n){return yf(Rk,n.config.apiKey,n.name)}async function xk(n,e,i=!1){if(qn(n.app))return Promise.reject(Ji(n));const s=ga(n),l=Ek(s,e),c=await new Ak(s,l,i).execute();return c&&!i&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=10*60*1e3;class Lk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uk(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!vw(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Ei(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Uk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e={}){return ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jk=/^https?/;async function zk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kk(n);for(const i of e)try{if(Hk(i))return}catch{}ri(n,"unauthorized-domain")}function Hk(n){const e=sg(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===s}if(!jk.test(i))return!1;if(Pk.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new zu(3e4,6e4);function Y0(){const n=Si().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function Fk(n){return new Promise((e,i)=>{var s,l,u;function c(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),i(Ei(n,"network-request-failed"))},timeout:Bk.get()})}if(!((l=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Si().gapi)===null||u===void 0)&&u.load)c();else{const d=LU("iframefcb");return Si()[d]=()=>{gapi.load?c():i(Ei(n,"network-request-failed"))},iw(`${IU()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw bf=null,e})}let bf=null;function qk(n){return bf=bf||Fk(n),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new zu(5e3,15e3),Gk="__/auth/iframe",Yk="emulator/auth/iframe",Qk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wk(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?l_(e,Yk):`https://${n.config.authDomain}/${Gk}`,s={apiKey:e.apiKey,appName:n.name,v:zl},l=Kk.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${jl(s).slice(1)}`}async function Xk(n){const e=await qk(n),i=Si().gapi;return Ee(i,n,"internal-error"),e.open({where:document.body,url:Wk(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qk,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ei(n,"network-request-failed"),d=Si().setTimeout(()=>{u(c)},Vk.get());function p(){Si().clearTimeout(d),l(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$k=500,Jk=600,eP="_blank",tP="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(n,e,i,s=$k,l=Jk){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Zk),{width:s.toString(),height:l.toString(),top:u,left:c}),m=nn().toLowerCase();i&&(d=XC(m)?eP:i),KC(m)&&(e=e||tP,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[S,O])=>`${b}${S}=${O},`,"");if(CU(m)&&d!=="_self")return iP(e||"",d),new Q0(null);const y=window.open(e||"",d,_);Ee(y,n,"popup-blocked");try{y.focus()}catch{}return new Q0(y)}function iP(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__/auth/handler",sP="emulator/auth/handler",aP=encodeURIComponent("fac");async function K0(n,e,i,s,l,u){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:zl,eventId:l};if(e instanceof aw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Pm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(e instanceof Bu){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${aP}=${encodeURIComponent(p)}`:"";return`${lP(n)}?${jl(d).slice(1)}${m}`}function lP({config:n}){return n.emulator?l_(n,sP):`https://${n.authDomain}/${rP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class oP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=xk,this._overrideRedirectResult=Dk}async _openPopup(e,i,s,l){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await K0(e,i,s,sg(),l);return nP(e,c,h_())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await K0(e,i,s,sg(),l);return fk(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await Xk(e),s=new Lk(e);return i.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(gm,{type:gm},l=>{var u;const c=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[gm];c!==void 0&&i(!!c),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zk(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return tw()||WC()||u_()}}const uP=oP;var W0="@firebase/auth",X0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(n){Dl(new sa("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(n)},m=new NU(s,l,u,p);return HU(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Dl(new sa("auth-internal",e=>{const i=ga(e.getProvider("auth").getImmediate());return(s=>new cP(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(W0,X0,fP(n)),ts(W0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=5*60,pP=eT("authIdTokenMaxAge")||dP;let Z0=null;const mP=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>pP)return;const l=i==null?void 0:i.token;Z0!==l&&(Z0=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gP(n=aT()){const e=wg(n,"auth");if(e.isInitialized())return e.getImmediate();const i=zU(n,{popupRedirectResolver:uP,persistence:[bk,ok,dw]}),s=eT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=mP(u.toString());rk(i,c,()=>c(i.currentUser)),ik(i,d=>c(d))}}const l=$S("auth");return l&&BU(i,`http://${l}`),i}function _P(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MU({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=Ei("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",_P().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");const yP={apiKey:"AIzaSyDUVV7OxSzEWM5G6tT9aaukNX6Ape-gX_8",authDomain:"blog-dashboard-17633.firebaseapp.com",databaseURL:"https://blog-dashboard-17633-default-rtdb.firebaseio.com",projectId:"blog-dashboard-17633",storageBucket:"blog-dashboard-17633.firebasestorage.app",messagingSenderId:"677969949324",appId:"1:677969949324:web:5ce22647281a3acdf0c1a9",measurementId:"G-M77PM6319W"},vP=sT(yP),Dh=gP(vP),bP={isAuthenticated:!1,currentUser:null,loading:!0},bw=XL({name:"auth",initialState:bP,reducers:{setUser(n,e){n.isAuthenticated=e.payload.isAuthenticated,n.currentUser=e.payload.currentUser},clearUser(n){n.isAuthenticated=!1,n.currentUser=null},setLoading(n,e){n.loading=e.payload}}}),Ef=bw.actions,EP=bw.reducer,Sf=qL({reducer:{auth:EP}}),SP=()=>sk(Dh,async n=>{if(n){const e={uid:n.uid,email:n.email},i=await n.getIdToken();localStorage.setItem("firebaseToken",i),Sf.dispatch(Ef.setUser({currentUser:e,isAuthenticated:!0}))}else localStorage.removeItem("firebaseToken"),Sf.dispatch(Ef.clearUser());Sf.dispatch(Ef.setLoading(!1))});function TP(){const n=localStorage.getItem("firebaseToken");return n||null}const CP=async({data:n})=>tk(Dh,n.email,n.password),wP=async({data:n})=>nk(Dh,n.email,n.password),RP=()=>Dh.signOut(),AP="_header_doadl_1",OP="_nav_doadl_29",DP="_active_doadl_77",il={header:AP,nav:OP,active:DP},NP="_errorBlock_1mxld_1",MP="_errorBlockIcon_1mxld_25",_m={errorBlock:NP,errorBlockIcon:MP};function Ll({title:n,message:e}){return A.jsxs("div",{className:_m.errorBlock,children:[A.jsx("div",{className:_m.errorBlockIcon,children:"!"}),A.jsxs("div",{className:_m.errorBlockText,children:[A.jsx("h2",{children:n}),A.jsx("p",{children:e})]})]})}function Ew(){var d;const n=pa(),e=ii(p=>p.auth.isAuthenticated),i=i1(),{mutate:s,isError:l,error:u}=ea({mutationFn:RP,onSuccess:()=>{i(Ef.clearUser()),n("/auth?mode=login")}});if(l)return A.jsx(Ll,{title:"An error occurred",message:((d=u.info)==null?void 0:d.message)||"Failed to Logout",children:u.message});function c(p){p.preventDefault(),s()}return A.jsx("header",{className:il.header,children:A.jsx("nav",{className:il.nav,children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(rl,{to:"/",className:({isActive:p})=>p?il.active:void 0,children:"Home"})}),A.jsx("li",{children:A.jsx(rl,{to:"/posts",className:({isActive:p})=>p?il.active:void 0,children:"Posts"})}),A.jsx("li",{children:A.jsx(rl,{to:"/dashboard",className:({isActive:p})=>p?il.active:void 0,children:"Dashboard"})}),!e&&A.jsx("li",{children:A.jsx(rl,{to:"/auth?mode=login",className:({isActive:p})=>p?il.active:void 0,children:"Login"})}),e&&A.jsx("li",{children:A.jsx("button",{onClick:c,children:"Logout"})})]})})})}function xP(){return A.jsxs(A.Fragment,{children:[A.jsx(Ew,{}),A.jsx("main",{children:A.jsx(MS,{})})]})}const IP="_getStarted_18j25_1",LP="_start_18j25_37",$0={getStarted:IP,start:LP},UP="_ldsRing_1y8hs_1",kP={ldsRing:UP};function ar(){return A.jsxs("div",{className:kP.ldsRing,children:[A.jsx("div",{}),A.jsx("div",{}),A.jsx("div",{}),A.jsx("div",{})]})}function PP(){const n=ii(e=>e.auth.loading);return A.jsx(A.Fragment,{children:n?A.jsx(ar,{}):A.jsxs("div",{className:$0.getStarted,children:[A.jsx("h1",{children:"Welcome to the Blog Dashboard"}),A.jsx("p",{children:"Welcome to our blog! To get started, you can create a new post or explore existing ones. Use the navigation menu to find your way around."}),A.jsxs("p",{children:["If you're new here, we recommend checking out our"," ",A.jsx(Mu,{className:$0.start,to:"/posts",children:"Posts"})," ","section to see what others are writing about."]})]})})}function jP(){return A.jsx(PP,{})}const zP="_postsContainer_u1jab_1",HP="_post_u1jab_1",BP="_postHeader_u1jab_51",FP="_author_u1jab_85",qP="_date_u1jab_101",VP="_content_u1jab_117",GP="_actions_u1jab_139",YP="_edit_u1jab_173",QP="_emptyPosts_u1jab_191",gi={postsContainer:zP,post:HP,postHeader:BP,author:FP,date:qP,content:VP,actions:GP,edit:YP,delete:"_delete_u1jab_181",emptyPosts:QP};function Sw({posts:n,from:e}){const i=ii(d=>d.auth.isAuthenticated),s=ii(d=>d.auth.currentUser),l=pa(),{mutate:u}=ea({mutationFn:yL,onSuccess:()=>{Gf.invalidateQueries(["posts"]),l("/dashboard")}});function c(d){const p=s.uid;window.confirm("Are you Sure To Delte This Post")&&u({userId:p,postId:d})}return A.jsx(A.Fragment,{children:n&&n.length>0?A.jsx("div",{className:gi.postsContainer,children:n.map(d=>A.jsxs("div",{className:gi.post,children:[A.jsxs("div",{className:gi.postHeader,children:[A.jsx("h2",{children:d.title}),A.jsxs("p",{className:gi.author,children:["Author: ",d.author]}),A.jsxs("p",{className:gi.date,children:["Date: ",new Date(d.date).toLocaleDateString()]})]}),A.jsx("p",{className:gi.content,children:d.content}),A.jsx("div",{className:gi.actions,children:i&&e==="dashboard"&&A.jsxs(A.Fragment,{children:[A.jsx(Mu,{className:gi.edit,to:`/dashboard/${d.groupKey}/edit`,children:"Edit"}),A.jsx("button",{className:gi.delete,onClick:()=>{c(d.groupKey)},children:"Delete"})]})})]},d.groupKey))}):A.jsx("p",{className:gi.emptyPosts,children:" No Posts Available"})})}function KP(){var l;const{data:n,isPending:e,isError:i,error:s}=oh({queryKey:["posts"],queryFn:fL});return e?A.jsx(ar,{}):i?A.jsx(Ll,{title:"An error occurred",message:((l=s.info)==null?void 0:l.message)||"Failed to fetch posts",children:s.message}):A.jsxs("div",{children:[A.jsx("h1",{children:"All Posts"}),A.jsx(Sw,{posts:n})]})}const WP="_form_16ucx_1",XP="_control_16ucx_37",ZP="_actions_16ucx_113",$P="_loading_16ucx_165",JP="_error_16ucx_175",Hn={form:WP,control:XP,actions:ZP,loading:$P,error:JP};function e2(){var p,m;const n=pa(),[e]=qO(),i=e.get("mode")==="login",s=ea({mutationFn:CP,onSuccess:(_,y)=>{const b={...y.data};delete b.password;const S=_.user.uid;u.mutate({userId:S,filteredData:b})}}),l=ea({mutationFn:wP,onSuccess:()=>{n("/dashboard")}}),u=ea({mutationFn:mL,onSuccess:()=>{n("/dashboard")}}),c=async _=>{_.preventDefault();const y=new FormData(_.target),b=Object.fromEntries(y.entries());l.mutate({data:b})},d=async _=>{_.preventDefault();const y=new FormData(_.target),b=Object.fromEntries(y.entries());s.mutate({data:b})};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:i?c:d,className:Hn.form,children:[A.jsx("h2",{children:i?"Log in":"Register"}),A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"email",children:"Email"}),A.jsx("input",{id:"email",type:"email",name:"email",required:!0})]}),A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"image",children:"Password"}),A.jsx("input",{id:"password",type:"password",name:"password",required:!0})]}),!i&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"name",children:"User Name"}),A.jsx("input",{id:"name",type:"text",name:"name",required:!0})]}),A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"location",children:"Location"}),A.jsx("input",{id:"location",type:"text",name:"location",required:!0})]}),A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"position",children:"Position"}),A.jsx("input",{id:"position",type:"text",name:"position",required:!0})]}),A.jsxs("div",{className:Hn.control,children:[A.jsx("label",{htmlFor:"bio",children:"Bio"}),A.jsx("textarea",{id:"bio",name:"bio",rows:5,required:!0})]})]}),A.jsxs("div",{className:Hn.actions,children:[A.jsx(Mu,{to:`?mode=${i?"signup":"login"}`,children:i?"Register":"Login"}),A.jsx("button",{disabled:s.isPending,children:s.isPending?"Submitting...":i?"Login":"Register"})]})]}),l.isPending&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:Hn.loading,children:" Sign In......"}),A.jsx(ar,{})]}),l.isError&&A.jsx("p",{className:Hn.error,children:((p=l.error.info)==null?void 0:p.message)||"Failed to login. Please check your inputs and try again later."}),s.isPending&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:Hn.loading,children:" Sign Up......"}),A.jsx(ar,{})]}),s.isError&&A.jsx("p",{className:Hn.error,children:((m=s.error.info)==null?void 0:m.message)||"Failed to register. Please check your inputs and try again later."})]})}function t2(){return TP()!==null?A.jsx(lh,{to:"/posts"}):A.jsx(e2,{})}const n2="_form_13033_1",i2="_control_13033_21",r2="_actions_13033_79",s2="_submit_13033_105",a2="_cancel_13033_115",_i={form:n2,control:i2,actions:r2,submit:s2,cancel:a2};function Tw({method:n,post:e}){var b,S;const s=ii(O=>O.auth.currentUser).uid,u=RS().postId,c=pa();function d(){c("/dashboard")}const p=ea({mutationFn:gL,onSuccess:()=>{Gf.invalidateQueries(["posts"]),c("/dashboard")}}),m=ea({mutationFn:_L,onSuccess:()=>{Gf.invalidateQueries(["posts"]),c("/dashboard")}});function _(O){O.preventDefault();const U=new FormData(O.target),x=Object.fromEntries(U.entries());p.mutate({userId:s,data:x})}function y(O){O.preventDefault();const U=new FormData(O.target),x=Object.fromEntries(U.entries());m.mutate({userId:s,postId:u,data:x})}return A.jsxs(A.Fragment,{children:[A.jsxs("form",{className:_i.form,onSubmit:n==="new"?_:y,children:[A.jsxs("div",{className:_i.control,children:[A.jsx("label",{htmlFor:"title",children:"Title:"}),A.jsx("input",{type:"text",id:"title",name:"title",required:!0,defaultValue:e?e.title:""})]}),A.jsxs("div",{className:_i.control,children:[A.jsx("label",{htmlFor:"author",children:"Author:"}),A.jsx("input",{type:"text",id:"author",name:"author",required:!0,defaultValue:e?e.author:""})]}),A.jsxs("div",{className:_i.control,children:[A.jsx("label",{htmlFor:"date",children:"Date:"}),A.jsx("input",{type:"date",id:"date",name:"date",required:!0,defaultValue:e?e.date:""})]}),A.jsxs("div",{className:_i.control,children:[A.jsx("label",{htmlFor:"content",children:"Content:"}),A.jsx("textarea",{id:"content",name:"content",rows:5,required:!0,defaultValue:e?e.content:""})]}),A.jsxs("div",{className:_i.actions,children:[A.jsx("button",{type:"submit",className:_i.submit,children:n==="new"?"Create Post":"Update Post"}),A.jsx("button",{type:"button",className:_i.cancel,onClick:d,children:"Cancel"})]})]}),p.isLoading&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:_i.loading,children:" Creating Post......"}),A.jsx(ar,{})]}),p.isError&&A.jsx(Ll,{title:"An error occurred",message:((b=p.error.info)==null?void 0:b.message)||"Failed to create post"}),m.isLoading&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:_i.loading,children:"Updating post..."}),A.jsx(ar,{})]}),m.isError&&A.jsx(Ll,{title:"An error occurred",message:((S=p.error.info)==null?void 0:S.message)||"Failed to update post"})]})}function l2(){var _;const n=ii(y=>y.auth.isAuthenticated),e=ii(y=>y.auth.currentUser),i=e.uid,l=RS().postId,{data:u,isPending:c,isError:d,error:p}=oh({queryKey:["posts",l],queryFn:()=>dL({userId:i,postId:l}),enabled:e!==null});if(!n)return A.jsx(lh,{to:"/auth?mode=login"});let m;return c&&(m=A.jsx(ar,{})),d&&(m=A.jsx(ErrorBlock,{title:"An error occurred",message:((_=p.info)==null?void 0:_.message)||"Failed to fetch posts",children:p.message})),u&&(m=A.jsx(Tw,{post:u})),A.jsx("div",{children:m})}const o2="_header_12bjj_1",u2="_list_12bjj_13",c2="_active_12bjj_61",hf={header:o2,list:u2,active:c2};function f2(){return A.jsx("header",{className:hf.header,children:A.jsx("nav",{children:A.jsxs("ul",{className:hf.list,children:[A.jsx("li",{children:A.jsx(rl,{to:"",className:({isActive:n})=>n?hf.active:void 0,end:!0,children:"All Posts"})}),A.jsx("li",{children:A.jsx(rl,{to:"new",className:({isActive:n})=>n?hf.active:void 0,children:"New Post"})})]})})})}function h2(){return A.jsxs(A.Fragment,{children:[A.jsx(f2,{}),A.jsx(MS,{})]})}function d2(){return ii(e=>e.auth.isAuthenticated)?A.jsx(Tw,{method:"new"}):A.jsx(lh,{to:"/auth?mode=login"})}const p2="_profileInfo_1hs84_1",m2="_userData_1hs84_27",g2="_userDetails_1hs84_45",_2="_bio_1hs84_89",df={profileInfo:p2,userData:m2,userDetails:g2,bio:_2};function y2(){var d;const n=ii(p=>p.auth.currentUser),e=n.uid,{data:i,isPending:s,isError:l,error:u}=oh({queryKey:["userData",n.uid],queryFn:()=>pL({userId:e})});let c;return s&&(c=A.jsx(ar,{})),l&&(c=A.jsx(Ll,{title:"An error occurred",message:((d=u.info)==null?void 0:d.message)||"Failed to fetch posts",children:u.message})),i&&(c=A.jsxs("div",{className:df.userData,children:[A.jsxs("div",{className:df.userDetails,children:[A.jsxs("p",{children:[A.jsx("span",{children:"Name:"})," ",i.name]}),A.jsxs("p",{children:[A.jsx("span",{children:"Email:"})," ",i.email]}),A.jsxs("p",{children:[A.jsx("span",{children:"Position:"})," ",i.position]}),A.jsxs("p",{children:[A.jsx("span",{children:"Location:"})," ",i.location]})]}),A.jsx("p",{className:df.bio,children:i.bio})]})),A.jsxs("div",{className:df.profileInfo,children:[A.jsx("h2",{children:"Profile Information"}),c]})}function v2(){var c;const n=ii(d=>d.auth.isAuthenticated),e=ii(d=>d.auth.currentUser),{data:i,isPending:s,isError:l,error:u}=oh({queryKey:["posts",e==null?void 0:e.uid],queryFn:()=>hL({userId:e==null?void 0:e.uid}),enabled:n});return n?s?A.jsx(ar,{}):l?A.jsx(Ll,{title:"An error occurred",message:((c=u.info)==null?void 0:c.message)||"Failed to fetch posts",children:u.message}):A.jsxs("div",{children:[A.jsx("h1",{children:"Dashboard"}),A.jsx("p",{children:"Welcome to the dashboard!"}),A.jsx(y2,{}),A.jsx("h2",{children:"Your Posts"}),A.jsx(Sw,{posts:i,from:"dashboard"})]}):A.jsx(lh,{to:"/auth?mode=login"})}function b2(){const n=NS();let e="An Error Occured!",i="Something Went Wrong!";return n.status===500&&(i=JSON.parse(n.data).message),n.status===404&&(e="Not Found",i="Could not find resource"),A.jsxs(A.Fragment,{children:[A.jsx(Ew,{}),A.jsxs("div",{children:[A.jsx("h1",{children:e}),A.jsx("p",{children:i}),A.jsx(Mu,{to:"/",children:"Home"})]})]})}const E2=OO([{path:"/",element:A.jsx(xP,{}),errorElement:A.jsx(b2,{}),children:[{index:!0,element:A.jsx(jP,{})},{path:"auth",element:A.jsx(t2,{})},{path:"posts",element:A.jsx(h2,{}),children:[{index:!0,element:A.jsx(KP,{})},{path:"new",element:A.jsx(d2,{})}]},{path:"dashboard",element:A.jsx(v2,{})},{path:"dashboard/:postId/edit",element:A.jsx(l2,{})}]}]);function S2(){return SP(),A.jsx(fD,{client:Gf,children:A.jsx(kO,{router:E2})})}zA.createRoot(document.getElementById("root")).render(A.jsx(z.StrictMode,{children:A.jsx(e1,{store:Sf,children:A.jsx(S2,{})})}));
